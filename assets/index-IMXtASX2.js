function $2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _T(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vT={exports:{}},ef={},yT={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),b2=Symbol.for("react.portal"),B2=Symbol.for("react.fragment"),z2=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),W2=Symbol.for("react.provider"),H2=Symbol.for("react.context"),q2=Symbol.for("react.forward_ref"),G2=Symbol.for("react.suspense"),K2=Symbol.for("react.memo"),Q2=Symbol.for("react.lazy"),Nw=Symbol.iterator;function Y2(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var wT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ET=Object.assign,TT={};function qo(t,e,n){this.props=t,this.context=e,this.refs=TT,this.updater=n||wT}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IT(){}IT.prototype=qo.prototype;function Bm(t,e,n){this.props=t,this.context=e,this.refs=TT,this.updater=n||wT}var zm=Bm.prototype=new IT;zm.constructor=Bm;ET(zm,qo.prototype);zm.isPureReactComponent=!0;var Dw=Array.isArray,ST=Object.prototype.hasOwnProperty,jm={current:null},AT={key:!0,ref:!0,__self:!0,__source:!0};function RT(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)ST.call(e,r)&&!AT.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var h=Array(c),d=0;d<c;d++)h[d]=arguments[d+2];i.children=h}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ql,type:t,key:s,ref:l,props:i,_owner:jm.current}}function X2(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function J2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ow=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?J2(""+t.key):e.toString(36)}function $c(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ql:case b2:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Ep(l,0):r,Dw(i)?(n="",t!=null&&(n=t.replace(Ow,"$&/")+"/"),$c(i,e,n,"",function(d){return d})):i!=null&&(Wm(i)&&(i=X2(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ow,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Dw(t))for(var c=0;c<t.length;c++){s=t[c];var h=r+Ep(s,c);l+=$c(s,e,n,h,i)}else if(h=Y2(t),typeof h=="function")for(t=h.call(t),c=0;!(s=t.next()).done;)s=s.value,h=r+Ep(s,c++),l+=$c(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function dc(t,e,n){if(t==null)return t;var r=[],i=0;return $c(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Z2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},bc={transition:null},eV={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:bc,ReactCurrentOwner:jm};Te.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!Wm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=qo;Te.Fragment=B2;Te.Profiler=j2;Te.PureComponent=Bm;Te.StrictMode=z2;Te.Suspense=G2;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eV;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ET({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)ST.call(e,h)&&!AT.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Ql,type:t.type,key:i,ref:s,props:r,_owner:l}};Te.createContext=function(t){return t={$$typeof:H2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W2,_context:t},t.Consumer=t};Te.createElement=RT;Te.createFactory=function(t){var e=RT.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:q2,render:t}};Te.isValidElement=Wm;Te.lazy=function(t){return{$$typeof:Q2,_payload:{_status:-1,_result:t},_init:Z2}};Te.memo=function(t,e){return{$$typeof:K2,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=bc.transition;bc.transition={};try{t()}finally{bc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return Qt.current.useCallback(t,e)};Te.useContext=function(t){return Qt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Qt.current.useEffect(t,e)};Te.useId=function(){return Qt.current.useId()};Te.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Qt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};Te.useRef=function(t){return Qt.current.useRef(t)};Te.useState=function(t){return Qt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Qt.current.useTransition()};Te.version="18.2.0";yT.exports=Te;var j=yT.exports;const tV=_T(j),nV=$2({__proto__:null,default:tV},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rV=j,iV=Symbol.for("react.element"),sV=Symbol.for("react.fragment"),oV=Object.prototype.hasOwnProperty,aV=rV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lV={key:!0,ref:!0,__self:!0,__source:!0};function CT(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)oV.call(e,r)&&!lV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iV,type:t,key:s,ref:l,props:i,_owner:aV.current}}ef.Fragment=sV;ef.jsx=CT;ef.jsxs=CT;vT.exports=ef;var x=vT.exports,dg={},PT={exports:{}},En={},kT={exports:{}},xT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,he){var fe=K.length;K.push(he);e:for(;0<fe;){var Ce=fe-1>>>1,nt=K[Ce];if(0<i(nt,he))K[Ce]=he,K[fe]=nt,fe=Ce;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var he=K[0],fe=K.pop();if(fe!==he){K[0]=fe;e:for(var Ce=0,nt=K.length,Vs=nt>>>1;Ce<Vs;){var Ar=2*(Ce+1)-1,or=K[Ar],An=Ar+1,Ms=K[An];if(0>i(or,fe))An<nt&&0>i(Ms,or)?(K[Ce]=Ms,K[An]=fe,Ce=An):(K[Ce]=or,K[Ar]=fe,Ce=Ar);else if(An<nt&&0>i(Ms,fe))K[Ce]=Ms,K[An]=fe,Ce=An;else break e}}return he}function i(K,he){var fe=K.sortIndex-he.sortIndex;return fe!==0?fe:K.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,v=null,y=3,S=!1,P=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(K){for(var he=n(d);he!==null;){if(he.callback===null)r(d);else if(he.startTime<=K)r(d),he.sortIndex=he.expirationTime,e(h,he);else break;he=n(d)}}function D(K){if(k=!1,A(K),!P)if(n(h)!==null)P=!0,ua(B);else{var he=n(d);he!==null&&zn(D,he.startTime-K)}}function B(K,he){P=!1,k&&(k=!1,T(H),H=-1),S=!0;var fe=y;try{for(A(he),v=n(h);v!==null&&(!(v.expirationTime>he)||K&&!zt());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,y=v.priorityLevel;var nt=Ce(v.expirationTime<=he);he=t.unstable_now(),typeof nt=="function"?v.callback=nt:v===n(h)&&r(h),A(he)}else r(h);v=n(h)}if(v!==null)var Vs=!0;else{var Ar=n(d);Ar!==null&&zn(D,Ar.startTime-he),Vs=!1}return Vs}finally{v=null,y=fe,S=!1}}var b=!1,W=null,H=-1,ae=5,ne=-1;function zt(){return!(t.unstable_now()-ne<ae)}function In(){if(W!==null){var K=t.unstable_now();ne=K;var he=!0;try{he=W(!0,K)}finally{he?Sn():(b=!1,W=null)}}else b=!1}var Sn;if(typeof E=="function")Sn=function(){E(In)};else if(typeof MessageChannel<"u"){var Gi=new MessageChannel,la=Gi.port2;Gi.port1.onmessage=In,Sn=function(){la.postMessage(null)}}else Sn=function(){L(In,0)};function ua(K){W=K,b||(b=!0,Sn())}function zn(K,he){H=L(function(){K(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){P||S||(P=!0,ua(B))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var fe=y;y=he;try{return K()}finally{y=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,he){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=y;y=K;try{return he()}finally{y=fe}},t.unstable_scheduleCallback=function(K,he,fe){var Ce=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ce+fe:Ce):fe=Ce,K){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=fe+nt,K={id:p++,callback:he,priorityLevel:K,startTime:fe,expirationTime:nt,sortIndex:-1},fe>Ce?(K.sortIndex=fe,e(d,K),n(h)===null&&K===n(d)&&(k?(T(H),H=-1):k=!0,zn(D,fe-Ce))):(K.sortIndex=nt,e(h,K),P||S||(P=!0,ua(B))),K},t.unstable_shouldYield=zt,t.unstable_wrapCallback=function(K){var he=y;return function(){var fe=y;y=he;try{return K.apply(this,arguments)}finally{y=fe}}}})(xT);kT.exports=xT;var uV=kT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=j,yn=uV;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DT=new Set,pl={};function xs(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(pl[t]=e,t=0;t<e.length;t++)DT.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pg=Object.prototype.hasOwnProperty,cV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lw={},Vw={};function hV(t){return pg.call(Vw,t)?!0:pg.call(Lw,t)?!1:cV.test(t)?Vw[t]=!0:(Lw[t]=!0,!1)}function fV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dV(t,e,n,r){if(e===null||typeof e>"u"||fV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function qm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hm,qm);Pt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hm,qm);Pt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hm,qm);Pt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gm(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dV(e,n,i,r)&&(n=null),r||i===null?hV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=NT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),ro=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),gg=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),LT=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),mg=Symbol.for("react.suspense"),_g=Symbol.for("react.suspense_list"),Ym=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),VT=Symbol.for("react.offscreen"),Mw=Symbol.iterator;function Oa(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Tp;function Wa(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var Ip=!1;function Sp(t,e){if(!t||Ip)return"";Ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,c=s.length-1;1<=l&&0<=c&&i[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==s[c]){var h=`
`+i[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=c);break}}}finally{Ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wa(t):""}function pV(t){switch(t.tag){case 5:return Wa(t.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 2:case 15:return t=Sp(t.type,!1),t;case 11:return t=Sp(t.type.render,!1),t;case 1:return t=Sp(t.type,!0),t;default:return""}}function vg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case ro:return"Portal";case gg:return"Profiler";case Km:return"StrictMode";case mg:return"Suspense";case _g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LT:return(t.displayName||"Context")+".Consumer";case OT:return(t._context.displayName||"Context")+".Provider";case Qm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ym:return e=t.displayName||null,e!==null?e:vg(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return vg(t(e))}catch{}}return null}function gV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(e);case 8:return e===Km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mV(t){var e=MT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gc(t){t._valueTracker||(t._valueTracker=mV(t))}function FT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yg(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UT(t,e){e=e.checked,e!=null&&Gm(t,"checked",e,!1)}function wg(t,e){UT(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Eg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Eg(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Eg(t,e,n){(e!=="number"||sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ha=Array.isArray;function _o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ha(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function $T(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,BT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_V=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(t){_V.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Za[e]=Za[t]})});function zT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Za.hasOwnProperty(t)&&Za[t]?(""+e).trim():e+"px"}function jT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vV=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sg(t,e){if(e){if(vV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function Xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cg=null,vo=null,yo=null;function Bw(t){if(t=Jl(t)){if(typeof Cg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=of(e),Cg(t.stateNode,t.type,e))}}function WT(t){vo?yo?yo.push(t):yo=[t]:vo=t}function HT(){if(vo){var t=vo,e=yo;if(yo=vo=null,Bw(t),e)for(t=0;t<e.length;t++)Bw(e[t])}}function qT(t,e){return t(e)}function GT(){}var Ap=!1;function KT(t,e,n){if(Ap)return t(e,n);Ap=!0;try{return qT(t,e,n)}finally{Ap=!1,(vo!==null||yo!==null)&&(GT(),HT())}}function ml(t,e){var n=t.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Pg=!1;if(Hr)try{var La={};Object.defineProperty(La,"passive",{get:function(){Pg=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Pg=!1}function yV(t,e,n,r,i,s,l,c,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var el=!1,oh=null,ah=!1,kg=null,wV={onError:function(t){el=!0,oh=t}};function EV(t,e,n,r,i,s,l,c,h){el=!1,oh=null,yV.apply(wV,arguments)}function TV(t,e,n,r,i,s,l,c,h){if(EV.apply(this,arguments),el){if(el){var d=oh;el=!1,oh=null}else throw Error(z(198));ah||(ah=!0,kg=d)}}function Ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zw(t){if(Ns(t)!==t)throw Error(z(188))}function IV(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zw(i),t;if(s===r)return zw(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=s;break}if(c===r){l=!0,r=i,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=i;break}if(c===r){l=!0,r=s,n=i;break}c=c.sibling}if(!l)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function YT(t){return t=IV(t),t!==null?XT(t):null}function XT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XT(t);if(e!==null)return e;t=t.sibling}return null}var JT=yn.unstable_scheduleCallback,jw=yn.unstable_cancelCallback,SV=yn.unstable_shouldYield,AV=yn.unstable_requestPaint,tt=yn.unstable_now,RV=yn.unstable_getCurrentPriorityLevel,Jm=yn.unstable_ImmediatePriority,ZT=yn.unstable_UserBlockingPriority,lh=yn.unstable_NormalPriority,CV=yn.unstable_LowPriority,eI=yn.unstable_IdlePriority,tf=null,_r=null;function PV(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(tf,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:NV,kV=Math.log,xV=Math.LN2;function NV(t){return t>>>=0,t===0?32:31-(kV(t)/xV|0)|0}var _c=64,vc=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~i;c!==0?r=qa(c):(s&=l,s!==0&&(r=qa(s)))}else l=n&~i,l!==0?r=qa(l):s!==0&&(r=qa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),i=1<<n,r|=t[n],e&=~i;return r}function DV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-er(s),c=1<<l,h=i[l];h===-1?(!(c&n)||c&r)&&(i[l]=DV(c,e)):h<=e&&(t.expiredLanes|=c),s&=~c}}function xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tI(){var t=_c;return _c<<=1,!(_c&4194240)&&(_c=64),t}function Rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function LV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function nI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rI,e_,iI,sI,oI,Ng=!1,yc=[],Si=null,Ai=null,Ri=null,_l=new Map,vl=new Map,gi=[],VV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function Va(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jl(e),e!==null&&e_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MV(t,e,n,r,i){switch(e){case"focusin":return Si=Va(Si,t,e,n,r,i),!0;case"dragenter":return Ai=Va(Ai,t,e,n,r,i),!0;case"mouseover":return Ri=Va(Ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,Va(_l.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vl.set(s,Va(vl.get(s)||null,t,e,n,r,i)),!0}return!1}function aI(t){var e=os(t.target);if(e!==null){var n=Ns(e);if(n!==null){if(e=n.tag,e===13){if(e=QT(n),e!==null){t.blockedOn=e,oI(t.priority,function(){iI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rg=r,n.target.dispatchEvent(r),Rg=null}else return e=Jl(n),e!==null&&e_(e),t.blockedOn=n,!1;e.shift()}return!0}function Hw(t,e,n){Bc(t)&&n.delete(e)}function FV(){Ng=!1,Si!==null&&Bc(Si)&&(Si=null),Ai!==null&&Bc(Ai)&&(Ai=null),Ri!==null&&Bc(Ri)&&(Ri=null),_l.forEach(Hw),vl.forEach(Hw)}function Ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Ng||(Ng=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,FV)))}function yl(t){function e(i){return Ma(i,t)}if(0<yc.length){Ma(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Ma(Si,t),Ai!==null&&Ma(Ai,t),Ri!==null&&Ma(Ri,t),_l.forEach(e),vl.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)aI(n),n.blockedOn===null&&gi.shift()}var wo=ei.ReactCurrentBatchConfig,ch=!0;function UV(t,e,n,r){var i=De,s=wo.transition;wo.transition=null;try{De=1,t_(t,e,n,r)}finally{De=i,wo.transition=s}}function $V(t,e,n,r){var i=De,s=wo.transition;wo.transition=null;try{De=4,t_(t,e,n,r)}finally{De=i,wo.transition=s}}function t_(t,e,n,r){if(ch){var i=Dg(t,e,n,r);if(i===null)Mp(t,e,r,hh,n),Ww(t,r);else if(MV(i,t,e,n,r))r.stopPropagation();else if(Ww(t,r),e&4&&-1<VV.indexOf(t)){for(;i!==null;){var s=Jl(i);if(s!==null&&rI(s),s=Dg(t,e,n,r),s===null&&Mp(t,e,r,hh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mp(t,e,r,null,n)}}var hh=null;function Dg(t,e,n,r){if(hh=null,t=Xm(r),t=os(t),t!==null)if(e=Ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hh=t,null}function lI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RV()){case Jm:return 1;case ZT:return 4;case lh:case CV:return 16;case eI:return 536870912;default:return 16}default:return 16}}var wi=null,n_=null,zc=null;function uI(){if(zc)return zc;var t,e=n_,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return zc=i.slice(t,1<r?1-r:void 0)}function jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wc(){return!0}function qw(){return!1}function Tn(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wc:qw,this.isPropagationStopped=qw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r_=Tn(Go),Xl=Ke({},Go,{view:0,detail:0}),bV=Tn(Xl),Cp,Pp,Fa,nf=Ke({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(Cp=t.screenX-Fa.screenX,Pp=t.screenY-Fa.screenY):Pp=Cp=0,Fa=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),Gw=Tn(nf),BV=Ke({},nf,{dataTransfer:0}),zV=Tn(BV),jV=Ke({},Xl,{relatedTarget:0}),kp=Tn(jV),WV=Ke({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),HV=Tn(WV),qV=Ke({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GV=Tn(qV),KV=Ke({},Go,{data:0}),Kw=Tn(KV),QV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XV[t])?!!e[t]:!1}function i_(){return JV}var ZV=Ke({},Xl,{key:function(t){if(t.key){var e=QV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i_,charCode:function(t){return t.type==="keypress"?jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eM=Tn(ZV),tM=Ke({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=Tn(tM),nM=Ke({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i_}),rM=Tn(nM),iM=Ke({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),sM=Tn(iM),oM=Ke({},nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aM=Tn(oM),lM=[9,13,27,32],s_=Hr&&"CompositionEvent"in window,tl=null;Hr&&"documentMode"in document&&(tl=document.documentMode);var uM=Hr&&"TextEvent"in window&&!tl,cI=Hr&&(!s_||tl&&8<tl&&11>=tl),Yw=" ",Xw=!1;function hI(t,e){switch(t){case"keyup":return lM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function cM(t,e){switch(t){case"compositionend":return fI(e);case"keypress":return e.which!==32?null:(Xw=!0,Yw);case"textInput":return t=e.data,t===Yw&&Xw?null:t;default:return null}}function hM(t,e){if(so)return t==="compositionend"||!s_&&hI(t,e)?(t=uI(),zc=n_=wi=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cI&&e.locale!=="ko"?null:e.data;default:return null}}var fM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fM[t.type]:e==="textarea"}function dI(t,e,n,r){WT(r),e=fh(e,"onChange"),0<e.length&&(n=new r_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nl=null,wl=null;function dM(t){SI(t,0)}function rf(t){var e=lo(t);if(FT(e))return t}function pM(t,e){if(t==="change")return e}var pI=!1;if(Hr){var xp;if(Hr){var Np="oninput"in document;if(!Np){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),Np=typeof Zw.oninput=="function"}xp=Np}else xp=!1;pI=xp&&(!document.documentMode||9<document.documentMode)}function eE(){nl&&(nl.detachEvent("onpropertychange",gI),wl=nl=null)}function gI(t){if(t.propertyName==="value"&&rf(wl)){var e=[];dI(e,wl,t,Xm(t)),KT(dM,e)}}function gM(t,e,n){t==="focusin"?(eE(),nl=e,wl=n,nl.attachEvent("onpropertychange",gI)):t==="focusout"&&eE()}function mM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rf(wl)}function _M(t,e){if(t==="click")return rf(e)}function vM(t,e){if(t==="input"||t==="change")return rf(e)}function yM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:yM;function El(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pg.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function tE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nE(t,e){var n=tE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tE(n)}}function mI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _I(){for(var t=window,e=sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sh(t.document)}return e}function o_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wM(t){var e=_I(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mI(n.ownerDocument.documentElement,n)){if(r!==null&&o_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nE(n,s);var l=nE(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EM=Hr&&"documentMode"in document&&11>=document.documentMode,oo=null,Og=null,rl=null,Lg=!1;function rE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lg||oo==null||oo!==sh(r)||(r=oo,"selectionStart"in r&&o_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rl&&El(rl,r)||(rl=r,r=fh(Og,"onSelect"),0<r.length&&(e=new r_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function Ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},Dp={},vI={};Hr&&(vI=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function sf(t){if(Dp[t])return Dp[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vI)return Dp[t]=e[n];return t}var yI=sf("animationend"),wI=sf("animationiteration"),EI=sf("animationstart"),TI=sf("transitionend"),II=new Map,iE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){II.set(t,e),xs(e,[t])}for(var Op=0;Op<iE.length;Op++){var Lp=iE[Op],TM=Lp.toLowerCase(),IM=Lp[0].toUpperCase()+Lp.slice(1);zi(TM,"on"+IM)}zi(yI,"onAnimationEnd");zi(wI,"onAnimationIteration");zi(EI,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(TI,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function sE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TV(r,e,void 0,t),t.currentTarget=null}function SI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var c=r[l],h=c.instance,d=c.currentTarget;if(c=c.listener,h!==s&&i.isPropagationStopped())break e;sE(i,c,d),s=h}else for(l=0;l<r.length;l++){if(c=r[l],h=c.instance,d=c.currentTarget,c=c.listener,h!==s&&i.isPropagationStopped())break e;sE(i,c,d),s=h}}}if(ah)throw t=kg,ah=!1,kg=null,t}function $e(t,e){var n=e[$g];n===void 0&&(n=e[$g]=new Set);var r=t+"__bubble";n.has(r)||(AI(e,t,2,!1),n.add(r))}function Vp(t,e,n){var r=0;e&&(r|=4),AI(n,t,r,e)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Tl(t){if(!t[Tc]){t[Tc]=!0,DT.forEach(function(n){n!=="selectionchange"&&(SM.has(n)||Vp(n,!1,t),Vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tc]||(e[Tc]=!0,Vp("selectionchange",!1,e))}}function AI(t,e,n,r){switch(lI(e)){case 1:var i=UV;break;case 4:i=$V;break;default:i=t_}n=i.bind(null,e,n,t),i=void 0,!Pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;l=l.return}for(;c!==null;){if(l=os(c),l===null)return;if(h=l.tag,h===5||h===6){r=s=l;continue e}c=c.parentNode}}r=r.return}KT(function(){var d=s,p=Xm(n),v=[];e:{var y=II.get(t);if(y!==void 0){var S=r_,P=t;switch(t){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":S=eM;break;case"focusin":P="focus",S=kp;break;case"focusout":P="blur",S=kp;break;case"beforeblur":case"afterblur":S=kp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=zV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=rM;break;case yI:case wI:case EI:S=HV;break;case TI:S=sM;break;case"scroll":S=bV;break;case"wheel":S=aM;break;case"copy":case"cut":case"paste":S=GV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Qw}var k=(e&4)!==0,L=!k&&t==="scroll",T=k?y!==null?y+"Capture":null:y;k=[];for(var E=d,A;E!==null;){A=E;var D=A.stateNode;if(A.tag===5&&D!==null&&(A=D,T!==null&&(D=ml(E,T),D!=null&&k.push(Il(E,D,A)))),L)break;E=E.return}0<k.length&&(y=new S(y,P,null,n,p),v.push({event:y,listeners:k}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",y&&n!==Rg&&(P=n.relatedTarget||n.fromElement)&&(os(P)||P[qr]))break e;if((S||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,S?(P=n.relatedTarget||n.toElement,S=d,P=P?os(P):null,P!==null&&(L=Ns(P),P!==L||P.tag!==5&&P.tag!==6)&&(P=null)):(S=null,P=d),S!==P)){if(k=Gw,D="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(k=Qw,D="onPointerLeave",T="onPointerEnter",E="pointer"),L=S==null?y:lo(S),A=P==null?y:lo(P),y=new k(D,E+"leave",S,n,p),y.target=L,y.relatedTarget=A,D=null,os(p)===d&&(k=new k(T,E+"enter",P,n,p),k.target=A,k.relatedTarget=L,D=k),L=D,S&&P)t:{for(k=S,T=P,E=0,A=k;A;A=Js(A))E++;for(A=0,D=T;D;D=Js(D))A++;for(;0<E-A;)k=Js(k),E--;for(;0<A-E;)T=Js(T),A--;for(;E--;){if(k===T||T!==null&&k===T.alternate)break t;k=Js(k),T=Js(T)}k=null}else k=null;S!==null&&oE(v,y,S,k,!1),P!==null&&L!==null&&oE(v,L,P,k,!0)}}e:{if(y=d?lo(d):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var B=pM;else if(Jw(y))if(pI)B=vM;else{B=mM;var b=gM}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(B=_M);if(B&&(B=B(t,d))){dI(v,B,n,p);break e}b&&b(t,y,d),t==="focusout"&&(b=y._wrapperState)&&b.controlled&&y.type==="number"&&Eg(y,"number",y.value)}switch(b=d?lo(d):window,t){case"focusin":(Jw(b)||b.contentEditable==="true")&&(oo=b,Og=d,rl=null);break;case"focusout":rl=Og=oo=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,rE(v,n,p);break;case"selectionchange":if(EM)break;case"keydown":case"keyup":rE(v,n,p)}var W;if(s_)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else so?hI(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(cI&&n.locale!=="ko"&&(so||H!=="onCompositionStart"?H==="onCompositionEnd"&&so&&(W=uI()):(wi=p,n_="value"in wi?wi.value:wi.textContent,so=!0)),b=fh(d,H),0<b.length&&(H=new Kw(H,t,null,n,p),v.push({event:H,listeners:b}),W?H.data=W:(W=fI(n),W!==null&&(H.data=W)))),(W=uM?cM(t,n):hM(t,n))&&(d=fh(d,"onBeforeInput"),0<d.length&&(p=new Kw("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:d}),p.data=W))}SI(v,e)})}function Il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ml(t,n),s!=null&&r.unshift(Il(t,s,i)),s=ml(t,e),s!=null&&r.push(Il(t,s,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oE(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var c=n,h=c.alternate,d=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&d!==null&&(c=d,i?(h=ml(n,s),h!=null&&l.unshift(Il(n,h,c))):i||(h=ml(n,s),h!=null&&l.push(Il(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var AM=/\r\n?/g,RM=/\u0000|\uFFFD/g;function aE(t){return(typeof t=="string"?t:""+t).replace(AM,`
`).replace(RM,"")}function Ic(t,e,n){if(e=aE(e),aE(t)!==e&&n)throw Error(z(425))}function dh(){}var Vg=null,Mg=null;function Fg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,CM=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,PM=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(t){return lE.resolve(null).then(t).catch(kM)}:Ug;function kM(t){setTimeout(function(){throw t})}function Fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),fr="__reactFiber$"+Ko,Sl="__reactProps$"+Ko,qr="__reactContainer$"+Ko,$g="__reactEvents$"+Ko,xM="__reactListeners$"+Ko,NM="__reactHandles$"+Ko;function os(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uE(t);t!==null;){if(n=t[fr])return n;t=uE(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[fr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function of(t){return t[Sl]||null}var bg=[],uo=-1;function ji(t){return{current:t}}function ze(t){0>uo||(t.current=bg[uo],bg[uo]=null,uo--)}function Me(t,e){uo++,bg[uo]=t.current,t.current=e}var Fi={},$t=ji(Fi),sn=ji(!1),vs=Fi;function ko(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function ph(){ze(sn),ze($t)}function cE(t,e,n){if($t.current!==Fi)throw Error(z(168));Me($t,e),Me(sn,n)}function RI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,gV(t)||"Unknown",i));return Ke({},n,r)}function gh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,vs=$t.current,Me($t,t),Me(sn,sn.current),!0}function hE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=RI(t,e,vs),r.__reactInternalMemoizedMergedChildContext=t,ze(sn),ze($t),Me($t,t)):ze(sn),Me(sn,n)}var Fr=null,af=!1,Up=!1;function CI(t){Fr===null?Fr=[t]:Fr.push(t)}function DM(t){af=!0,CI(t)}function Wi(){if(!Up&&Fr!==null){Up=!0;var t=0,e=De;try{var n=Fr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,af=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),JT(Jm,Wi),i}finally{De=e,Up=!1}}return null}var co=[],ho=0,mh=null,_h=0,Ln=[],Vn=0,ys=null,Ur=1,$r="";function rs(t,e){co[ho++]=_h,co[ho++]=mh,mh=t,_h=e}function PI(t,e,n){Ln[Vn++]=Ur,Ln[Vn++]=$r,Ln[Vn++]=ys,ys=t;var r=Ur;t=$r;var i=32-er(r)-1;r&=~(1<<i),n+=1;var s=32-er(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Ur=1<<32-er(e)+i|n<<i|r,$r=s+t}else Ur=1<<s|n<<i|r,$r=t}function a_(t){t.return!==null&&(rs(t,1),PI(t,1,0))}function l_(t){for(;t===mh;)mh=co[--ho],co[ho]=null,_h=co[--ho],co[ho]=null;for(;t===ys;)ys=Ln[--Vn],Ln[Vn]=null,$r=Ln[--Vn],Ln[Vn]=null,Ur=Ln[--Vn],Ln[Vn]=null}var vn=null,_n=null,We=!1,Jn=null;function kI(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,_n=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,_n=null,!0):!1;default:return!1}}function Bg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zg(t){if(We){var e=_n;if(e){var n=e;if(!fE(t,e)){if(Bg(t))throw Error(z(418));e=Ci(n.nextSibling);var r=vn;e&&fE(t,e)?kI(r,n):(t.flags=t.flags&-4097|2,We=!1,vn=t)}}else{if(Bg(t))throw Error(z(418));t.flags=t.flags&-4097|2,We=!1,vn=t}}}function dE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function Sc(t){if(t!==vn)return!1;if(!We)return dE(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fg(t.type,t.memoizedProps)),e&&(e=_n)){if(Bg(t))throw xI(),Error(z(418));for(;e;)kI(t,e),e=Ci(e.nextSibling)}if(dE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=vn?Ci(t.stateNode.nextSibling):null;return!0}function xI(){for(var t=_n;t;)t=Ci(t.nextSibling)}function xo(){_n=vn=null,We=!1}function u_(t){Jn===null?Jn=[t]:Jn.push(t)}var OM=ei.ReactCurrentBatchConfig;function Yn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vh=ji(null),yh=null,fo=null,c_=null;function h_(){c_=fo=yh=null}function f_(t){var e=vh.current;ze(vh),t._currentValue=e}function jg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){yh=t,c_=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(c_!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(yh===null)throw Error(z(308));fo=t,yh.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var as=null;function d_(t){as===null?as=[t]:as.push(t)}function NI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,d_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function p_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,n)}return i=r.interleaved,i===null?(e.next=e,d_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zm(t,n)}}function pE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wh(t,e,n,r){var i=t.updateQueue;pi=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,d=h.next;h.next=null,l===null?s=d:l.next=d,l=h;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=h))}if(s!==null){var v=i.baseState;l=0,p=d=h=null,c=s;do{var y=c.lane,S=c.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var P=t,k=c;switch(y=e,S=n,k.tag){case 1:if(P=k.payload,typeof P=="function"){v=P.call(S,v,y);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=k.payload,y=typeof P=="function"?P.call(S,v,y):P,y==null)break e;v=Ke({},v,y);break e;case 2:pi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[c]:y.push(c))}else S={eventTime:S,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=S,h=v):p=p.next=S,l|=y;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(h=v),i.baseState=h,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Es|=l,t.lanes=l,t.memoizedState=v}}function gE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var OI=new NT.Component().refs;function Wg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lf={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=xi(t),s=jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(tr(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=xi(t),s=jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(tr(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=xi(t),i=jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pi(t,i,r),e!==null&&(tr(e,t,r,n),Wc(e,t,r))}};function mE(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!El(n,r)||!El(i,s):!0}function LI(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=on(e)?vs:$t.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _E(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lf.enqueueReplaceState(e,e.state,null)}function Hg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=OI,p_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=on(e)?vs:$t.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lf.enqueueReplaceState(i,i.state,null),wh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var c=i.refs;c===OI&&(c=i.refs={}),l===null?delete c[s]:c[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vE(t){var e=t._init;return e(t._payload)}function VI(t){function e(T,E){if(t){var A=T.deletions;A===null?(T.deletions=[E],T.flags|=16):A.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(T,E){return T=Ni(T,E),T.index=0,T.sibling=null,T}function s(T,E,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<E?(T.flags|=2,E):A):(T.flags|=2,E)):(T.flags|=1048576,E)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function c(T,E,A,D){return E===null||E.tag!==6?(E=Hp(A,T.mode,D),E.return=T,E):(E=i(E,A),E.return=T,E)}function h(T,E,A,D){var B=A.type;return B===io?p(T,E,A.props.children,D,A.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===di&&vE(B)===E.type)?(D=i(E,A.props),D.ref=Ua(T,E,A),D.return=T,D):(D=Yc(A.type,A.key,A.props,null,T.mode,D),D.ref=Ua(T,E,A),D.return=T,D)}function d(T,E,A,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=qp(A,T.mode,D),E.return=T,E):(E=i(E,A.children||[]),E.return=T,E)}function p(T,E,A,D,B){return E===null||E.tag!==7?(E=ps(A,T.mode,D,B),E.return=T,E):(E=i(E,A),E.return=T,E)}function v(T,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Hp(""+E,T.mode,A),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pc:return A=Yc(E.type,E.key,E.props,null,T.mode,A),A.ref=Ua(T,null,E),A.return=T,A;case ro:return E=qp(E,T.mode,A),E.return=T,E;case di:var D=E._init;return v(T,D(E._payload),A)}if(Ha(E)||Oa(E))return E=ps(E,T.mode,A,null),E.return=T,E;Ac(T,E)}return null}function y(T,E,A,D){var B=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return B!==null?null:c(T,E,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case pc:return A.key===B?h(T,E,A,D):null;case ro:return A.key===B?d(T,E,A,D):null;case di:return B=A._init,y(T,E,B(A._payload),D)}if(Ha(A)||Oa(A))return B!==null?null:p(T,E,A,D,null);Ac(T,A)}return null}function S(T,E,A,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(A)||null,c(E,T,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case pc:return T=T.get(D.key===null?A:D.key)||null,h(E,T,D,B);case ro:return T=T.get(D.key===null?A:D.key)||null,d(E,T,D,B);case di:var b=D._init;return S(T,E,A,b(D._payload),B)}if(Ha(D)||Oa(D))return T=T.get(A)||null,p(E,T,D,B,null);Ac(E,D)}return null}function P(T,E,A,D){for(var B=null,b=null,W=E,H=E=0,ae=null;W!==null&&H<A.length;H++){W.index>H?(ae=W,W=null):ae=W.sibling;var ne=y(T,W,A[H],D);if(ne===null){W===null&&(W=ae);break}t&&W&&ne.alternate===null&&e(T,W),E=s(ne,E,H),b===null?B=ne:b.sibling=ne,b=ne,W=ae}if(H===A.length)return n(T,W),We&&rs(T,H),B;if(W===null){for(;H<A.length;H++)W=v(T,A[H],D),W!==null&&(E=s(W,E,H),b===null?B=W:b.sibling=W,b=W);return We&&rs(T,H),B}for(W=r(T,W);H<A.length;H++)ae=S(W,T,H,A[H],D),ae!==null&&(t&&ae.alternate!==null&&W.delete(ae.key===null?H:ae.key),E=s(ae,E,H),b===null?B=ae:b.sibling=ae,b=ae);return t&&W.forEach(function(zt){return e(T,zt)}),We&&rs(T,H),B}function k(T,E,A,D){var B=Oa(A);if(typeof B!="function")throw Error(z(150));if(A=B.call(A),A==null)throw Error(z(151));for(var b=B=null,W=E,H=E=0,ae=null,ne=A.next();W!==null&&!ne.done;H++,ne=A.next()){W.index>H?(ae=W,W=null):ae=W.sibling;var zt=y(T,W,ne.value,D);if(zt===null){W===null&&(W=ae);break}t&&W&&zt.alternate===null&&e(T,W),E=s(zt,E,H),b===null?B=zt:b.sibling=zt,b=zt,W=ae}if(ne.done)return n(T,W),We&&rs(T,H),B;if(W===null){for(;!ne.done;H++,ne=A.next())ne=v(T,ne.value,D),ne!==null&&(E=s(ne,E,H),b===null?B=ne:b.sibling=ne,b=ne);return We&&rs(T,H),B}for(W=r(T,W);!ne.done;H++,ne=A.next())ne=S(W,T,H,ne.value,D),ne!==null&&(t&&ne.alternate!==null&&W.delete(ne.key===null?H:ne.key),E=s(ne,E,H),b===null?B=ne:b.sibling=ne,b=ne);return t&&W.forEach(function(In){return e(T,In)}),We&&rs(T,H),B}function L(T,E,A,D){if(typeof A=="object"&&A!==null&&A.type===io&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case pc:e:{for(var B=A.key,b=E;b!==null;){if(b.key===B){if(B=A.type,B===io){if(b.tag===7){n(T,b.sibling),E=i(b,A.props.children),E.return=T,T=E;break e}}else if(b.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===di&&vE(B)===b.type){n(T,b.sibling),E=i(b,A.props),E.ref=Ua(T,b,A),E.return=T,T=E;break e}n(T,b);break}else e(T,b);b=b.sibling}A.type===io?(E=ps(A.props.children,T.mode,D,A.key),E.return=T,T=E):(D=Yc(A.type,A.key,A.props,null,T.mode,D),D.ref=Ua(T,E,A),D.return=T,T=D)}return l(T);case ro:e:{for(b=A.key;E!==null;){if(E.key===b)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(T,E.sibling),E=i(E,A.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=qp(A,T.mode,D),E.return=T,T=E}return l(T);case di:return b=A._init,L(T,E,b(A._payload),D)}if(Ha(A))return P(T,E,A,D);if(Oa(A))return k(T,E,A,D);Ac(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(T,E.sibling),E=i(E,A),E.return=T,T=E):(n(T,E),E=Hp(A,T.mode,D),E.return=T,T=E),l(T)):n(T,E)}return L}var No=VI(!0),MI=VI(!1),Zl={},vr=ji(Zl),Al=ji(Zl),Rl=ji(Zl);function ls(t){if(t===Zl)throw Error(z(174));return t}function g_(t,e){switch(Me(Rl,e),Me(Al,t),Me(vr,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ig(e,t)}ze(vr),Me(vr,e)}function Do(){ze(vr),ze(Al),ze(Rl)}function FI(t){ls(Rl.current);var e=ls(vr.current),n=Ig(e,t.type);e!==n&&(Me(Al,t),Me(vr,n))}function m_(t){Al.current===t&&(ze(vr),ze(Al))}var qe=ji(0);function Eh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function __(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var Hc=ei.ReactCurrentDispatcher,bp=ei.ReactCurrentBatchConfig,ws=0,Ge=null,ut=null,gt=null,Th=!1,il=!1,Cl=0,LM=0;function Nt(){throw Error(z(321))}function v_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function y_(t,e,n,r,i,s){if(ws=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?UM:$M,t=n(r,i),il){s=0;do{if(il=!1,Cl=0,25<=s)throw Error(z(301));s+=1,gt=ut=null,e.updateQueue=null,Hc.current=bM,t=n(r,i)}while(il)}if(Hc.current=Ih,e=ut!==null&&ut.next!==null,ws=0,gt=ut=Ge=null,Th=!1,e)throw Error(z(300));return t}function w_(){var t=Cl!==0;return Cl=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ge.memoizedState=gt=t:gt=gt.next=t,gt}function Bn(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=gt===null?Ge.memoizedState:gt.next;if(e!==null)gt=e,ut=t;else{if(t===null)throw Error(z(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?Ge.memoizedState=gt=t:gt=gt.next=t}return gt}function Pl(t,e){return typeof e=="function"?e(t):e}function Bp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=l=null,h=null,d=s;do{var p=d.lane;if((ws&p)===p)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var v={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(c=h=v,l=r):h=h.next=v,Ge.lanes|=p,Es|=p}d=d.next}while(d!==null&&d!==s);h===null?l=r:h.next=c,rr(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,Es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);rr(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function UI(){}function $I(t,e){var n=Ge,r=Bn(),i=e(),s=!rr(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,E_(zI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,kl(9,BI.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(z(349));ws&30||bI(n,e,i)}return i}function bI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BI(t,e,n,r){e.value=n,e.getSnapshot=r,jI(e)&&WI(t)}function zI(t,e,n){return n(function(){jI(e)&&WI(t)})}function jI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function WI(t){var e=Gr(t,1);e!==null&&tr(e,t,1,-1)}function yE(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=FM.bind(null,Ge,t),[e.memoizedState,t]}function kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HI(){return Bn().memoizedState}function qc(t,e,n,r){var i=hr();Ge.flags|=t,i.memoizedState=kl(1|e,n,void 0,r===void 0?null:r)}function uf(t,e,n,r){var i=Bn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var l=ut.memoizedState;if(s=l.destroy,r!==null&&v_(r,l.deps)){i.memoizedState=kl(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=kl(1|e,n,s,r)}function wE(t,e){return qc(8390656,8,t,e)}function E_(t,e){return uf(2048,8,t,e)}function qI(t,e){return uf(4,2,t,e)}function GI(t,e){return uf(4,4,t,e)}function KI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QI(t,e,n){return n=n!=null?n.concat([t]):null,uf(4,4,KI.bind(null,e,t),n)}function T_(){}function YI(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XI(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JI(t,e,n){return ws&21?(rr(n,e)||(n=tI(),Ge.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function VM(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=bp.transition;bp.transition={};try{t(!1),e()}finally{De=n,bp.transition=r}}function ZI(){return Bn().memoizedState}function MM(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eS(t))tS(e,n);else if(n=NI(t,e,n,r),n!==null){var i=Kt();tr(n,t,r,i),nS(n,e,r)}}function FM(t,e,n){var r=xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(t))tS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,c=s(l,n);if(i.hasEagerState=!0,i.eagerState=c,rr(c,l)){var h=e.interleaved;h===null?(i.next=i,d_(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=NI(t,e,i,r),n!==null&&(i=Kt(),tr(n,t,r,i),nS(n,e,r))}}function eS(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function tS(t,e){il=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zm(t,n)}}var Ih={readContext:bn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},UM={readContext:bn,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:wE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qc(4194308,4,KI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return qc(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MM.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:yE,useDebugValue:T_,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=yE(!1),e=t[0];return t=VM.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=hr();if(We){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),mt===null)throw Error(z(349));ws&30||bI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wE(zI.bind(null,r,s,t),[t]),r.flags|=2048,kl(9,BI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=mt.identifierPrefix;if(We){var n=$r,r=Ur;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$M={readContext:bn,useCallback:YI,useContext:bn,useEffect:E_,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:GI,useMemo:XI,useReducer:Bp,useRef:HI,useState:function(){return Bp(Pl)},useDebugValue:T_,useDeferredValue:function(t){var e=Bn();return JI(e,ut.memoizedState,t)},useTransition:function(){var t=Bp(Pl)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:UI,useSyncExternalStore:$I,useId:ZI,unstable_isNewReconciler:!1},bM={readContext:bn,useCallback:YI,useContext:bn,useEffect:E_,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:GI,useMemo:XI,useReducer:zp,useRef:HI,useState:function(){return zp(Pl)},useDebugValue:T_,useDeferredValue:function(t){var e=Bn();return ut===null?e.memoizedState=t:JI(e,ut.memoizedState,t)},useTransition:function(){var t=zp(Pl)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:UI,useSyncExternalStore:$I,useId:ZI,unstable_isNewReconciler:!1};function Oo(t,e){try{var n="",r=e;do n+=pV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BM=typeof WeakMap=="function"?WeakMap:Map;function rS(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,nm=r),qg(t,e)},n}function iS(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qg(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function EE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=t4.bind(null,t,e,n),e.then(t,t))}function TE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Pi(n,e,1))),n.lanes|=1),t)}var zM=ei.ReactCurrentOwner,nn=!1;function qt(t,e,n,r){e.child=t===null?MI(e,null,n,r):No(e,t.child,n,r)}function SE(t,e,n,r,i){n=n.render;var s=e.ref;return Eo(e,i),r=y_(t,e,n,r,s,i),n=w_(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(We&&n&&a_(e),e.flags|=1,qt(t,e,r,i),e.child)}function AE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!x_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sS(t,e,s,r,i)):(t=Yc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(l,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function sS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(El(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return Gg(t,e,n,r,i)}function oS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(go,mn),mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(go,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(go,mn),mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(go,mn),mn|=r;return qt(t,e,i,n),e.child}function aS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gg(t,e,n,r,i){var s=on(n)?vs:$t.current;return s=ko(e,s),Eo(e,i),n=y_(t,e,n,r,s,i),r=w_(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(We&&r&&a_(e),e.flags|=1,qt(t,e,n,i),e.child)}function RE(t,e,n,r,i){if(on(n)){var s=!0;gh(e)}else s=!1;if(Eo(e,i),e.stateNode===null)Gc(t,e),LI(e,n,r),Hg(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var h=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=bn(d):(d=on(n)?vs:$t.current,d=ko(e,d));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||h!==d)&&_E(e,l,r,d),pi=!1;var y=e.memoizedState;l.state=y,wh(e,r,l,i),h=e.memoizedState,c!==r||y!==h||sn.current||pi?(typeof p=="function"&&(Wg(e,n,p,r),h=e.memoizedState),(c=pi||mE(e,n,c,r,y,h,d))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=d,r=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,DI(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Yn(e.type,c),l.props=d,v=e.pendingProps,y=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=bn(h):(h=on(n)?vs:$t.current,h=ko(e,h));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==v||y!==h)&&_E(e,l,r,h),pi=!1,y=e.memoizedState,l.state=y,wh(e,r,l,i);var P=e.memoizedState;c!==v||y!==P||sn.current||pi?(typeof S=="function"&&(Wg(e,n,S,r),P=e.memoizedState),(d=pi||mE(e,n,d,r,y,P,h)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,P,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,P,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),l.props=r,l.state=P,l.context=h,r=d):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Kg(t,e,n,r,s,i)}function Kg(t,e,n,r,i,s){aS(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&hE(e,n,!1),Kr(t,e,s);r=e.stateNode,zM.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=No(e,t.child,null,s),e.child=No(e,null,c,s)):qt(t,e,c,s),e.memoizedState=r.state,i&&hE(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?cE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cE(t,e.context,!1),g_(t,e.containerInfo)}function CE(t,e,n,r,i){return xo(),u_(i),e.flags|=256,qt(t,e,n,r),e.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function uS(t,e,n){var r=e.pendingProps,i=qe.current,s=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(qe,i&1),t===null)return zg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=ff(l,r,0,null),t=ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yg(n),e.memoizedState=Qg,t):I_(e,l));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return jM(t,e,l,r,c,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,c=i.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Ni(i,h),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Ni(c,s):(s=ps(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?Yg(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Qg,r}return s=t.child,t=s.sibling,r=Ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function I_(t,e){return e=ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rc(t,e,n,r){return r!==null&&u_(r),No(e,t.child,null,n),t=I_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jM(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=jp(Error(z(422))),Rc(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ff({mode:"visible",children:r.children},i,0,null),s=ps(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&No(e,t.child,null,l),e.child.memoizedState=Yg(l),e.memoizedState=Qg,s);if(!(e.mode&1))return Rc(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(z(419)),r=jp(s,r,void 0),Rc(t,e,l,r)}if(c=(l&t.childLanes)!==0,nn||c){if(r=mt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gr(t,i),tr(r,t,i,-1))}return k_(),r=jp(Error(z(421))),Rc(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=n4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=Ci(i.nextSibling),vn=e,We=!0,Jn=null,t!==null&&(Ln[Vn++]=Ur,Ln[Vn++]=$r,Ln[Vn++]=ys,Ur=t.id,$r=t.overflow,ys=e),e=I_(e,r.children),e.flags|=4096,e)}function PE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jg(t.return,e,n)}function Wp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PE(t,n,e);else if(t.tag===19)PE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Eh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Eh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wp(e,!0,n,null,s);break;case"together":Wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WM(t,e,n){switch(e.tag){case 3:lS(e),xo();break;case 5:FI(e);break;case 1:on(e.type)&&gh(e);break;case 4:g_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(vh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?uS(t,e,n):(Me(qe,qe.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);Me(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,oS(t,e,n)}return Kr(t,e,n)}var hS,Xg,fS,dS;hS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xg=function(){};fS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(vr.current);var s=null;switch(n){case"input":i=yg(t,i),r=yg(t,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=Tg(t,i),r=Tg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dh)}Sg(n,r);var l;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(pl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var h=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&h!==c&&(h!=null||c!=null))if(d==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(s||(s=[]),s.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(s=s||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(pl.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&$e("scroll",t),s||c===h||(s=[])):(s=s||[]).push(d,h))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};dS=function(t,e,n,r){n!==r&&(e.flags|=4)};function $a(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HM(t,e,n){var r=e.pendingProps;switch(l_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return on(e.type)&&ph(),Dt(e),null;case 3:return r=e.stateNode,Do(),ze(sn),ze($t),__(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(sm(Jn),Jn=null))),Xg(t,e),Dt(e),null;case 5:m_(e);var i=ls(Rl.current);if(n=e.type,t!==null&&e.stateNode!=null)fS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Dt(e),null}if(t=ls(vr.current),Sc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[Sl]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<Ga.length;i++)$e(Ga[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":Fw(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":$w(r,s),$e("invalid",r)}Sg(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Ic(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Ic(r.textContent,c,t),i=["children",""+c]):pl.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&$e("scroll",r)}switch(n){case"input":gc(r),Uw(r,s,!0);break;case"textarea":gc(r),bw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[fr]=e,t[Sl]=r,hS(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ag(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ga.length;i++)$e(Ga[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":Fw(t,r),i=yg(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),$e("invalid",t);break;case"textarea":$w(t,r),i=Tg(t,r),$e("invalid",t);break;default:i=r}Sg(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];s==="style"?jT(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&BT(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&gl(t,h):typeof h=="number"&&gl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&$e("scroll",t):h!=null&&Gm(t,s,h,l))}switch(n){case"input":gc(t),Uw(t,r,!1);break;case"textarea":gc(t),bw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_o(t,!!r.multiple,s,!1):r.defaultValue!=null&&_o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)dS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ls(Rl.current),ls(vr.current),Sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:Ic(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ic(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Dt(e),null;case 13:if(ze(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&_n!==null&&e.mode&1&&!(e.flags&128))xI(),xo(),e.flags|=98560,s=!1;else if(s=Sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[fr]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Jn!==null&&(sm(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ct===0&&(ct=3):k_())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Do(),Xg(t,e),t===null&&Tl(e.stateNode.containerInfo),Dt(e),null;case 10:return f_(e.type._context),Dt(e),null;case 17:return on(e.type)&&ph(),Dt(e),null;case 19:if(ze(qe),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)$a(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Eh(t),l!==null){for(e.flags|=128,$a(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>Lo&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304)}else{if(!r)if(t=Eh(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!We)return Dt(e),null}else 2*tt()-s.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=qe.current,Me(qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return P_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function qM(t,e){switch(l_(e),e.tag){case 1:return on(e.type)&&ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),ze(sn),ze($t),__(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m_(e),null;case 13:if(ze(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(qe),null;case 4:return Do(),null;case 10:return f_(e.type._context),null;case 22:case 23:return P_(),null;case 24:return null;default:return null}}var Cc=!1,Vt=!1,GM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function Jg(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var kE=!1;function KM(t,e){if(Vg=ch,t=_I(),o_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,d=0,p=0,v=t,y=null;t:for(;;){for(var S;v!==n||i!==0&&v.nodeType!==3||(c=l+i),v!==s||r!==0&&v.nodeType!==3||(h=l+r),v.nodeType===3&&(l+=v.nodeValue.length),(S=v.firstChild)!==null;)y=v,v=S;for(;;){if(v===t)break t;if(y===n&&++d===i&&(c=l),y===s&&++p===r&&(h=l),(S=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=S}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mg={focusedElem:t,selectionRange:n},ch=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var k=P.memoizedProps,L=P.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?k:Yn(e.type,k),L);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){Xe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return P=kE,kE=!1,P}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jg(e,n,s)}i=i.next}while(i!==r)}}function cf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Sl],delete e[$g],delete e[xM],delete e[NM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gS(t){return t.tag===5||t.tag===3||t.tag===4}function xE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dh));else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}var Et=null,Xn=!1;function hi(t,e,n){for(n=n.child;n!==null;)mS(t,e,n),n=n.sibling}function mS(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:Vt||po(n,e);case 6:var r=Et,i=Xn;Et=null,hi(t,e,n),Et=r,Xn=i,Et!==null&&(Xn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Xn?(t=Et,n=n.stateNode,t.nodeType===8?Fp(t.parentNode,n):t.nodeType===1&&Fp(t,n),yl(t)):Fp(Et,n.stateNode));break;case 4:r=Et,i=Xn,Et=n.stateNode.containerInfo,Xn=!0,hi(t,e,n),Et=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Jg(n,e,l),i=i.next}while(i!==r)}hi(t,e,n);break;case 1:if(!Vt&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Xe(n,e,c)}hi(t,e,n);break;case 21:hi(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,hi(t,e,n),Vt=r):hi(t,e,n);break;default:hi(t,e,n)}}function NE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GM),e.forEach(function(r){var i=r4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:Et=c.stateNode,Xn=!1;break e;case 3:Et=c.stateNode.containerInfo,Xn=!0;break e;case 4:Et=c.stateNode.containerInfo,Xn=!0;break e}c=c.return}if(Et===null)throw Error(z(160));mS(s,l,i),Et=null,Xn=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(d){Xe(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),cr(t),r&4){try{sl(3,t,t.return),cf(3,t)}catch(k){Xe(t,t.return,k)}try{sl(5,t,t.return)}catch(k){Xe(t,t.return,k)}}break;case 1:Qn(e,t),cr(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(Qn(e,t),cr(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var i=t.stateNode;try{gl(i,"")}catch(k){Xe(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&UT(i,s),Ag(c,l);var d=Ag(c,s);for(l=0;l<h.length;l+=2){var p=h[l],v=h[l+1];p==="style"?jT(i,v):p==="dangerouslySetInnerHTML"?BT(i,v):p==="children"?gl(i,v):Gm(i,p,v,d)}switch(c){case"input":wg(i,s);break;case"textarea":$T(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?_o(i,!!s.multiple,S,!1):y!==!!s.multiple&&(s.defaultValue!=null?_o(i,!!s.multiple,s.defaultValue,!0):_o(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sl]=s}catch(k){Xe(t,t.return,k)}}break;case 6:if(Qn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Xe(t,t.return,k)}}break;case 3:if(Qn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(k){Xe(t,t.return,k)}break;case 4:Qn(e,t),cr(t);break;case 13:Qn(e,t),cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(R_=tt())),r&4&&NE(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(d=Vt)||p,Qn(e,t),Vt=d):Qn(e,t),cr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Y=t,p=t.child;p!==null;){for(v=Y=p;Y!==null;){switch(y=Y,S=y.child,y.tag){case 0:case 11:case 14:case 15:sl(4,y,y.return);break;case 1:po(y,y.return);var P=y.stateNode;if(typeof P.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(k){Xe(r,n,k)}}break;case 5:po(y,y.return);break;case 22:if(y.memoizedState!==null){OE(v);continue}}S!==null?(S.return=y,Y=S):OE(v)}p=p.sibling}e:for(p=null,v=t;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=v.stateNode,h=v.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=zT("display",l))}catch(k){Xe(t,t.return,k)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(k){Xe(t,t.return,k)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Qn(e,t),cr(t),r&4&&NE(t);break;case 21:break;default:Qn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gl(i,""),r.flags&=-33);var s=xE(t);tm(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,c=xE(t);em(t,c,l);break;default:throw Error(z(161))}}catch(h){Xe(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QM(t,e,n){Y=t,vS(t)}function vS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Cc;if(!l){var c=i.alternate,h=c!==null&&c.memoizedState!==null||Vt;c=Cc;var d=Vt;if(Cc=l,(Vt=h)&&!d)for(Y=i;Y!==null;)l=Y,h=l.child,l.tag===22&&l.memoizedState!==null?LE(i):h!==null?(h.return=l,Y=h):LE(i);for(;s!==null;)Y=s,vS(s),s=s.sibling;Y=i,Cc=c,Vt=d}DE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):DE(t)}}function DE(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||cf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gE(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gE(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&yl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Vt||e.flags&512&&Zg(e)}catch(y){Xe(e,e.return,y)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function OE(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function LE(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cf(4,e)}catch(h){Xe(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){Xe(e,i,h)}}var s=e.return;try{Zg(e)}catch(h){Xe(e,s,h)}break;case 5:var l=e.return;try{Zg(e)}catch(h){Xe(e,l,h)}}}catch(h){Xe(e,e.return,h)}if(e===t){Y=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Y=c;break}Y=e.return}}var YM=Math.ceil,Sh=ei.ReactCurrentDispatcher,S_=ei.ReactCurrentOwner,$n=ei.ReactCurrentBatchConfig,Re=0,mt=null,st=null,At=0,mn=0,go=ji(0),ct=0,xl=null,Es=0,hf=0,A_=0,ol=null,tn=null,R_=0,Lo=1/0,Mr=null,Ah=!1,nm=null,ki=null,Pc=!1,Ei=null,Rh=0,al=0,rm=null,Kc=-1,Qc=0;function Kt(){return Re&6?tt():Kc!==-1?Kc:Kc=tt()}function xi(t){return t.mode&1?Re&2&&At!==0?At&-At:OM.transition!==null?(Qc===0&&(Qc=tI()),Qc):(t=De,t!==0||(t=window.event,t=t===void 0?16:lI(t.type)),t):1}function tr(t,e,n,r){if(50<al)throw al=0,rm=null,Error(z(185));Yl(t,n,r),(!(Re&2)||t!==mt)&&(t===mt&&(!(Re&2)&&(hf|=n),ct===4&&mi(t,At)),an(t,r),n===1&&Re===0&&!(e.mode&1)&&(Lo=tt()+500,af&&Wi()))}function an(t,e){var n=t.callbackNode;OV(t,e);var r=uh(t,t===mt?At:0);if(r===0)n!==null&&jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jw(n),e===1)t.tag===0?DM(VE.bind(null,t)):CI(VE.bind(null,t)),PM(function(){!(Re&6)&&Wi()}),n=null;else{switch(nI(r)){case 1:n=Jm;break;case 4:n=ZT;break;case 16:n=lh;break;case 536870912:n=eI;break;default:n=lh}n=RS(n,yS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yS(t,e){if(Kc=-1,Qc=0,Re&6)throw Error(z(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var r=uh(t,t===mt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ch(t,r);else{e=r;var i=Re;Re|=2;var s=ES();(mt!==t||At!==e)&&(Mr=null,Lo=tt()+500,ds(t,e));do try{ZM();break}catch(c){wS(t,c)}while(!0);h_(),Sh.current=s,Re=i,st!==null?e=0:(mt=null,At=0,e=ct)}if(e!==0){if(e===2&&(i=xg(t),i!==0&&(r=i,e=im(t,i))),e===1)throw n=xl,ds(t,0),mi(t,r),an(t,tt()),n;if(e===6)mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!XM(i)&&(e=Ch(t,r),e===2&&(s=xg(t),s!==0&&(r=s,e=im(t,s))),e===1))throw n=xl,ds(t,0),mi(t,r),an(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:is(t,tn,Mr);break;case 3:if(mi(t,r),(r&130023424)===r&&(e=R_+500-tt(),10<e)){if(uh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ug(is.bind(null,t,tn,Mr),e);break}is(t,tn,Mr);break;case 4:if(mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-er(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YM(r/1960))-r,10<r){t.timeoutHandle=Ug(is.bind(null,t,tn,Mr),r);break}is(t,tn,Mr);break;case 5:is(t,tn,Mr);break;default:throw Error(z(329))}}}return an(t,tt()),t.callbackNode===n?yS.bind(null,t):null}function im(t,e){var n=ol;return t.current.memoizedState.isDehydrated&&(ds(t,e).flags|=256),t=Ch(t,e),t!==2&&(e=tn,tn=n,e!==null&&sm(e)),t}function sm(t){tn===null?tn=t:tn.push.apply(tn,t)}function XM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~A_,e&=~hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function VE(t){if(Re&6)throw Error(z(327));To();var e=uh(t,0);if(!(e&1))return an(t,tt()),null;var n=Ch(t,e);if(t.tag!==0&&n===2){var r=xg(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=xl,ds(t,0),mi(t,e),an(t,tt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,tn,Mr),an(t,tt()),null}function C_(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Lo=tt()+500,af&&Wi())}}function Ts(t){Ei!==null&&Ei.tag===0&&!(Re&6)&&To();var e=Re;Re|=1;var n=$n.transition,r=De;try{if($n.transition=null,De=1,t)return t()}finally{De=r,$n.transition=n,Re=e,!(Re&6)&&Wi()}}function P_(){mn=go.current,ze(go)}function ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CM(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(l_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ph();break;case 3:Do(),ze(sn),ze($t),__();break;case 5:m_(r);break;case 4:Do();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:f_(r.type._context);break;case 22:case 23:P_()}n=n.return}if(mt=t,st=t=Ni(t.current,null),At=mn=e,ct=0,xl=null,A_=hf=Es=0,tn=ol=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}as=null}return t}function wS(t,e){do{var n=st;try{if(h_(),Hc.current=Ih,Th){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Th=!1}if(ws=0,gt=ut=Ge=null,il=!1,Cl=0,S_.current=null,n===null||n.return===null){ct=1,xl=e,st=null;break}e:{var s=t,l=n.return,c=n,h=e;if(e=At,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,p=c,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=TE(l);if(S!==null){S.flags&=-257,IE(S,l,c,s,e),S.mode&1&&EE(s,d,e),e=S,h=d;var P=e.updateQueue;if(P===null){var k=new Set;k.add(h),e.updateQueue=k}else P.add(h);break e}else{if(!(e&1)){EE(s,d,e),k_();break e}h=Error(z(426))}}else if(We&&c.mode&1){var L=TE(l);if(L!==null){!(L.flags&65536)&&(L.flags|=256),IE(L,l,c,s,e),u_(Oo(h,c));break e}}s=h=Oo(h,c),ct!==4&&(ct=2),ol===null?ol=[s]:ol.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=rS(s,h,e);pE(s,T);break e;case 1:c=h;var E=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ki===null||!ki.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=iS(s,c,e);pE(s,D);break e}}s=s.return}while(s!==null)}IS(n)}catch(B){e=B,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function ES(){var t=Sh.current;return Sh.current=Ih,t===null?Ih:t}function k_(){(ct===0||ct===3||ct===2)&&(ct=4),mt===null||!(Es&268435455)&&!(hf&268435455)||mi(mt,At)}function Ch(t,e){var n=Re;Re|=2;var r=ES();(mt!==t||At!==e)&&(Mr=null,ds(t,e));do try{JM();break}catch(i){wS(t,i)}while(!0);if(h_(),Re=n,Sh.current=r,st!==null)throw Error(z(261));return mt=null,At=0,ct}function JM(){for(;st!==null;)TS(st)}function ZM(){for(;st!==null&&!SV();)TS(st)}function TS(t){var e=AS(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?IS(t):st=e,S_.current=null}function IS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qM(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,st=null;return}}else if(n=HM(n,e,mn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ct===0&&(ct=5)}function is(t,e,n){var r=De,i=$n.transition;try{$n.transition=null,De=1,e4(t,e,n,r)}finally{$n.transition=i,De=r}return null}function e4(t,e,n,r){do To();while(Ei!==null);if(Re&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LV(t,s),t===mt&&(st=mt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pc||(Pc=!0,RS(lh,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var l=De;De=1;var c=Re;Re|=4,S_.current=null,KM(t,n),_S(n,t),wM(Mg),ch=!!Vg,Mg=Vg=null,t.current=n,QM(n),AV(),Re=c,De=l,$n.transition=s}else t.current=n;if(Pc&&(Pc=!1,Ei=t,Rh=i),s=t.pendingLanes,s===0&&(ki=null),PV(n.stateNode),an(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ah)throw Ah=!1,t=nm,nm=null,t;return Rh&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===rm?al++:(al=0,rm=t):al=0,Wi(),null}function To(){if(Ei!==null){var t=nI(Rh),e=$n.transition,n=De;try{if($n.transition=null,De=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Rh=0,Re&6)throw Error(z(331));var i=Re;for(Re|=4,Y=t.current;Y!==null;){var s=Y,l=s.child;if(Y.flags&16){var c=s.deletions;if(c!==null){for(var h=0;h<c.length;h++){var d=c[h];for(Y=d;Y!==null;){var p=Y;switch(p.tag){case 0:case 11:case 15:sl(8,p,s)}var v=p.child;if(v!==null)v.return=p,Y=v;else for(;Y!==null;){p=Y;var y=p.sibling,S=p.return;if(pS(p),p===d){Y=null;break}if(y!==null){y.return=S,Y=y;break}Y=S}}}var P=s.alternate;if(P!==null){var k=P.child;if(k!==null){P.child=null;do{var L=k.sibling;k.sibling=null,k=L}while(k!==null)}}Y=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Y=l;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sl(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Y=T;break e}Y=s.return}}var E=t.current;for(Y=E;Y!==null;){l=Y;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,Y=A;else e:for(l=E;Y!==null;){if(c=Y,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:cf(9,c)}}catch(B){Xe(c,c.return,B)}if(c===l){Y=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,Y=D;break e}Y=c.return}}if(Re=i,Wi(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(tf,t)}catch{}r=!0}return r}finally{De=n,$n.transition=e}}return!1}function ME(t,e,n){e=Oo(n,e),e=rS(t,e,1),t=Pi(t,e,1),e=Kt(),t!==null&&(Yl(t,1,e),an(t,e))}function Xe(t,e,n){if(t.tag===3)ME(t,t,n);else for(;e!==null;){if(e.tag===3){ME(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Oo(n,t),t=iS(e,t,1),e=Pi(e,t,1),t=Kt(),e!==null&&(Yl(e,1,t),an(e,t));break}}e=e.return}}function t4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(At&n)===n&&(ct===4||ct===3&&(At&130023424)===At&&500>tt()-R_?ds(t,0):A_|=n),an(t,e)}function SS(t,e){e===0&&(t.mode&1?(e=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):e=1);var n=Kt();t=Gr(t,e),t!==null&&(Yl(t,e,n),an(t,n))}function n4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SS(t,n)}function r4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),SS(t,n)}var AS;AS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,WM(t,e,n);nn=!!(t.flags&131072)}else nn=!1,We&&e.flags&1048576&&PI(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=ko(e,$t.current);Eo(e,n),i=y_(null,e,r,t,i,n);var s=w_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,gh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p_(e),i.updater=lf,e.stateNode=i,i._reactInternals=e,Hg(e,r,t,n),e=Kg(null,e,r,!0,s,n)):(e.tag=0,We&&s&&a_(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=s4(r),t=Yn(r,t),i){case 0:e=Gg(null,e,r,t,n);break e;case 1:e=RE(null,e,r,t,n);break e;case 11:e=SE(null,e,r,t,n);break e;case 14:e=AE(null,e,r,Yn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Gg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),RE(t,e,r,i,n);case 3:e:{if(lS(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DI(t,e),wh(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oo(Error(z(423)),e),e=CE(t,e,r,n,i);break e}else if(r!==i){i=Oo(Error(z(424)),e),e=CE(t,e,r,n,i);break e}else for(_n=Ci(e.stateNode.containerInfo.firstChild),vn=e,We=!0,Jn=null,n=MI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=Kr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return FI(e),t===null&&zg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,Fg(r,i)?l=null:s!==null&&Fg(r,s)&&(e.flags|=32),aS(t,e),qt(t,e,l,n),e.child;case 6:return t===null&&zg(e),null;case 13:return uS(t,e,n);case 4:return g_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=No(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),SE(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,Me(vh,r._currentValue),r._currentValue=l,s!==null)if(rr(s.value,l)){if(s.children===i.children&&!sn.current){e=Kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=jr(-1,n&-n),h.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?h.next=h:(h.next=p.next,p.next=h),d.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),jg(s.return,n,e),c.lanes|=n;break}h=h.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(z(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),jg(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),i=bn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),AE(t,e,r,i,n);case 15:return sS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Gc(t,e),e.tag=1,on(r)?(t=!0,gh(e)):t=!1,Eo(e,n),LI(e,r,i),Hg(e,r,i,n),Kg(null,e,r,!0,t,n);case 19:return cS(t,e,n);case 22:return oS(t,e,n)}throw Error(z(156,e.tag))};function RS(t,e){return JT(t,e)}function i4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new i4(t,e,n,r)}function x_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s4(t){if(typeof t=="function")return x_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qm)return 11;if(t===Ym)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yc(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")x_(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case io:return ps(n.children,i,s,e);case Km:l=8,i|=8;break;case gg:return t=Un(12,n,e,i|2),t.elementType=gg,t.lanes=s,t;case mg:return t=Un(13,n,e,i),t.elementType=mg,t.lanes=s,t;case _g:return t=Un(19,n,e,i),t.elementType=_g,t.lanes=s,t;case VT:return ff(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OT:l=10;break e;case LT:l=9;break e;case Qm:l=11;break e;case Ym:l=14;break e;case di:l=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Un(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ps(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function ff(t,e,n,r){return t=Un(22,t,r,e),t.elementType=VT,t.lanes=n,t.stateNode={isHidden:!1},t}function Hp(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rp(0),this.expirationTimes=Rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N_(t,e,n,r,i,s,l,c,h){return t=new o4(t,e,n,c,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p_(s),t}function a4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CS(t){if(!t)return Fi;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(on(n))return RI(t,n,e)}return e}function PS(t,e,n,r,i,s,l,c,h){return t=N_(n,r,!0,t,i,s,l,c,h),t.context=CS(null),n=t.current,r=Kt(),i=xi(n),s=jr(r,i),s.callback=e??null,Pi(n,s,i),t.current.lanes=i,Yl(t,i,r),an(t,r),t}function df(t,e,n,r){var i=e.current,s=Kt(),l=xi(i);return n=CS(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pi(i,e,l),t!==null&&(tr(t,i,l,s),Wc(t,i,l)),l}function Ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D_(t,e){FE(t,e),(t=t.alternate)&&FE(t,e)}function l4(){return null}var kS=typeof reportError=="function"?reportError:function(t){console.error(t)};function O_(t){this._internalRoot=t}pf.prototype.render=O_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));df(t,e,null,null)};pf.prototype.unmount=O_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){df(null,t,null,null)}),e[qr]=null}};function pf(t){this._internalRoot=t}pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=sI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&aI(t)}};function L_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UE(){}function u4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Ph(l);s.call(d)}}var l=PS(e,r,t,0,null,!1,!1,"",UE);return t._reactRootContainer=l,t[qr]=l.current,Tl(t.nodeType===8?t.parentNode:t),Ts(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=Ph(h);c.call(d)}}var h=N_(t,0,!1,null,null,!1,!1,"",UE);return t._reactRootContainer=h,t[qr]=h.current,Tl(t.nodeType===8?t.parentNode:t),Ts(function(){df(e,h,n,r)}),h}function mf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var c=i;i=function(){var h=Ph(l);c.call(h)}}df(e,l,t,i)}else l=u4(n,e,t,i,r);return Ph(l)}rI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(Zm(e,n|1),an(e,tt()),!(Re&6)&&(Lo=tt()+500,Wi()))}break;case 13:Ts(function(){var r=Gr(t,1);if(r!==null){var i=Kt();tr(r,t,1,i)}}),D_(t,1)}};e_=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=Kt();tr(e,t,134217728,n)}D_(t,134217728)}};iI=function(t){if(t.tag===13){var e=xi(t),n=Gr(t,e);if(n!==null){var r=Kt();tr(n,t,e,r)}D_(t,e)}};sI=function(){return De};oI=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Cg=function(t,e,n){switch(e){case"input":if(wg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=of(r);if(!i)throw Error(z(90));FT(r),wg(r,i)}}}break;case"textarea":$T(t,n);break;case"select":e=n.value,e!=null&&_o(t,!!n.multiple,e,!1)}};qT=C_;GT=Ts;var c4={usingClientEntryPoint:!1,Events:[Jl,lo,of,WT,HT,C_]},ba={findFiberByHostInstance:os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h4={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YT(t),t===null?null:t.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||l4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{tf=kc.inject(h4),_r=kc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L_(e))throw Error(z(200));return a4(t,e,null,n)};En.createRoot=function(t,e){if(!L_(t))throw Error(z(299));var n=!1,r="",i=kS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N_(t,1,!1,null,null,n,!1,r,i),t[qr]=e.current,Tl(t.nodeType===8?t.parentNode:t),new O_(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=YT(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Ts(t)};En.hydrate=function(t,e,n){if(!gf(e))throw Error(z(200));return mf(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!L_(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=kS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=PS(e,null,t,1,n??null,i,!1,s,l),t[qr]=e.current,Tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pf(e)};En.render=function(t,e,n){if(!gf(e))throw Error(z(200));return mf(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!gf(t))throw Error(z(40));return t._reactRootContainer?(Ts(function(){mf(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};En.unstable_batchedUpdates=C_;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return mf(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(t){console.error(t)}}xS(),PT.exports=En;var f4=PT.exports,$E=f4;dg.createRoot=$E.createRoot,dg.hydrateRoot=$E.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}var Ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ti||(Ti={}));const bE="popstate";function d4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return om("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:NS(i)}return g4(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p4(){return Math.random().toString(36).substr(2,8)}function BE(t,e){return{usr:t.state,key:t.key,idx:e}}function om(t,e,n,r){return n===void 0&&(n=null),Nl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:n,key:e&&e.key||r||p4()})}function NS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c=Ti.Pop,h=null,d=p();d==null&&(d=0,l.replaceState(Nl({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function v(){c=Ti.Pop;let L=p(),T=L==null?null:L-d;d=L,h&&h({action:c,location:k.location,delta:T})}function y(L,T){c=Ti.Push;let E=om(k.location,L,T);n&&n(E,L),d=p()+1;let A=BE(E,d),D=k.createHref(E);try{l.pushState(A,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}s&&h&&h({action:c,location:k.location,delta:1})}function S(L,T){c=Ti.Replace;let E=om(k.location,L,T);n&&n(E,L),d=p();let A=BE(E,d),D=k.createHref(E);l.replaceState(A,"",D),s&&h&&h({action:c,location:k.location,delta:0})}function P(L){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof L=="string"?L:NS(L);return ht(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let k={get action(){return c},get location(){return t(i,l)},listen(L){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(bE,v),h=L,()=>{i.removeEventListener(bE,v),h=null}},createHref(L){return e(i,L)},createURL:P,encodeLocation(L){let T=P(L);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:S,go(L){return l.go(L)}};return k}var zE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zE||(zE={}));function m4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qo(e):e,i=LS(r.pathname||"/",n);if(i==null)return null;let s=DS(t);_4(s);let l=null;for(let c=0;l==null&&c<s.length;++c)l=R4(s[c],k4(i));return l}function DS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(ht(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let d=gs([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),DS(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:S4(d,s.index),routesMeta:p})};return t.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let h of OS(s.path))i(s,l,h)}),e}function OS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=OS(r.join("/")),c=[];return c.push(...l.map(h=>h===""?s:[s,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function _4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:A4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v4=/^:\w+$/,y4=3,w4=2,E4=1,T4=10,I4=-2,jE=t=>t==="*";function S4(t,e){let n=t.split("/"),r=n.length;return n.some(jE)&&(r+=I4),e&&(r+=w4),n.filter(i=>!jE(i)).reduce((i,s)=>i+(v4.test(s)?y4:s===""?E4:T4),r)}function A4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function R4(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=C4({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d);if(!p)return null;Object.assign(r,p.params);let v=c.route;s.push({params:r,pathname:gs([i,p.pathname]),pathnameBase:M4(gs([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=gs([i,p.pathnameBase]))}return s}function C4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,p,v)=>{let{paramName:y,isOptional:S}=p;if(y==="*"){let k=c[v]||"";l=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const P=c[v];return S&&!P?d[y]=void 0:d[y]=x4(P||"",y),d},{}),pathname:s,pathnameBase:l,pattern:t}}function P4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),V_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function k4(t){try{return decodeURI(t)}catch(e){return V_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function x4(t,e){try{return decodeURIComponent(t)}catch(n){return V_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function LS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:D4(n,e):e,search:F4(r),hash:U4(i)}}function D4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L4(t){return O4(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function V4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qo(t):(i=Nl({},t),ht(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else if(r){let v=e[e.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v.pop();i.pathname=y.join("/")}c="/"+v.join("/")}else{let v=e.length-1;if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}c=v>=0?e[v]:"/"}let h=N4(i,c),d=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),M4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VS=["post","put","patch","delete"];new Set(VS);const b4=["get",...VS];new Set(b4);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}const M_=j.createContext(null),B4=j.createContext(null),_f=j.createContext(null),vf=j.createContext(null),Yo=j.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=j.createContext(null);function yf(){return j.useContext(vf)!=null}function FS(){return yf()||ht(!1),j.useContext(vf).location}function US(t){j.useContext(_f).static||j.useLayoutEffect(t)}function z4(){let{isDataRoute:t}=j.useContext(Yo);return t?tF():j4()}function j4(){yf()||ht(!1);let t=j.useContext(M_),{basename:e,navigator:n}=j.useContext(_f),{matches:r}=j.useContext(Yo),{pathname:i}=FS(),s=JSON.stringify(L4(r)),l=j.useRef(!1);return US(()=>{l.current=!0}),j.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=V4(h,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gs([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,s,i,t])}function W4(t,e){return H4(t,e)}function H4(t,e,n){yf()||ht(!1);let{navigator:r}=j.useContext(_f),{matches:i}=j.useContext(Yo),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let h=FS(),d;if(e){var p;let k=typeof e=="string"?Qo(e):e;c==="/"||(p=k.pathname)!=null&&p.startsWith(c)||ht(!1),d=k}else d=h;let v=d.pathname||"/",y=c==="/"?v:v.slice(c.length)||"/",S=m4(t,{pathname:y}),P=Y4(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:gs([c,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:gs([c,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n);return e&&P?j.createElement(vf.Provider,{value:{location:kh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ti.Pop}},P):P}function q4(){let t=eF(),e=$4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,s)}const G4=j.createElement(q4,null);class K4 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?j.createElement(Yo.Provider,{value:this.props.routeContext},j.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q4(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(M_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Yo.Provider,{value:e},r)}function Y4(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let c=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));c>=0||ht(!1),s=s.slice(0,Math.min(s.length,c+1))}return s.reduceRight((c,h,d)=>{let p=h.route.id?l==null?void 0:l[h.route.id]:null,v=null;n&&(v=h.route.errorElement||G4);let y=e.concat(s.slice(0,d+1)),S=()=>{let P;return p?P=v:h.route.Component?P=j.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=c,j.createElement(Q4,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:P})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?j.createElement(K4,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}var $S=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($S||{}),xh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xh||{});function X4(t){let e=j.useContext(M_);return e||ht(!1),e}function J4(t){let e=j.useContext(B4);return e||ht(!1),e}function Z4(t){let e=j.useContext(Yo);return e||ht(!1),e}function bS(t){let e=Z4(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function eF(){var t;let e=j.useContext(MS),n=J4(xh.UseRouteError),r=bS(xh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tF(){let{router:t}=X4($S.UseNavigateStable),e=bS(xh.UseNavigateStable),n=j.useRef(!1);return US(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kh({fromRouteId:e},s)))},[t,e])}function am(t){ht(!1)}function nF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ti.Pop,navigator:s,static:l=!1}=t;yf()&&ht(!1);let c=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:c,navigator:s,static:l}),[c,s,l]);typeof r=="string"&&(r=Qo(r));let{pathname:d="/",search:p="",hash:v="",state:y=null,key:S="default"}=r,P=j.useMemo(()=>{let k=LS(d,c);return k==null?null:{location:{pathname:k,search:p,hash:v,state:y,key:S},navigationType:i}},[c,d,p,v,y,S,i]);return P==null?null:j.createElement(_f.Provider,{value:h},j.createElement(vf.Provider,{children:n,value:P}))}function rF(t){let{children:e,location:n}=t;return W4(lm(e),n)}new Promise(()=>{});function lm(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,lm(r.props.children,s));return}r.type!==am&&ht(!1),!r.props.index||!r.props.children||ht(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=lm(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iF="startTransition",WE=nV[iF];function sF(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=d4({window:i,v5Compat:!0}));let l=s.current,[c,h]=j.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=j.useCallback(v=>{d&&WE?WE(()=>h(v)):h(v)},[h,d]);return j.useLayoutEffect(()=>l.listen(p),[l,p]),j.createElement(nF,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l})}var HE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HE||(HE={}));var qE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qE||(qE={}));var Nh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Nh.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",v=1,y=2,S=4,P=1,k=2,L=1,T=2,E=4,A=8,D=16,B=32,b=64,W=128,H=256,ae=512,ne=30,zt="...",In=800,Sn=16,Gi=1,la=2,ua=3,zn=1/0,K=9007199254740991,he=17976931348623157e292,fe=NaN,Ce=4294967295,nt=Ce-1,Vs=Ce>>>1,Ar=[["ary",W],["bind",L],["bindKey",T],["curry",A],["curryRight",D],["flip",ae],["partial",B],["partialRight",b],["rearg",H]],or="[object Arguments]",An="[object Array]",Ms="[object AsyncFunction]",ca="[object Boolean]",ha="[object Date]",tP="[object DOMException]",Tu="[object Error]",Iu="[object Function]",ey="[object GeneratorFunction]",jn="[object Map]",fa="[object Number]",nP="[object Null]",Rr="[object Object]",ty="[object Promise]",rP="[object Proxy]",da="[object RegExp]",Wn="[object Set]",pa="[object String]",Su="[object Symbol]",iP="[object Undefined]",ga="[object WeakMap]",sP="[object WeakSet]",ma="[object ArrayBuffer]",Fs="[object DataView]",ed="[object Float32Array]",td="[object Float64Array]",nd="[object Int8Array]",rd="[object Int16Array]",id="[object Int32Array]",sd="[object Uint8Array]",od="[object Uint8ClampedArray]",ad="[object Uint16Array]",ld="[object Uint32Array]",oP=/\b__p \+= '';/g,aP=/\b(__p \+=) '' \+/g,lP=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ny=/&(?:amp|lt|gt|quot|#39);/g,ry=/[&<>"']/g,uP=RegExp(ny.source),cP=RegExp(ry.source),hP=/<%-([\s\S]+?)%>/g,fP=/<%([\s\S]+?)%>/g,iy=/<%=([\s\S]+?)%>/g,dP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pP=/^\w*$/,gP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ud=/[\\^$.*+?()[\]{}|]/g,mP=RegExp(ud.source),cd=/^\s+/,_P=/\s/,vP=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yP=/\{\n\/\* \[wrapped with (.+)\] \*/,wP=/,? & /,EP=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,TP=/[()=,{}\[\]\/\s]/,IP=/\\(\\)?/g,SP=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sy=/\w*$/,AP=/^[-+]0x[0-9a-f]+$/i,RP=/^0b[01]+$/i,CP=/^\[object .+?Constructor\]$/,PP=/^0o[0-7]+$/i,kP=/^(?:0|[1-9]\d*)$/,xP=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Au=/($^)/,NP=/['\n\r\u2028\u2029\\]/g,Ru="\\ud800-\\udfff",DP="\\u0300-\\u036f",OP="\\ufe20-\\ufe2f",LP="\\u20d0-\\u20ff",oy=DP+OP+LP,ay="\\u2700-\\u27bf",ly="a-z\\xdf-\\xf6\\xf8-\\xff",VP="\\xac\\xb1\\xd7\\xf7",MP="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",FP="\\u2000-\\u206f",UP=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uy="A-Z\\xc0-\\xd6\\xd8-\\xde",cy="\\ufe0e\\ufe0f",hy=VP+MP+FP+UP,hd="['’]",$P="["+Ru+"]",fy="["+hy+"]",Cu="["+oy+"]",dy="\\d+",bP="["+ay+"]",py="["+ly+"]",gy="[^"+Ru+hy+dy+ay+ly+uy+"]",fd="\\ud83c[\\udffb-\\udfff]",BP="(?:"+Cu+"|"+fd+")",my="[^"+Ru+"]",dd="(?:\\ud83c[\\udde6-\\uddff]){2}",pd="[\\ud800-\\udbff][\\udc00-\\udfff]",Us="["+uy+"]",_y="\\u200d",vy="(?:"+py+"|"+gy+")",zP="(?:"+Us+"|"+gy+")",yy="(?:"+hd+"(?:d|ll|m|re|s|t|ve))?",wy="(?:"+hd+"(?:D|LL|M|RE|S|T|VE))?",Ey=BP+"?",Ty="["+cy+"]?",jP="(?:"+_y+"(?:"+[my,dd,pd].join("|")+")"+Ty+Ey+")*",WP="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",HP="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Iy=Ty+Ey+jP,qP="(?:"+[bP,dd,pd].join("|")+")"+Iy,GP="(?:"+[my+Cu+"?",Cu,dd,pd,$P].join("|")+")",KP=RegExp(hd,"g"),QP=RegExp(Cu,"g"),gd=RegExp(fd+"(?="+fd+")|"+GP+Iy,"g"),YP=RegExp([Us+"?"+py+"+"+yy+"(?="+[fy,Us,"$"].join("|")+")",zP+"+"+wy+"(?="+[fy,Us+vy,"$"].join("|")+")",Us+"?"+vy+"+"+yy,Us+"+"+wy,HP,WP,dy,qP].join("|"),"g"),XP=RegExp("["+_y+Ru+oy+cy+"]"),JP=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ZP=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ek=-1,Ue={};Ue[ed]=Ue[td]=Ue[nd]=Ue[rd]=Ue[id]=Ue[sd]=Ue[od]=Ue[ad]=Ue[ld]=!0,Ue[or]=Ue[An]=Ue[ma]=Ue[ca]=Ue[Fs]=Ue[ha]=Ue[Tu]=Ue[Iu]=Ue[jn]=Ue[fa]=Ue[Rr]=Ue[da]=Ue[Wn]=Ue[pa]=Ue[ga]=!1;var Ve={};Ve[or]=Ve[An]=Ve[ma]=Ve[Fs]=Ve[ca]=Ve[ha]=Ve[ed]=Ve[td]=Ve[nd]=Ve[rd]=Ve[id]=Ve[jn]=Ve[fa]=Ve[Rr]=Ve[da]=Ve[Wn]=Ve[pa]=Ve[Su]=Ve[sd]=Ve[od]=Ve[ad]=Ve[ld]=!0,Ve[Tu]=Ve[Iu]=Ve[ga]=!1;var tk={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rk={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ik={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sk=parseFloat,ok=parseInt,Sy=typeof Da=="object"&&Da&&Da.Object===Object&&Da,ak=typeof self=="object"&&self&&self.Object===Object&&self,yt=Sy||ak||Function("return this")(),md=e&&!e.nodeType&&e,Ki=md&&!0&&t&&!t.nodeType&&t,Ay=Ki&&Ki.exports===md,_d=Ay&&Sy.process,Rn=function(){try{var R=Ki&&Ki.require&&Ki.require("util").types;return R||_d&&_d.binding&&_d.binding("util")}catch{}}(),Ry=Rn&&Rn.isArrayBuffer,Cy=Rn&&Rn.isDate,Py=Rn&&Rn.isMap,ky=Rn&&Rn.isRegExp,xy=Rn&&Rn.isSet,Ny=Rn&&Rn.isTypedArray;function cn(R,O,N){switch(N.length){case 0:return R.call(O);case 1:return R.call(O,N[0]);case 2:return R.call(O,N[0],N[1]);case 3:return R.call(O,N[0],N[1],N[2])}return R.apply(O,N)}function lk(R,O,N,Q){for(var le=-1,Pe=R==null?0:R.length;++le<Pe;){var at=R[le];O(Q,at,N(at),R)}return Q}function Cn(R,O){for(var N=-1,Q=R==null?0:R.length;++N<Q&&O(R[N],N,R)!==!1;);return R}function uk(R,O){for(var N=R==null?0:R.length;N--&&O(R[N],N,R)!==!1;);return R}function Dy(R,O){for(var N=-1,Q=R==null?0:R.length;++N<Q;)if(!O(R[N],N,R))return!1;return!0}function ni(R,O){for(var N=-1,Q=R==null?0:R.length,le=0,Pe=[];++N<Q;){var at=R[N];O(at,N,R)&&(Pe[le++]=at)}return Pe}function Pu(R,O){var N=R==null?0:R.length;return!!N&&$s(R,O,0)>-1}function vd(R,O,N){for(var Q=-1,le=R==null?0:R.length;++Q<le;)if(N(O,R[Q]))return!0;return!1}function je(R,O){for(var N=-1,Q=R==null?0:R.length,le=Array(Q);++N<Q;)le[N]=O(R[N],N,R);return le}function ri(R,O){for(var N=-1,Q=O.length,le=R.length;++N<Q;)R[le+N]=O[N];return R}function yd(R,O,N,Q){var le=-1,Pe=R==null?0:R.length;for(Q&&Pe&&(N=R[++le]);++le<Pe;)N=O(N,R[le],le,R);return N}function ck(R,O,N,Q){var le=R==null?0:R.length;for(Q&&le&&(N=R[--le]);le--;)N=O(N,R[le],le,R);return N}function wd(R,O){for(var N=-1,Q=R==null?0:R.length;++N<Q;)if(O(R[N],N,R))return!0;return!1}var hk=Ed("length");function fk(R){return R.split("")}function dk(R){return R.match(EP)||[]}function Oy(R,O,N){var Q;return N(R,function(le,Pe,at){if(O(le,Pe,at))return Q=Pe,!1}),Q}function ku(R,O,N,Q){for(var le=R.length,Pe=N+(Q?1:-1);Q?Pe--:++Pe<le;)if(O(R[Pe],Pe,R))return Pe;return-1}function $s(R,O,N){return O===O?Ak(R,O,N):ku(R,Ly,N)}function pk(R,O,N,Q){for(var le=N-1,Pe=R.length;++le<Pe;)if(Q(R[le],O))return le;return-1}function Ly(R){return R!==R}function Vy(R,O){var N=R==null?0:R.length;return N?Id(R,O)/N:fe}function Ed(R){return function(O){return O==null?n:O[R]}}function Td(R){return function(O){return R==null?n:R[O]}}function My(R,O,N,Q,le){return le(R,function(Pe,at,Le){N=Q?(Q=!1,Pe):O(N,Pe,at,Le)}),N}function gk(R,O){var N=R.length;for(R.sort(O);N--;)R[N]=R[N].value;return R}function Id(R,O){for(var N,Q=-1,le=R.length;++Q<le;){var Pe=O(R[Q]);Pe!==n&&(N=N===n?Pe:N+Pe)}return N}function Sd(R,O){for(var N=-1,Q=Array(R);++N<R;)Q[N]=O(N);return Q}function mk(R,O){return je(O,function(N){return[N,R[N]]})}function Fy(R){return R&&R.slice(0,By(R)+1).replace(cd,"")}function hn(R){return function(O){return R(O)}}function Ad(R,O){return je(O,function(N){return R[N]})}function _a(R,O){return R.has(O)}function Uy(R,O){for(var N=-1,Q=R.length;++N<Q&&$s(O,R[N],0)>-1;);return N}function $y(R,O){for(var N=R.length;N--&&$s(O,R[N],0)>-1;);return N}function _k(R,O){for(var N=R.length,Q=0;N--;)R[N]===O&&++Q;return Q}var vk=Td(tk),yk=Td(nk);function wk(R){return"\\"+ik[R]}function Ek(R,O){return R==null?n:R[O]}function bs(R){return XP.test(R)}function Tk(R){return JP.test(R)}function Ik(R){for(var O,N=[];!(O=R.next()).done;)N.push(O.value);return N}function Rd(R){var O=-1,N=Array(R.size);return R.forEach(function(Q,le){N[++O]=[le,Q]}),N}function by(R,O){return function(N){return R(O(N))}}function ii(R,O){for(var N=-1,Q=R.length,le=0,Pe=[];++N<Q;){var at=R[N];(at===O||at===p)&&(R[N]=p,Pe[le++]=N)}return Pe}function xu(R){var O=-1,N=Array(R.size);return R.forEach(function(Q){N[++O]=Q}),N}function Sk(R){var O=-1,N=Array(R.size);return R.forEach(function(Q){N[++O]=[Q,Q]}),N}function Ak(R,O,N){for(var Q=N-1,le=R.length;++Q<le;)if(R[Q]===O)return Q;return-1}function Rk(R,O,N){for(var Q=N+1;Q--;)if(R[Q]===O)return Q;return Q}function Bs(R){return bs(R)?Pk(R):hk(R)}function Hn(R){return bs(R)?kk(R):fk(R)}function By(R){for(var O=R.length;O--&&_P.test(R.charAt(O)););return O}var Ck=Td(rk);function Pk(R){for(var O=gd.lastIndex=0;gd.test(R);)++O;return O}function kk(R){return R.match(gd)||[]}function xk(R){return R.match(YP)||[]}var Nk=function R(O){O=O==null?yt:zs.defaults(yt.Object(),O,zs.pick(yt,ZP));var N=O.Array,Q=O.Date,le=O.Error,Pe=O.Function,at=O.Math,Le=O.Object,Cd=O.RegExp,Dk=O.String,Pn=O.TypeError,Nu=N.prototype,Ok=Pe.prototype,js=Le.prototype,Du=O["__core-js_shared__"],Ou=Ok.toString,Ne=js.hasOwnProperty,Lk=0,zy=function(){var o=/[^.]+$/.exec(Du&&Du.keys&&Du.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Lu=js.toString,Vk=Ou.call(Le),Mk=yt._,Fk=Cd("^"+Ou.call(Ne).replace(ud,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vu=Ay?O.Buffer:n,si=O.Symbol,Mu=O.Uint8Array,jy=Vu?Vu.allocUnsafe:n,Fu=by(Le.getPrototypeOf,Le),Wy=Le.create,Hy=js.propertyIsEnumerable,Uu=Nu.splice,qy=si?si.isConcatSpreadable:n,va=si?si.iterator:n,Qi=si?si.toStringTag:n,$u=function(){try{var o=es(Le,"defineProperty");return o({},"",{}),o}catch{}}(),Uk=O.clearTimeout!==yt.clearTimeout&&O.clearTimeout,$k=Q&&Q.now!==yt.Date.now&&Q.now,bk=O.setTimeout!==yt.setTimeout&&O.setTimeout,bu=at.ceil,Bu=at.floor,Pd=Le.getOwnPropertySymbols,Bk=Vu?Vu.isBuffer:n,Gy=O.isFinite,zk=Nu.join,jk=by(Le.keys,Le),lt=at.max,kt=at.min,Wk=Q.now,Hk=O.parseInt,Ky=at.random,qk=Nu.reverse,kd=es(O,"DataView"),ya=es(O,"Map"),xd=es(O,"Promise"),Ws=es(O,"Set"),wa=es(O,"WeakMap"),Ea=es(Le,"create"),zu=wa&&new wa,Hs={},Gk=ts(kd),Kk=ts(ya),Qk=ts(xd),Yk=ts(Ws),Xk=ts(wa),ju=si?si.prototype:n,Ta=ju?ju.valueOf:n,Qy=ju?ju.toString:n;function m(o){if(Ye(o)&&!de(o)&&!(o instanceof we)){if(o instanceof kn)return o;if(Ne.call(o,"__wrapped__"))return Y0(o)}return new kn(o)}var qs=function(){function o(){}return function(a){if(!He(a))return{};if(Wy)return Wy(a);o.prototype=a;var u=new o;return o.prototype=n,u}}();function Wu(){}function kn(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}m.templateSettings={escape:hP,evaluate:fP,interpolate:iy,variable:"",imports:{_:m}},m.prototype=Wu.prototype,m.prototype.constructor=m,kn.prototype=qs(Wu.prototype),kn.prototype.constructor=kn;function we(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function Jk(){var o=new we(this.__wrapped__);return o.__actions__=Xt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Xt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Xt(this.__views__),o}function Zk(){if(this.__filtered__){var o=new we(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function ex(){var o=this.__wrapped__.value(),a=this.__dir__,u=de(o),f=a<0,g=u?o.length:0,_=fN(0,g,this.__views__),w=_.start,I=_.end,C=I-w,V=f?I:w-1,M=this.__iteratees__,U=M.length,q=0,Z=kt(C,this.__takeCount__);if(!u||!f&&g==C&&Z==C)return y0(o,this.__actions__);var re=[];e:for(;C--&&q<Z;){V+=a;for(var me=-1,ie=o[V];++me<U;){var ve=M[me],Ie=ve.iteratee,pn=ve.type,Ht=Ie(ie);if(pn==la)ie=Ht;else if(!Ht){if(pn==Gi)continue e;break e}}re[q++]=ie}return re}we.prototype=qs(Wu.prototype),we.prototype.constructor=we;function Yi(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var f=o[a];this.set(f[0],f[1])}}function tx(){this.__data__=Ea?Ea(null):{},this.size=0}function nx(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function rx(o){var a=this.__data__;if(Ea){var u=a[o];return u===h?n:u}return Ne.call(a,o)?a[o]:n}function ix(o){var a=this.__data__;return Ea?a[o]!==n:Ne.call(a,o)}function sx(o,a){var u=this.__data__;return this.size+=this.has(o)?0:1,u[o]=Ea&&a===n?h:a,this}Yi.prototype.clear=tx,Yi.prototype.delete=nx,Yi.prototype.get=rx,Yi.prototype.has=ix,Yi.prototype.set=sx;function Cr(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var f=o[a];this.set(f[0],f[1])}}function ox(){this.__data__=[],this.size=0}function ax(o){var a=this.__data__,u=Hu(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():Uu.call(a,u,1),--this.size,!0}function lx(o){var a=this.__data__,u=Hu(a,o);return u<0?n:a[u][1]}function ux(o){return Hu(this.__data__,o)>-1}function cx(o,a){var u=this.__data__,f=Hu(u,o);return f<0?(++this.size,u.push([o,a])):u[f][1]=a,this}Cr.prototype.clear=ox,Cr.prototype.delete=ax,Cr.prototype.get=lx,Cr.prototype.has=ux,Cr.prototype.set=cx;function Pr(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var f=o[a];this.set(f[0],f[1])}}function hx(){this.size=0,this.__data__={hash:new Yi,map:new(ya||Cr),string:new Yi}}function fx(o){var a=rc(this,o).delete(o);return this.size-=a?1:0,a}function dx(o){return rc(this,o).get(o)}function px(o){return rc(this,o).has(o)}function gx(o,a){var u=rc(this,o),f=u.size;return u.set(o,a),this.size+=u.size==f?0:1,this}Pr.prototype.clear=hx,Pr.prototype.delete=fx,Pr.prototype.get=dx,Pr.prototype.has=px,Pr.prototype.set=gx;function Xi(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new Pr;++a<u;)this.add(o[a])}function mx(o){return this.__data__.set(o,h),this}function _x(o){return this.__data__.has(o)}Xi.prototype.add=Xi.prototype.push=mx,Xi.prototype.has=_x;function qn(o){var a=this.__data__=new Cr(o);this.size=a.size}function vx(){this.__data__=new Cr,this.size=0}function yx(o){var a=this.__data__,u=a.delete(o);return this.size=a.size,u}function wx(o){return this.__data__.get(o)}function Ex(o){return this.__data__.has(o)}function Tx(o,a){var u=this.__data__;if(u instanceof Cr){var f=u.__data__;if(!ya||f.length<i-1)return f.push([o,a]),this.size=++u.size,this;u=this.__data__=new Pr(f)}return u.set(o,a),this.size=u.size,this}qn.prototype.clear=vx,qn.prototype.delete=yx,qn.prototype.get=wx,qn.prototype.has=Ex,qn.prototype.set=Tx;function Yy(o,a){var u=de(o),f=!u&&ns(o),g=!u&&!f&&ci(o),_=!u&&!f&&!g&&Ys(o),w=u||f||g||_,I=w?Sd(o.length,Dk):[],C=I.length;for(var V in o)(a||Ne.call(o,V))&&!(w&&(V=="length"||g&&(V=="offset"||V=="parent")||_&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||Dr(V,C)))&&I.push(V);return I}function Xy(o){var a=o.length;return a?o[Bd(0,a-1)]:n}function Ix(o,a){return ic(Xt(o),Ji(a,0,o.length))}function Sx(o){return ic(Xt(o))}function Nd(o,a,u){(u!==n&&!Gn(o[a],u)||u===n&&!(a in o))&&kr(o,a,u)}function Ia(o,a,u){var f=o[a];(!(Ne.call(o,a)&&Gn(f,u))||u===n&&!(a in o))&&kr(o,a,u)}function Hu(o,a){for(var u=o.length;u--;)if(Gn(o[u][0],a))return u;return-1}function Ax(o,a,u,f){return oi(o,function(g,_,w){a(f,g,u(g),w)}),f}function Jy(o,a){return o&&lr(a,dt(a),o)}function Rx(o,a){return o&&lr(a,Zt(a),o)}function kr(o,a,u){a=="__proto__"&&$u?$u(o,a,{configurable:!0,enumerable:!0,value:u,writable:!0}):o[a]=u}function Dd(o,a){for(var u=-1,f=a.length,g=N(f),_=o==null;++u<f;)g[u]=_?n:fp(o,a[u]);return g}function Ji(o,a,u){return o===o&&(u!==n&&(o=o<=u?o:u),a!==n&&(o=o>=a?o:a)),o}function xn(o,a,u,f,g,_){var w,I=a&v,C=a&y,V=a&S;if(u&&(w=g?u(o,f,g,_):u(o)),w!==n)return w;if(!He(o))return o;var M=de(o);if(M){if(w=pN(o),!I)return Xt(o,w)}else{var U=xt(o),q=U==Iu||U==ey;if(ci(o))return T0(o,I);if(U==Rr||U==or||q&&!g){if(w=C||q?{}:B0(o),!I)return C?rN(o,Rx(w,o)):nN(o,Jy(w,o))}else{if(!Ve[U])return g?o:{};w=gN(o,U,I)}}_||(_=new qn);var Z=_.get(o);if(Z)return Z;_.set(o,w),mw(o)?o.forEach(function(ie){w.add(xn(ie,a,u,ie,o,_))}):pw(o)&&o.forEach(function(ie,ve){w.set(ve,xn(ie,a,u,ve,o,_))});var re=V?C?Jd:Xd:C?Zt:dt,me=M?n:re(o);return Cn(me||o,function(ie,ve){me&&(ve=ie,ie=o[ve]),Ia(w,ve,xn(ie,a,u,ve,o,_))}),w}function Cx(o){var a=dt(o);return function(u){return Zy(u,o,a)}}function Zy(o,a,u){var f=u.length;if(o==null)return!f;for(o=Le(o);f--;){var g=u[f],_=a[g],w=o[g];if(w===n&&!(g in o)||!_(w))return!1}return!0}function e0(o,a,u){if(typeof o!="function")throw new Pn(l);return xa(function(){o.apply(n,u)},a)}function Sa(o,a,u,f){var g=-1,_=Pu,w=!0,I=o.length,C=[],V=a.length;if(!I)return C;u&&(a=je(a,hn(u))),f?(_=vd,w=!1):a.length>=i&&(_=_a,w=!1,a=new Xi(a));e:for(;++g<I;){var M=o[g],U=u==null?M:u(M);if(M=f||M!==0?M:0,w&&U===U){for(var q=V;q--;)if(a[q]===U)continue e;C.push(M)}else _(a,U,f)||C.push(M)}return C}var oi=C0(ar),t0=C0(Ld,!0);function Px(o,a){var u=!0;return oi(o,function(f,g,_){return u=!!a(f,g,_),u}),u}function qu(o,a,u){for(var f=-1,g=o.length;++f<g;){var _=o[f],w=a(_);if(w!=null&&(I===n?w===w&&!dn(w):u(w,I)))var I=w,C=_}return C}function kx(o,a,u,f){var g=o.length;for(u=ge(u),u<0&&(u=-u>g?0:g+u),f=f===n||f>g?g:ge(f),f<0&&(f+=g),f=u>f?0:vw(f);u<f;)o[u++]=a;return o}function n0(o,a){var u=[];return oi(o,function(f,g,_){a(f,g,_)&&u.push(f)}),u}function wt(o,a,u,f,g){var _=-1,w=o.length;for(u||(u=_N),g||(g=[]);++_<w;){var I=o[_];a>0&&u(I)?a>1?wt(I,a-1,u,f,g):ri(g,I):f||(g[g.length]=I)}return g}var Od=P0(),r0=P0(!0);function ar(o,a){return o&&Od(o,a,dt)}function Ld(o,a){return o&&r0(o,a,dt)}function Gu(o,a){return ni(a,function(u){return Or(o[u])})}function Zi(o,a){a=li(a,o);for(var u=0,f=a.length;o!=null&&u<f;)o=o[ur(a[u++])];return u&&u==f?o:n}function i0(o,a,u){var f=a(o);return de(o)?f:ri(f,u(o))}function jt(o){return o==null?o===n?iP:nP:Qi&&Qi in Le(o)?hN(o):SN(o)}function Vd(o,a){return o>a}function xx(o,a){return o!=null&&Ne.call(o,a)}function Nx(o,a){return o!=null&&a in Le(o)}function Dx(o,a,u){return o>=kt(a,u)&&o<lt(a,u)}function Md(o,a,u){for(var f=u?vd:Pu,g=o[0].length,_=o.length,w=_,I=N(_),C=1/0,V=[];w--;){var M=o[w];w&&a&&(M=je(M,hn(a))),C=kt(M.length,C),I[w]=!u&&(a||g>=120&&M.length>=120)?new Xi(w&&M):n}M=o[0];var U=-1,q=I[0];e:for(;++U<g&&V.length<C;){var Z=M[U],re=a?a(Z):Z;if(Z=u||Z!==0?Z:0,!(q?_a(q,re):f(V,re,u))){for(w=_;--w;){var me=I[w];if(!(me?_a(me,re):f(o[w],re,u)))continue e}q&&q.push(re),V.push(Z)}}return V}function Ox(o,a,u,f){return ar(o,function(g,_,w){a(f,u(g),_,w)}),f}function Aa(o,a,u){a=li(a,o),o=H0(o,a);var f=o==null?o:o[ur(Dn(a))];return f==null?n:cn(f,o,u)}function s0(o){return Ye(o)&&jt(o)==or}function Lx(o){return Ye(o)&&jt(o)==ma}function Vx(o){return Ye(o)&&jt(o)==ha}function Ra(o,a,u,f,g){return o===a?!0:o==null||a==null||!Ye(o)&&!Ye(a)?o!==o&&a!==a:Mx(o,a,u,f,Ra,g)}function Mx(o,a,u,f,g,_){var w=de(o),I=de(a),C=w?An:xt(o),V=I?An:xt(a);C=C==or?Rr:C,V=V==or?Rr:V;var M=C==Rr,U=V==Rr,q=C==V;if(q&&ci(o)){if(!ci(a))return!1;w=!0,M=!1}if(q&&!M)return _||(_=new qn),w||Ys(o)?U0(o,a,u,f,g,_):uN(o,a,C,u,f,g,_);if(!(u&P)){var Z=M&&Ne.call(o,"__wrapped__"),re=U&&Ne.call(a,"__wrapped__");if(Z||re){var me=Z?o.value():o,ie=re?a.value():a;return _||(_=new qn),g(me,ie,u,f,_)}}return q?(_||(_=new qn),cN(o,a,u,f,g,_)):!1}function Fx(o){return Ye(o)&&xt(o)==jn}function Fd(o,a,u,f){var g=u.length,_=g,w=!f;if(o==null)return!_;for(o=Le(o);g--;){var I=u[g];if(w&&I[2]?I[1]!==o[I[0]]:!(I[0]in o))return!1}for(;++g<_;){I=u[g];var C=I[0],V=o[C],M=I[1];if(w&&I[2]){if(V===n&&!(C in o))return!1}else{var U=new qn;if(f)var q=f(V,M,C,o,a,U);if(!(q===n?Ra(M,V,P|k,f,U):q))return!1}}return!0}function o0(o){if(!He(o)||yN(o))return!1;var a=Or(o)?Fk:CP;return a.test(ts(o))}function Ux(o){return Ye(o)&&jt(o)==da}function $x(o){return Ye(o)&&xt(o)==Wn}function bx(o){return Ye(o)&&cc(o.length)&&!!Ue[jt(o)]}function a0(o){return typeof o=="function"?o:o==null?en:typeof o=="object"?de(o)?c0(o[0],o[1]):u0(o):kw(o)}function Ud(o){if(!ka(o))return jk(o);var a=[];for(var u in Le(o))Ne.call(o,u)&&u!="constructor"&&a.push(u);return a}function Bx(o){if(!He(o))return IN(o);var a=ka(o),u=[];for(var f in o)f=="constructor"&&(a||!Ne.call(o,f))||u.push(f);return u}function $d(o,a){return o<a}function l0(o,a){var u=-1,f=Jt(o)?N(o.length):[];return oi(o,function(g,_,w){f[++u]=a(g,_,w)}),f}function u0(o){var a=ep(o);return a.length==1&&a[0][2]?j0(a[0][0],a[0][1]):function(u){return u===o||Fd(u,o,a)}}function c0(o,a){return np(o)&&z0(a)?j0(ur(o),a):function(u){var f=fp(u,o);return f===n&&f===a?dp(u,o):Ra(a,f,P|k)}}function Ku(o,a,u,f,g){o!==a&&Od(a,function(_,w){if(g||(g=new qn),He(_))zx(o,a,w,u,Ku,f,g);else{var I=f?f(ip(o,w),_,w+"",o,a,g):n;I===n&&(I=_),Nd(o,w,I)}},Zt)}function zx(o,a,u,f,g,_,w){var I=ip(o,u),C=ip(a,u),V=w.get(C);if(V){Nd(o,u,V);return}var M=_?_(I,C,u+"",o,a,w):n,U=M===n;if(U){var q=de(C),Z=!q&&ci(C),re=!q&&!Z&&Ys(C);M=C,q||Z||re?de(I)?M=I:Ze(I)?M=Xt(I):Z?(U=!1,M=T0(C,!0)):re?(U=!1,M=I0(C,!0)):M=[]:Na(C)||ns(C)?(M=I,ns(I)?M=yw(I):(!He(I)||Or(I))&&(M=B0(C))):U=!1}U&&(w.set(C,M),g(M,C,f,_,w),w.delete(C)),Nd(o,u,M)}function h0(o,a){var u=o.length;if(u)return a+=a<0?u:0,Dr(a,u)?o[a]:n}function f0(o,a,u){a.length?a=je(a,function(_){return de(_)?function(w){return Zi(w,_.length===1?_[0]:_)}:_}):a=[en];var f=-1;a=je(a,hn(te()));var g=l0(o,function(_,w,I){var C=je(a,function(V){return V(_)});return{criteria:C,index:++f,value:_}});return gk(g,function(_,w){return tN(_,w,u)})}function jx(o,a){return d0(o,a,function(u,f){return dp(o,f)})}function d0(o,a,u){for(var f=-1,g=a.length,_={};++f<g;){var w=a[f],I=Zi(o,w);u(I,w)&&Ca(_,li(w,o),I)}return _}function Wx(o){return function(a){return Zi(a,o)}}function bd(o,a,u,f){var g=f?pk:$s,_=-1,w=a.length,I=o;for(o===a&&(a=Xt(a)),u&&(I=je(o,hn(u)));++_<w;)for(var C=0,V=a[_],M=u?u(V):V;(C=g(I,M,C,f))>-1;)I!==o&&Uu.call(I,C,1),Uu.call(o,C,1);return o}function p0(o,a){for(var u=o?a.length:0,f=u-1;u--;){var g=a[u];if(u==f||g!==_){var _=g;Dr(g)?Uu.call(o,g,1):Wd(o,g)}}return o}function Bd(o,a){return o+Bu(Ky()*(a-o+1))}function Hx(o,a,u,f){for(var g=-1,_=lt(bu((a-o)/(u||1)),0),w=N(_);_--;)w[f?_:++g]=o,o+=u;return w}function zd(o,a){var u="";if(!o||a<1||a>K)return u;do a%2&&(u+=o),a=Bu(a/2),a&&(o+=o);while(a);return u}function _e(o,a){return sp(W0(o,a,en),o+"")}function qx(o){return Xy(Xs(o))}function Gx(o,a){var u=Xs(o);return ic(u,Ji(a,0,u.length))}function Ca(o,a,u,f){if(!He(o))return o;a=li(a,o);for(var g=-1,_=a.length,w=_-1,I=o;I!=null&&++g<_;){var C=ur(a[g]),V=u;if(C==="__proto__"||C==="constructor"||C==="prototype")return o;if(g!=w){var M=I[C];V=f?f(M,C,I):n,V===n&&(V=He(M)?M:Dr(a[g+1])?[]:{})}Ia(I,C,V),I=I[C]}return o}var g0=zu?function(o,a){return zu.set(o,a),o}:en,Kx=$u?function(o,a){return $u(o,"toString",{configurable:!0,enumerable:!1,value:gp(a),writable:!0})}:en;function Qx(o){return ic(Xs(o))}function Nn(o,a,u){var f=-1,g=o.length;a<0&&(a=-a>g?0:g+a),u=u>g?g:u,u<0&&(u+=g),g=a>u?0:u-a>>>0,a>>>=0;for(var _=N(g);++f<g;)_[f]=o[f+a];return _}function Yx(o,a){var u;return oi(o,function(f,g,_){return u=a(f,g,_),!u}),!!u}function Qu(o,a,u){var f=0,g=o==null?f:o.length;if(typeof a=="number"&&a===a&&g<=Vs){for(;f<g;){var _=f+g>>>1,w=o[_];w!==null&&!dn(w)&&(u?w<=a:w<a)?f=_+1:g=_}return g}return jd(o,a,en,u)}function jd(o,a,u,f){var g=0,_=o==null?0:o.length;if(_===0)return 0;a=u(a);for(var w=a!==a,I=a===null,C=dn(a),V=a===n;g<_;){var M=Bu((g+_)/2),U=u(o[M]),q=U!==n,Z=U===null,re=U===U,me=dn(U);if(w)var ie=f||re;else V?ie=re&&(f||q):I?ie=re&&q&&(f||!Z):C?ie=re&&q&&!Z&&(f||!me):Z||me?ie=!1:ie=f?U<=a:U<a;ie?g=M+1:_=M}return kt(_,nt)}function m0(o,a){for(var u=-1,f=o.length,g=0,_=[];++u<f;){var w=o[u],I=a?a(w):w;if(!u||!Gn(I,C)){var C=I;_[g++]=w===0?0:w}}return _}function _0(o){return typeof o=="number"?o:dn(o)?fe:+o}function fn(o){if(typeof o=="string")return o;if(de(o))return je(o,fn)+"";if(dn(o))return Qy?Qy.call(o):"";var a=o+"";return a=="0"&&1/o==-zn?"-0":a}function ai(o,a,u){var f=-1,g=Pu,_=o.length,w=!0,I=[],C=I;if(u)w=!1,g=vd;else if(_>=i){var V=a?null:aN(o);if(V)return xu(V);w=!1,g=_a,C=new Xi}else C=a?[]:I;e:for(;++f<_;){var M=o[f],U=a?a(M):M;if(M=u||M!==0?M:0,w&&U===U){for(var q=C.length;q--;)if(C[q]===U)continue e;a&&C.push(U),I.push(M)}else g(C,U,u)||(C!==I&&C.push(U),I.push(M))}return I}function Wd(o,a){return a=li(a,o),o=H0(o,a),o==null||delete o[ur(Dn(a))]}function v0(o,a,u,f){return Ca(o,a,u(Zi(o,a)),f)}function Yu(o,a,u,f){for(var g=o.length,_=f?g:-1;(f?_--:++_<g)&&a(o[_],_,o););return u?Nn(o,f?0:_,f?_+1:g):Nn(o,f?_+1:0,f?g:_)}function y0(o,a){var u=o;return u instanceof we&&(u=u.value()),yd(a,function(f,g){return g.func.apply(g.thisArg,ri([f],g.args))},u)}function Hd(o,a,u){var f=o.length;if(f<2)return f?ai(o[0]):[];for(var g=-1,_=N(f);++g<f;)for(var w=o[g],I=-1;++I<f;)I!=g&&(_[g]=Sa(_[g]||w,o[I],a,u));return ai(wt(_,1),a,u)}function w0(o,a,u){for(var f=-1,g=o.length,_=a.length,w={};++f<g;){var I=f<_?a[f]:n;u(w,o[f],I)}return w}function qd(o){return Ze(o)?o:[]}function Gd(o){return typeof o=="function"?o:en}function li(o,a){return de(o)?o:np(o,a)?[o]:Q0(xe(o))}var Xx=_e;function ui(o,a,u){var f=o.length;return u=u===n?f:u,!a&&u>=f?o:Nn(o,a,u)}var E0=Uk||function(o){return yt.clearTimeout(o)};function T0(o,a){if(a)return o.slice();var u=o.length,f=jy?jy(u):new o.constructor(u);return o.copy(f),f}function Kd(o){var a=new o.constructor(o.byteLength);return new Mu(a).set(new Mu(o)),a}function Jx(o,a){var u=a?Kd(o.buffer):o.buffer;return new o.constructor(u,o.byteOffset,o.byteLength)}function Zx(o){var a=new o.constructor(o.source,sy.exec(o));return a.lastIndex=o.lastIndex,a}function eN(o){return Ta?Le(Ta.call(o)):{}}function I0(o,a){var u=a?Kd(o.buffer):o.buffer;return new o.constructor(u,o.byteOffset,o.length)}function S0(o,a){if(o!==a){var u=o!==n,f=o===null,g=o===o,_=dn(o),w=a!==n,I=a===null,C=a===a,V=dn(a);if(!I&&!V&&!_&&o>a||_&&w&&C&&!I&&!V||f&&w&&C||!u&&C||!g)return 1;if(!f&&!_&&!V&&o<a||V&&u&&g&&!f&&!_||I&&u&&g||!w&&g||!C)return-1}return 0}function tN(o,a,u){for(var f=-1,g=o.criteria,_=a.criteria,w=g.length,I=u.length;++f<w;){var C=S0(g[f],_[f]);if(C){if(f>=I)return C;var V=u[f];return C*(V=="desc"?-1:1)}}return o.index-a.index}function A0(o,a,u,f){for(var g=-1,_=o.length,w=u.length,I=-1,C=a.length,V=lt(_-w,0),M=N(C+V),U=!f;++I<C;)M[I]=a[I];for(;++g<w;)(U||g<_)&&(M[u[g]]=o[g]);for(;V--;)M[I++]=o[g++];return M}function R0(o,a,u,f){for(var g=-1,_=o.length,w=-1,I=u.length,C=-1,V=a.length,M=lt(_-I,0),U=N(M+V),q=!f;++g<M;)U[g]=o[g];for(var Z=g;++C<V;)U[Z+C]=a[C];for(;++w<I;)(q||g<_)&&(U[Z+u[w]]=o[g++]);return U}function Xt(o,a){var u=-1,f=o.length;for(a||(a=N(f));++u<f;)a[u]=o[u];return a}function lr(o,a,u,f){var g=!u;u||(u={});for(var _=-1,w=a.length;++_<w;){var I=a[_],C=f?f(u[I],o[I],I,u,o):n;C===n&&(C=o[I]),g?kr(u,I,C):Ia(u,I,C)}return u}function nN(o,a){return lr(o,tp(o),a)}function rN(o,a){return lr(o,$0(o),a)}function Xu(o,a){return function(u,f){var g=de(u)?lk:Ax,_=a?a():{};return g(u,o,te(f,2),_)}}function Gs(o){return _e(function(a,u){var f=-1,g=u.length,_=g>1?u[g-1]:n,w=g>2?u[2]:n;for(_=o.length>3&&typeof _=="function"?(g--,_):n,w&&Wt(u[0],u[1],w)&&(_=g<3?n:_,g=1),a=Le(a);++f<g;){var I=u[f];I&&o(a,I,f,_)}return a})}function C0(o,a){return function(u,f){if(u==null)return u;if(!Jt(u))return o(u,f);for(var g=u.length,_=a?g:-1,w=Le(u);(a?_--:++_<g)&&f(w[_],_,w)!==!1;);return u}}function P0(o){return function(a,u,f){for(var g=-1,_=Le(a),w=f(a),I=w.length;I--;){var C=w[o?I:++g];if(u(_[C],C,_)===!1)break}return a}}function iN(o,a,u){var f=a&L,g=Pa(o);function _(){var w=this&&this!==yt&&this instanceof _?g:o;return w.apply(f?u:this,arguments)}return _}function k0(o){return function(a){a=xe(a);var u=bs(a)?Hn(a):n,f=u?u[0]:a.charAt(0),g=u?ui(u,1).join(""):a.slice(1);return f[o]()+g}}function Ks(o){return function(a){return yd(Cw(Rw(a).replace(KP,"")),o,"")}}function Pa(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=qs(o.prototype),f=o.apply(u,a);return He(f)?f:u}}function sN(o,a,u){var f=Pa(o);function g(){for(var _=arguments.length,w=N(_),I=_,C=Qs(g);I--;)w[I]=arguments[I];var V=_<3&&w[0]!==C&&w[_-1]!==C?[]:ii(w,C);if(_-=V.length,_<u)return L0(o,a,Ju,g.placeholder,n,w,V,n,n,u-_);var M=this&&this!==yt&&this instanceof g?f:o;return cn(M,this,w)}return g}function x0(o){return function(a,u,f){var g=Le(a);if(!Jt(a)){var _=te(u,3);a=dt(a),u=function(I){return _(g[I],I,g)}}var w=o(a,u,f);return w>-1?g[_?a[w]:w]:n}}function N0(o){return Nr(function(a){var u=a.length,f=u,g=kn.prototype.thru;for(o&&a.reverse();f--;){var _=a[f];if(typeof _!="function")throw new Pn(l);if(g&&!w&&nc(_)=="wrapper")var w=new kn([],!0)}for(f=w?f:u;++f<u;){_=a[f];var I=nc(_),C=I=="wrapper"?Zd(_):n;C&&rp(C[0])&&C[1]==(W|A|B|H)&&!C[4].length&&C[9]==1?w=w[nc(C[0])].apply(w,C[3]):w=_.length==1&&rp(_)?w[I]():w.thru(_)}return function(){var V=arguments,M=V[0];if(w&&V.length==1&&de(M))return w.plant(M).value();for(var U=0,q=u?a[U].apply(this,V):M;++U<u;)q=a[U].call(this,q);return q}})}function Ju(o,a,u,f,g,_,w,I,C,V){var M=a&W,U=a&L,q=a&T,Z=a&(A|D),re=a&ae,me=q?n:Pa(o);function ie(){for(var ve=arguments.length,Ie=N(ve),pn=ve;pn--;)Ie[pn]=arguments[pn];if(Z)var Ht=Qs(ie),gn=_k(Ie,Ht);if(f&&(Ie=A0(Ie,f,g,Z)),_&&(Ie=R0(Ie,_,w,Z)),ve-=gn,Z&&ve<V){var et=ii(Ie,Ht);return L0(o,a,Ju,ie.placeholder,u,Ie,et,I,C,V-ve)}var Kn=U?u:this,Vr=q?Kn[o]:o;return ve=Ie.length,I?Ie=AN(Ie,I):re&&ve>1&&Ie.reverse(),M&&C<ve&&(Ie.length=C),this&&this!==yt&&this instanceof ie&&(Vr=me||Pa(Vr)),Vr.apply(Kn,Ie)}return ie}function D0(o,a){return function(u,f){return Ox(u,o,a(f),{})}}function Zu(o,a){return function(u,f){var g;if(u===n&&f===n)return a;if(u!==n&&(g=u),f!==n){if(g===n)return f;typeof u=="string"||typeof f=="string"?(u=fn(u),f=fn(f)):(u=_0(u),f=_0(f)),g=o(u,f)}return g}}function Qd(o){return Nr(function(a){return a=je(a,hn(te())),_e(function(u){var f=this;return o(a,function(g){return cn(g,f,u)})})})}function ec(o,a){a=a===n?" ":fn(a);var u=a.length;if(u<2)return u?zd(a,o):a;var f=zd(a,bu(o/Bs(a)));return bs(a)?ui(Hn(f),0,o).join(""):f.slice(0,o)}function oN(o,a,u,f){var g=a&L,_=Pa(o);function w(){for(var I=-1,C=arguments.length,V=-1,M=f.length,U=N(M+C),q=this&&this!==yt&&this instanceof w?_:o;++V<M;)U[V]=f[V];for(;C--;)U[V++]=arguments[++I];return cn(q,g?u:this,U)}return w}function O0(o){return function(a,u,f){return f&&typeof f!="number"&&Wt(a,u,f)&&(u=f=n),a=Lr(a),u===n?(u=a,a=0):u=Lr(u),f=f===n?a<u?1:-1:Lr(f),Hx(a,u,f,o)}}function tc(o){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=On(a),u=On(u)),o(a,u)}}function L0(o,a,u,f,g,_,w,I,C,V){var M=a&A,U=M?w:n,q=M?n:w,Z=M?_:n,re=M?n:_;a|=M?B:b,a&=~(M?b:B),a&E||(a&=~(L|T));var me=[o,a,g,Z,U,re,q,I,C,V],ie=u.apply(n,me);return rp(o)&&q0(ie,me),ie.placeholder=f,G0(ie,o,a)}function Yd(o){var a=at[o];return function(u,f){if(u=On(u),f=f==null?0:kt(ge(f),292),f&&Gy(u)){var g=(xe(u)+"e").split("e"),_=a(g[0]+"e"+(+g[1]+f));return g=(xe(_)+"e").split("e"),+(g[0]+"e"+(+g[1]-f))}return a(u)}}var aN=Ws&&1/xu(new Ws([,-0]))[1]==zn?function(o){return new Ws(o)}:vp;function V0(o){return function(a){var u=xt(a);return u==jn?Rd(a):u==Wn?Sk(a):mk(a,o(a))}}function xr(o,a,u,f,g,_,w,I){var C=a&T;if(!C&&typeof o!="function")throw new Pn(l);var V=f?f.length:0;if(V||(a&=~(B|b),f=g=n),w=w===n?w:lt(ge(w),0),I=I===n?I:ge(I),V-=g?g.length:0,a&b){var M=f,U=g;f=g=n}var q=C?n:Zd(o),Z=[o,a,u,f,g,M,U,_,w,I];if(q&&TN(Z,q),o=Z[0],a=Z[1],u=Z[2],f=Z[3],g=Z[4],I=Z[9]=Z[9]===n?C?0:o.length:lt(Z[9]-V,0),!I&&a&(A|D)&&(a&=~(A|D)),!a||a==L)var re=iN(o,a,u);else a==A||a==D?re=sN(o,a,I):(a==B||a==(L|B))&&!g.length?re=oN(o,a,u,f):re=Ju.apply(n,Z);var me=q?g0:q0;return G0(me(re,Z),o,a)}function M0(o,a,u,f){return o===n||Gn(o,js[u])&&!Ne.call(f,u)?a:o}function F0(o,a,u,f,g,_){return He(o)&&He(a)&&(_.set(a,o),Ku(o,a,n,F0,_),_.delete(a)),o}function lN(o){return Na(o)?n:o}function U0(o,a,u,f,g,_){var w=u&P,I=o.length,C=a.length;if(I!=C&&!(w&&C>I))return!1;var V=_.get(o),M=_.get(a);if(V&&M)return V==a&&M==o;var U=-1,q=!0,Z=u&k?new Xi:n;for(_.set(o,a),_.set(a,o);++U<I;){var re=o[U],me=a[U];if(f)var ie=w?f(me,re,U,a,o,_):f(re,me,U,o,a,_);if(ie!==n){if(ie)continue;q=!1;break}if(Z){if(!wd(a,function(ve,Ie){if(!_a(Z,Ie)&&(re===ve||g(re,ve,u,f,_)))return Z.push(Ie)})){q=!1;break}}else if(!(re===me||g(re,me,u,f,_))){q=!1;break}}return _.delete(o),_.delete(a),q}function uN(o,a,u,f,g,_,w){switch(u){case Fs:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case ma:return!(o.byteLength!=a.byteLength||!_(new Mu(o),new Mu(a)));case ca:case ha:case fa:return Gn(+o,+a);case Tu:return o.name==a.name&&o.message==a.message;case da:case pa:return o==a+"";case jn:var I=Rd;case Wn:var C=f&P;if(I||(I=xu),o.size!=a.size&&!C)return!1;var V=w.get(o);if(V)return V==a;f|=k,w.set(o,a);var M=U0(I(o),I(a),f,g,_,w);return w.delete(o),M;case Su:if(Ta)return Ta.call(o)==Ta.call(a)}return!1}function cN(o,a,u,f,g,_){var w=u&P,I=Xd(o),C=I.length,V=Xd(a),M=V.length;if(C!=M&&!w)return!1;for(var U=C;U--;){var q=I[U];if(!(w?q in a:Ne.call(a,q)))return!1}var Z=_.get(o),re=_.get(a);if(Z&&re)return Z==a&&re==o;var me=!0;_.set(o,a),_.set(a,o);for(var ie=w;++U<C;){q=I[U];var ve=o[q],Ie=a[q];if(f)var pn=w?f(Ie,ve,q,a,o,_):f(ve,Ie,q,o,a,_);if(!(pn===n?ve===Ie||g(ve,Ie,u,f,_):pn)){me=!1;break}ie||(ie=q=="constructor")}if(me&&!ie){var Ht=o.constructor,gn=a.constructor;Ht!=gn&&"constructor"in o&&"constructor"in a&&!(typeof Ht=="function"&&Ht instanceof Ht&&typeof gn=="function"&&gn instanceof gn)&&(me=!1)}return _.delete(o),_.delete(a),me}function Nr(o){return sp(W0(o,n,Z0),o+"")}function Xd(o){return i0(o,dt,tp)}function Jd(o){return i0(o,Zt,$0)}var Zd=zu?function(o){return zu.get(o)}:vp;function nc(o){for(var a=o.name+"",u=Hs[a],f=Ne.call(Hs,a)?u.length:0;f--;){var g=u[f],_=g.func;if(_==null||_==o)return g.name}return a}function Qs(o){var a=Ne.call(m,"placeholder")?m:o;return a.placeholder}function te(){var o=m.iteratee||mp;return o=o===mp?a0:o,arguments.length?o(arguments[0],arguments[1]):o}function rc(o,a){var u=o.__data__;return vN(a)?u[typeof a=="string"?"string":"hash"]:u.map}function ep(o){for(var a=dt(o),u=a.length;u--;){var f=a[u],g=o[f];a[u]=[f,g,z0(g)]}return a}function es(o,a){var u=Ek(o,a);return o0(u)?u:n}function hN(o){var a=Ne.call(o,Qi),u=o[Qi];try{o[Qi]=n;var f=!0}catch{}var g=Lu.call(o);return f&&(a?o[Qi]=u:delete o[Qi]),g}var tp=Pd?function(o){return o==null?[]:(o=Le(o),ni(Pd(o),function(a){return Hy.call(o,a)}))}:yp,$0=Pd?function(o){for(var a=[];o;)ri(a,tp(o)),o=Fu(o);return a}:yp,xt=jt;(kd&&xt(new kd(new ArrayBuffer(1)))!=Fs||ya&&xt(new ya)!=jn||xd&&xt(xd.resolve())!=ty||Ws&&xt(new Ws)!=Wn||wa&&xt(new wa)!=ga)&&(xt=function(o){var a=jt(o),u=a==Rr?o.constructor:n,f=u?ts(u):"";if(f)switch(f){case Gk:return Fs;case Kk:return jn;case Qk:return ty;case Yk:return Wn;case Xk:return ga}return a});function fN(o,a,u){for(var f=-1,g=u.length;++f<g;){var _=u[f],w=_.size;switch(_.type){case"drop":o+=w;break;case"dropRight":a-=w;break;case"take":a=kt(a,o+w);break;case"takeRight":o=lt(o,a-w);break}}return{start:o,end:a}}function dN(o){var a=o.match(yP);return a?a[1].split(wP):[]}function b0(o,a,u){a=li(a,o);for(var f=-1,g=a.length,_=!1;++f<g;){var w=ur(a[f]);if(!(_=o!=null&&u(o,w)))break;o=o[w]}return _||++f!=g?_:(g=o==null?0:o.length,!!g&&cc(g)&&Dr(w,g)&&(de(o)||ns(o)))}function pN(o){var a=o.length,u=new o.constructor(a);return a&&typeof o[0]=="string"&&Ne.call(o,"index")&&(u.index=o.index,u.input=o.input),u}function B0(o){return typeof o.constructor=="function"&&!ka(o)?qs(Fu(o)):{}}function gN(o,a,u){var f=o.constructor;switch(a){case ma:return Kd(o);case ca:case ha:return new f(+o);case Fs:return Jx(o,u);case ed:case td:case nd:case rd:case id:case sd:case od:case ad:case ld:return I0(o,u);case jn:return new f;case fa:case pa:return new f(o);case da:return Zx(o);case Wn:return new f;case Su:return eN(o)}}function mN(o,a){var u=a.length;if(!u)return o;var f=u-1;return a[f]=(u>1?"& ":"")+a[f],a=a.join(u>2?", ":" "),o.replace(vP,`{
/* [wrapped with `+a+`] */
`)}function _N(o){return de(o)||ns(o)||!!(qy&&o&&o[qy])}function Dr(o,a){var u=typeof o;return a=a??K,!!a&&(u=="number"||u!="symbol"&&kP.test(o))&&o>-1&&o%1==0&&o<a}function Wt(o,a,u){if(!He(u))return!1;var f=typeof a;return(f=="number"?Jt(u)&&Dr(a,u.length):f=="string"&&a in u)?Gn(u[a],o):!1}function np(o,a){if(de(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||dn(o)?!0:pP.test(o)||!dP.test(o)||a!=null&&o in Le(a)}function vN(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function rp(o){var a=nc(o),u=m[a];if(typeof u!="function"||!(a in we.prototype))return!1;if(o===u)return!0;var f=Zd(u);return!!f&&o===f[0]}function yN(o){return!!zy&&zy in o}var wN=Du?Or:wp;function ka(o){var a=o&&o.constructor,u=typeof a=="function"&&a.prototype||js;return o===u}function z0(o){return o===o&&!He(o)}function j0(o,a){return function(u){return u==null?!1:u[o]===a&&(a!==n||o in Le(u))}}function EN(o){var a=lc(o,function(f){return u.size===d&&u.clear(),f}),u=a.cache;return a}function TN(o,a){var u=o[1],f=a[1],g=u|f,_=g<(L|T|W),w=f==W&&u==A||f==W&&u==H&&o[7].length<=a[8]||f==(W|H)&&a[7].length<=a[8]&&u==A;if(!(_||w))return o;f&L&&(o[2]=a[2],g|=u&L?0:E);var I=a[3];if(I){var C=o[3];o[3]=C?A0(C,I,a[4]):I,o[4]=C?ii(o[3],p):a[4]}return I=a[5],I&&(C=o[5],o[5]=C?R0(C,I,a[6]):I,o[6]=C?ii(o[5],p):a[6]),I=a[7],I&&(o[7]=I),f&W&&(o[8]=o[8]==null?a[8]:kt(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=g,o}function IN(o){var a=[];if(o!=null)for(var u in Le(o))a.push(u);return a}function SN(o){return Lu.call(o)}function W0(o,a,u){return a=lt(a===n?o.length-1:a,0),function(){for(var f=arguments,g=-1,_=lt(f.length-a,0),w=N(_);++g<_;)w[g]=f[a+g];g=-1;for(var I=N(a+1);++g<a;)I[g]=f[g];return I[a]=u(w),cn(o,this,I)}}function H0(o,a){return a.length<2?o:Zi(o,Nn(a,0,-1))}function AN(o,a){for(var u=o.length,f=kt(a.length,u),g=Xt(o);f--;){var _=a[f];o[f]=Dr(_,u)?g[_]:n}return o}function ip(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var q0=K0(g0),xa=bk||function(o,a){return yt.setTimeout(o,a)},sp=K0(Kx);function G0(o,a,u){var f=a+"";return sp(o,mN(f,RN(dN(f),u)))}function K0(o){var a=0,u=0;return function(){var f=Wk(),g=Sn-(f-u);if(u=f,g>0){if(++a>=In)return arguments[0]}else a=0;return o.apply(n,arguments)}}function ic(o,a){var u=-1,f=o.length,g=f-1;for(a=a===n?f:a;++u<a;){var _=Bd(u,g),w=o[_];o[_]=o[u],o[u]=w}return o.length=a,o}var Q0=EN(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(gP,function(u,f,g,_){a.push(g?_.replace(IP,"$1"):f||u)}),a});function ur(o){if(typeof o=="string"||dn(o))return o;var a=o+"";return a=="0"&&1/o==-zn?"-0":a}function ts(o){if(o!=null){try{return Ou.call(o)}catch{}try{return o+""}catch{}}return""}function RN(o,a){return Cn(Ar,function(u){var f="_."+u[0];a&u[1]&&!Pu(o,f)&&o.push(f)}),o.sort()}function Y0(o){if(o instanceof we)return o.clone();var a=new kn(o.__wrapped__,o.__chain__);return a.__actions__=Xt(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function CN(o,a,u){(u?Wt(o,a,u):a===n)?a=1:a=lt(ge(a),0);var f=o==null?0:o.length;if(!f||a<1)return[];for(var g=0,_=0,w=N(bu(f/a));g<f;)w[_++]=Nn(o,g,g+=a);return w}function PN(o){for(var a=-1,u=o==null?0:o.length,f=0,g=[];++a<u;){var _=o[a];_&&(g[f++]=_)}return g}function kN(){var o=arguments.length;if(!o)return[];for(var a=N(o-1),u=arguments[0],f=o;f--;)a[f-1]=arguments[f];return ri(de(u)?Xt(u):[u],wt(a,1))}var xN=_e(function(o,a){return Ze(o)?Sa(o,wt(a,1,Ze,!0)):[]}),NN=_e(function(o,a){var u=Dn(a);return Ze(u)&&(u=n),Ze(o)?Sa(o,wt(a,1,Ze,!0),te(u,2)):[]}),DN=_e(function(o,a){var u=Dn(a);return Ze(u)&&(u=n),Ze(o)?Sa(o,wt(a,1,Ze,!0),n,u):[]});function ON(o,a,u){var f=o==null?0:o.length;return f?(a=u||a===n?1:ge(a),Nn(o,a<0?0:a,f)):[]}function LN(o,a,u){var f=o==null?0:o.length;return f?(a=u||a===n?1:ge(a),a=f-a,Nn(o,0,a<0?0:a)):[]}function VN(o,a){return o&&o.length?Yu(o,te(a,3),!0,!0):[]}function MN(o,a){return o&&o.length?Yu(o,te(a,3),!0):[]}function FN(o,a,u,f){var g=o==null?0:o.length;return g?(u&&typeof u!="number"&&Wt(o,a,u)&&(u=0,f=g),kx(o,a,u,f)):[]}function X0(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var g=u==null?0:ge(u);return g<0&&(g=lt(f+g,0)),ku(o,te(a,3),g)}function J0(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var g=f-1;return u!==n&&(g=ge(u),g=u<0?lt(f+g,0):kt(g,f-1)),ku(o,te(a,3),g,!0)}function Z0(o){var a=o==null?0:o.length;return a?wt(o,1):[]}function UN(o){var a=o==null?0:o.length;return a?wt(o,zn):[]}function $N(o,a){var u=o==null?0:o.length;return u?(a=a===n?1:ge(a),wt(o,a)):[]}function bN(o){for(var a=-1,u=o==null?0:o.length,f={};++a<u;){var g=o[a];f[g[0]]=g[1]}return f}function ew(o){return o&&o.length?o[0]:n}function BN(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var g=u==null?0:ge(u);return g<0&&(g=lt(f+g,0)),$s(o,a,g)}function zN(o){var a=o==null?0:o.length;return a?Nn(o,0,-1):[]}var jN=_e(function(o){var a=je(o,qd);return a.length&&a[0]===o[0]?Md(a):[]}),WN=_e(function(o){var a=Dn(o),u=je(o,qd);return a===Dn(u)?a=n:u.pop(),u.length&&u[0]===o[0]?Md(u,te(a,2)):[]}),HN=_e(function(o){var a=Dn(o),u=je(o,qd);return a=typeof a=="function"?a:n,a&&u.pop(),u.length&&u[0]===o[0]?Md(u,n,a):[]});function qN(o,a){return o==null?"":zk.call(o,a)}function Dn(o){var a=o==null?0:o.length;return a?o[a-1]:n}function GN(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var g=f;return u!==n&&(g=ge(u),g=g<0?lt(f+g,0):kt(g,f-1)),a===a?Rk(o,a,g):ku(o,Ly,g,!0)}function KN(o,a){return o&&o.length?h0(o,ge(a)):n}var QN=_e(tw);function tw(o,a){return o&&o.length&&a&&a.length?bd(o,a):o}function YN(o,a,u){return o&&o.length&&a&&a.length?bd(o,a,te(u,2)):o}function XN(o,a,u){return o&&o.length&&a&&a.length?bd(o,a,n,u):o}var JN=Nr(function(o,a){var u=o==null?0:o.length,f=Dd(o,a);return p0(o,je(a,function(g){return Dr(g,u)?+g:g}).sort(S0)),f});function ZN(o,a){var u=[];if(!(o&&o.length))return u;var f=-1,g=[],_=o.length;for(a=te(a,3);++f<_;){var w=o[f];a(w,f,o)&&(u.push(w),g.push(f))}return p0(o,g),u}function op(o){return o==null?o:qk.call(o)}function eD(o,a,u){var f=o==null?0:o.length;return f?(u&&typeof u!="number"&&Wt(o,a,u)?(a=0,u=f):(a=a==null?0:ge(a),u=u===n?f:ge(u)),Nn(o,a,u)):[]}function tD(o,a){return Qu(o,a)}function nD(o,a,u){return jd(o,a,te(u,2))}function rD(o,a){var u=o==null?0:o.length;if(u){var f=Qu(o,a);if(f<u&&Gn(o[f],a))return f}return-1}function iD(o,a){return Qu(o,a,!0)}function sD(o,a,u){return jd(o,a,te(u,2),!0)}function oD(o,a){var u=o==null?0:o.length;if(u){var f=Qu(o,a,!0)-1;if(Gn(o[f],a))return f}return-1}function aD(o){return o&&o.length?m0(o):[]}function lD(o,a){return o&&o.length?m0(o,te(a,2)):[]}function uD(o){var a=o==null?0:o.length;return a?Nn(o,1,a):[]}function cD(o,a,u){return o&&o.length?(a=u||a===n?1:ge(a),Nn(o,0,a<0?0:a)):[]}function hD(o,a,u){var f=o==null?0:o.length;return f?(a=u||a===n?1:ge(a),a=f-a,Nn(o,a<0?0:a,f)):[]}function fD(o,a){return o&&o.length?Yu(o,te(a,3),!1,!0):[]}function dD(o,a){return o&&o.length?Yu(o,te(a,3)):[]}var pD=_e(function(o){return ai(wt(o,1,Ze,!0))}),gD=_e(function(o){var a=Dn(o);return Ze(a)&&(a=n),ai(wt(o,1,Ze,!0),te(a,2))}),mD=_e(function(o){var a=Dn(o);return a=typeof a=="function"?a:n,ai(wt(o,1,Ze,!0),n,a)});function _D(o){return o&&o.length?ai(o):[]}function vD(o,a){return o&&o.length?ai(o,te(a,2)):[]}function yD(o,a){return a=typeof a=="function"?a:n,o&&o.length?ai(o,n,a):[]}function ap(o){if(!(o&&o.length))return[];var a=0;return o=ni(o,function(u){if(Ze(u))return a=lt(u.length,a),!0}),Sd(a,function(u){return je(o,Ed(u))})}function nw(o,a){if(!(o&&o.length))return[];var u=ap(o);return a==null?u:je(u,function(f){return cn(a,n,f)})}var wD=_e(function(o,a){return Ze(o)?Sa(o,a):[]}),ED=_e(function(o){return Hd(ni(o,Ze))}),TD=_e(function(o){var a=Dn(o);return Ze(a)&&(a=n),Hd(ni(o,Ze),te(a,2))}),ID=_e(function(o){var a=Dn(o);return a=typeof a=="function"?a:n,Hd(ni(o,Ze),n,a)}),SD=_e(ap);function AD(o,a){return w0(o||[],a||[],Ia)}function RD(o,a){return w0(o||[],a||[],Ca)}var CD=_e(function(o){var a=o.length,u=a>1?o[a-1]:n;return u=typeof u=="function"?(o.pop(),u):n,nw(o,u)});function rw(o){var a=m(o);return a.__chain__=!0,a}function PD(o,a){return a(o),o}function sc(o,a){return a(o)}var kD=Nr(function(o){var a=o.length,u=a?o[0]:0,f=this.__wrapped__,g=function(_){return Dd(_,o)};return a>1||this.__actions__.length||!(f instanceof we)||!Dr(u)?this.thru(g):(f=f.slice(u,+u+(a?1:0)),f.__actions__.push({func:sc,args:[g],thisArg:n}),new kn(f,this.__chain__).thru(function(_){return a&&!_.length&&_.push(n),_}))});function xD(){return rw(this)}function ND(){return new kn(this.value(),this.__chain__)}function DD(){this.__values__===n&&(this.__values__=_w(this.value()));var o=this.__index__>=this.__values__.length,a=o?n:this.__values__[this.__index__++];return{done:o,value:a}}function OD(){return this}function LD(o){for(var a,u=this;u instanceof Wu;){var f=Y0(u);f.__index__=0,f.__values__=n,a?g.__wrapped__=f:a=f;var g=f;u=u.__wrapped__}return g.__wrapped__=o,a}function VD(){var o=this.__wrapped__;if(o instanceof we){var a=o;return this.__actions__.length&&(a=new we(this)),a=a.reverse(),a.__actions__.push({func:sc,args:[op],thisArg:n}),new kn(a,this.__chain__)}return this.thru(op)}function MD(){return y0(this.__wrapped__,this.__actions__)}var FD=Xu(function(o,a,u){Ne.call(o,u)?++o[u]:kr(o,u,1)});function UD(o,a,u){var f=de(o)?Dy:Px;return u&&Wt(o,a,u)&&(a=n),f(o,te(a,3))}function $D(o,a){var u=de(o)?ni:n0;return u(o,te(a,3))}var bD=x0(X0),BD=x0(J0);function zD(o,a){return wt(oc(o,a),1)}function jD(o,a){return wt(oc(o,a),zn)}function WD(o,a,u){return u=u===n?1:ge(u),wt(oc(o,a),u)}function iw(o,a){var u=de(o)?Cn:oi;return u(o,te(a,3))}function sw(o,a){var u=de(o)?uk:t0;return u(o,te(a,3))}var HD=Xu(function(o,a,u){Ne.call(o,u)?o[u].push(a):kr(o,u,[a])});function qD(o,a,u,f){o=Jt(o)?o:Xs(o),u=u&&!f?ge(u):0;var g=o.length;return u<0&&(u=lt(g+u,0)),hc(o)?u<=g&&o.indexOf(a,u)>-1:!!g&&$s(o,a,u)>-1}var GD=_e(function(o,a,u){var f=-1,g=typeof a=="function",_=Jt(o)?N(o.length):[];return oi(o,function(w){_[++f]=g?cn(a,w,u):Aa(w,a,u)}),_}),KD=Xu(function(o,a,u){kr(o,u,a)});function oc(o,a){var u=de(o)?je:l0;return u(o,te(a,3))}function QD(o,a,u,f){return o==null?[]:(de(a)||(a=a==null?[]:[a]),u=f?n:u,de(u)||(u=u==null?[]:[u]),f0(o,a,u))}var YD=Xu(function(o,a,u){o[u?0:1].push(a)},function(){return[[],[]]});function XD(o,a,u){var f=de(o)?yd:My,g=arguments.length<3;return f(o,te(a,4),u,g,oi)}function JD(o,a,u){var f=de(o)?ck:My,g=arguments.length<3;return f(o,te(a,4),u,g,t0)}function ZD(o,a){var u=de(o)?ni:n0;return u(o,uc(te(a,3)))}function eO(o){var a=de(o)?Xy:qx;return a(o)}function tO(o,a,u){(u?Wt(o,a,u):a===n)?a=1:a=ge(a);var f=de(o)?Ix:Gx;return f(o,a)}function nO(o){var a=de(o)?Sx:Qx;return a(o)}function rO(o){if(o==null)return 0;if(Jt(o))return hc(o)?Bs(o):o.length;var a=xt(o);return a==jn||a==Wn?o.size:Ud(o).length}function iO(o,a,u){var f=de(o)?wd:Yx;return u&&Wt(o,a,u)&&(a=n),f(o,te(a,3))}var sO=_e(function(o,a){if(o==null)return[];var u=a.length;return u>1&&Wt(o,a[0],a[1])?a=[]:u>2&&Wt(a[0],a[1],a[2])&&(a=[a[0]]),f0(o,wt(a,1),[])}),ac=$k||function(){return yt.Date.now()};function oO(o,a){if(typeof a!="function")throw new Pn(l);return o=ge(o),function(){if(--o<1)return a.apply(this,arguments)}}function ow(o,a,u){return a=u?n:a,a=o&&a==null?o.length:a,xr(o,W,n,n,n,n,a)}function aw(o,a){var u;if(typeof a!="function")throw new Pn(l);return o=ge(o),function(){return--o>0&&(u=a.apply(this,arguments)),o<=1&&(a=n),u}}var lp=_e(function(o,a,u){var f=L;if(u.length){var g=ii(u,Qs(lp));f|=B}return xr(o,f,a,u,g)}),lw=_e(function(o,a,u){var f=L|T;if(u.length){var g=ii(u,Qs(lw));f|=B}return xr(a,f,o,u,g)});function uw(o,a,u){a=u?n:a;var f=xr(o,A,n,n,n,n,n,a);return f.placeholder=uw.placeholder,f}function cw(o,a,u){a=u?n:a;var f=xr(o,D,n,n,n,n,n,a);return f.placeholder=cw.placeholder,f}function hw(o,a,u){var f,g,_,w,I,C,V=0,M=!1,U=!1,q=!0;if(typeof o!="function")throw new Pn(l);a=On(a)||0,He(u)&&(M=!!u.leading,U="maxWait"in u,_=U?lt(On(u.maxWait)||0,a):_,q="trailing"in u?!!u.trailing:q);function Z(et){var Kn=f,Vr=g;return f=g=n,V=et,w=o.apply(Vr,Kn),w}function re(et){return V=et,I=xa(ve,a),M?Z(et):w}function me(et){var Kn=et-C,Vr=et-V,xw=a-Kn;return U?kt(xw,_-Vr):xw}function ie(et){var Kn=et-C,Vr=et-V;return C===n||Kn>=a||Kn<0||U&&Vr>=_}function ve(){var et=ac();if(ie(et))return Ie(et);I=xa(ve,me(et))}function Ie(et){return I=n,q&&f?Z(et):(f=g=n,w)}function pn(){I!==n&&E0(I),V=0,f=C=g=I=n}function Ht(){return I===n?w:Ie(ac())}function gn(){var et=ac(),Kn=ie(et);if(f=arguments,g=this,C=et,Kn){if(I===n)return re(C);if(U)return E0(I),I=xa(ve,a),Z(C)}return I===n&&(I=xa(ve,a)),w}return gn.cancel=pn,gn.flush=Ht,gn}var aO=_e(function(o,a){return e0(o,1,a)}),lO=_e(function(o,a,u){return e0(o,On(a)||0,u)});function uO(o){return xr(o,ae)}function lc(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new Pn(l);var u=function(){var f=arguments,g=a?a.apply(this,f):f[0],_=u.cache;if(_.has(g))return _.get(g);var w=o.apply(this,f);return u.cache=_.set(g,w)||_,w};return u.cache=new(lc.Cache||Pr),u}lc.Cache=Pr;function uc(o){if(typeof o!="function")throw new Pn(l);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function cO(o){return aw(2,o)}var hO=Xx(function(o,a){a=a.length==1&&de(a[0])?je(a[0],hn(te())):je(wt(a,1),hn(te()));var u=a.length;return _e(function(f){for(var g=-1,_=kt(f.length,u);++g<_;)f[g]=a[g].call(this,f[g]);return cn(o,this,f)})}),up=_e(function(o,a){var u=ii(a,Qs(up));return xr(o,B,n,a,u)}),fw=_e(function(o,a){var u=ii(a,Qs(fw));return xr(o,b,n,a,u)}),fO=Nr(function(o,a){return xr(o,H,n,n,n,a)});function dO(o,a){if(typeof o!="function")throw new Pn(l);return a=a===n?a:ge(a),_e(o,a)}function pO(o,a){if(typeof o!="function")throw new Pn(l);return a=a==null?0:lt(ge(a),0),_e(function(u){var f=u[a],g=ui(u,0,a);return f&&ri(g,f),cn(o,this,g)})}function gO(o,a,u){var f=!0,g=!0;if(typeof o!="function")throw new Pn(l);return He(u)&&(f="leading"in u?!!u.leading:f,g="trailing"in u?!!u.trailing:g),hw(o,a,{leading:f,maxWait:a,trailing:g})}function mO(o){return ow(o,1)}function _O(o,a){return up(Gd(a),o)}function vO(){if(!arguments.length)return[];var o=arguments[0];return de(o)?o:[o]}function yO(o){return xn(o,S)}function wO(o,a){return a=typeof a=="function"?a:n,xn(o,S,a)}function EO(o){return xn(o,v|S)}function TO(o,a){return a=typeof a=="function"?a:n,xn(o,v|S,a)}function IO(o,a){return a==null||Zy(o,a,dt(a))}function Gn(o,a){return o===a||o!==o&&a!==a}var SO=tc(Vd),AO=tc(function(o,a){return o>=a}),ns=s0(function(){return arguments}())?s0:function(o){return Ye(o)&&Ne.call(o,"callee")&&!Hy.call(o,"callee")},de=N.isArray,RO=Ry?hn(Ry):Lx;function Jt(o){return o!=null&&cc(o.length)&&!Or(o)}function Ze(o){return Ye(o)&&Jt(o)}function CO(o){return o===!0||o===!1||Ye(o)&&jt(o)==ca}var ci=Bk||wp,PO=Cy?hn(Cy):Vx;function kO(o){return Ye(o)&&o.nodeType===1&&!Na(o)}function xO(o){if(o==null)return!0;if(Jt(o)&&(de(o)||typeof o=="string"||typeof o.splice=="function"||ci(o)||Ys(o)||ns(o)))return!o.length;var a=xt(o);if(a==jn||a==Wn)return!o.size;if(ka(o))return!Ud(o).length;for(var u in o)if(Ne.call(o,u))return!1;return!0}function NO(o,a){return Ra(o,a)}function DO(o,a,u){u=typeof u=="function"?u:n;var f=u?u(o,a):n;return f===n?Ra(o,a,n,u):!!f}function cp(o){if(!Ye(o))return!1;var a=jt(o);return a==Tu||a==tP||typeof o.message=="string"&&typeof o.name=="string"&&!Na(o)}function OO(o){return typeof o=="number"&&Gy(o)}function Or(o){if(!He(o))return!1;var a=jt(o);return a==Iu||a==ey||a==Ms||a==rP}function dw(o){return typeof o=="number"&&o==ge(o)}function cc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=K}function He(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function Ye(o){return o!=null&&typeof o=="object"}var pw=Py?hn(Py):Fx;function LO(o,a){return o===a||Fd(o,a,ep(a))}function VO(o,a,u){return u=typeof u=="function"?u:n,Fd(o,a,ep(a),u)}function MO(o){return gw(o)&&o!=+o}function FO(o){if(wN(o))throw new le(s);return o0(o)}function UO(o){return o===null}function $O(o){return o==null}function gw(o){return typeof o=="number"||Ye(o)&&jt(o)==fa}function Na(o){if(!Ye(o)||jt(o)!=Rr)return!1;var a=Fu(o);if(a===null)return!0;var u=Ne.call(a,"constructor")&&a.constructor;return typeof u=="function"&&u instanceof u&&Ou.call(u)==Vk}var hp=ky?hn(ky):Ux;function bO(o){return dw(o)&&o>=-K&&o<=K}var mw=xy?hn(xy):$x;function hc(o){return typeof o=="string"||!de(o)&&Ye(o)&&jt(o)==pa}function dn(o){return typeof o=="symbol"||Ye(o)&&jt(o)==Su}var Ys=Ny?hn(Ny):bx;function BO(o){return o===n}function zO(o){return Ye(o)&&xt(o)==ga}function jO(o){return Ye(o)&&jt(o)==sP}var WO=tc($d),HO=tc(function(o,a){return o<=a});function _w(o){if(!o)return[];if(Jt(o))return hc(o)?Hn(o):Xt(o);if(va&&o[va])return Ik(o[va]());var a=xt(o),u=a==jn?Rd:a==Wn?xu:Xs;return u(o)}function Lr(o){if(!o)return o===0?o:0;if(o=On(o),o===zn||o===-zn){var a=o<0?-1:1;return a*he}return o===o?o:0}function ge(o){var a=Lr(o),u=a%1;return a===a?u?a-u:a:0}function vw(o){return o?Ji(ge(o),0,Ce):0}function On(o){if(typeof o=="number")return o;if(dn(o))return fe;if(He(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=He(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Fy(o);var u=RP.test(o);return u||PP.test(o)?ok(o.slice(2),u?2:8):AP.test(o)?fe:+o}function yw(o){return lr(o,Zt(o))}function qO(o){return o?Ji(ge(o),-K,K):o===0?o:0}function xe(o){return o==null?"":fn(o)}var GO=Gs(function(o,a){if(ka(a)||Jt(a)){lr(a,dt(a),o);return}for(var u in a)Ne.call(a,u)&&Ia(o,u,a[u])}),ww=Gs(function(o,a){lr(a,Zt(a),o)}),fc=Gs(function(o,a,u,f){lr(a,Zt(a),o,f)}),KO=Gs(function(o,a,u,f){lr(a,dt(a),o,f)}),QO=Nr(Dd);function YO(o,a){var u=qs(o);return a==null?u:Jy(u,a)}var XO=_e(function(o,a){o=Le(o);var u=-1,f=a.length,g=f>2?a[2]:n;for(g&&Wt(a[0],a[1],g)&&(f=1);++u<f;)for(var _=a[u],w=Zt(_),I=-1,C=w.length;++I<C;){var V=w[I],M=o[V];(M===n||Gn(M,js[V])&&!Ne.call(o,V))&&(o[V]=_[V])}return o}),JO=_e(function(o){return o.push(n,F0),cn(Ew,n,o)});function ZO(o,a){return Oy(o,te(a,3),ar)}function eL(o,a){return Oy(o,te(a,3),Ld)}function tL(o,a){return o==null?o:Od(o,te(a,3),Zt)}function nL(o,a){return o==null?o:r0(o,te(a,3),Zt)}function rL(o,a){return o&&ar(o,te(a,3))}function iL(o,a){return o&&Ld(o,te(a,3))}function sL(o){return o==null?[]:Gu(o,dt(o))}function oL(o){return o==null?[]:Gu(o,Zt(o))}function fp(o,a,u){var f=o==null?n:Zi(o,a);return f===n?u:f}function aL(o,a){return o!=null&&b0(o,a,xx)}function dp(o,a){return o!=null&&b0(o,a,Nx)}var lL=D0(function(o,a,u){a!=null&&typeof a.toString!="function"&&(a=Lu.call(a)),o[a]=u},gp(en)),uL=D0(function(o,a,u){a!=null&&typeof a.toString!="function"&&(a=Lu.call(a)),Ne.call(o,a)?o[a].push(u):o[a]=[u]},te),cL=_e(Aa);function dt(o){return Jt(o)?Yy(o):Ud(o)}function Zt(o){return Jt(o)?Yy(o,!0):Bx(o)}function hL(o,a){var u={};return a=te(a,3),ar(o,function(f,g,_){kr(u,a(f,g,_),f)}),u}function fL(o,a){var u={};return a=te(a,3),ar(o,function(f,g,_){kr(u,g,a(f,g,_))}),u}var dL=Gs(function(o,a,u){Ku(o,a,u)}),Ew=Gs(function(o,a,u,f){Ku(o,a,u,f)}),pL=Nr(function(o,a){var u={};if(o==null)return u;var f=!1;a=je(a,function(_){return _=li(_,o),f||(f=_.length>1),_}),lr(o,Jd(o),u),f&&(u=xn(u,v|y|S,lN));for(var g=a.length;g--;)Wd(u,a[g]);return u});function gL(o,a){return Tw(o,uc(te(a)))}var mL=Nr(function(o,a){return o==null?{}:jx(o,a)});function Tw(o,a){if(o==null)return{};var u=je(Jd(o),function(f){return[f]});return a=te(a),d0(o,u,function(f,g){return a(f,g[0])})}function _L(o,a,u){a=li(a,o);var f=-1,g=a.length;for(g||(g=1,o=n);++f<g;){var _=o==null?n:o[ur(a[f])];_===n&&(f=g,_=u),o=Or(_)?_.call(o):_}return o}function vL(o,a,u){return o==null?o:Ca(o,a,u)}function yL(o,a,u,f){return f=typeof f=="function"?f:n,o==null?o:Ca(o,a,u,f)}var Iw=V0(dt),Sw=V0(Zt);function wL(o,a,u){var f=de(o),g=f||ci(o)||Ys(o);if(a=te(a,4),u==null){var _=o&&o.constructor;g?u=f?new _:[]:He(o)?u=Or(_)?qs(Fu(o)):{}:u={}}return(g?Cn:ar)(o,function(w,I,C){return a(u,w,I,C)}),u}function EL(o,a){return o==null?!0:Wd(o,a)}function TL(o,a,u){return o==null?o:v0(o,a,Gd(u))}function IL(o,a,u,f){return f=typeof f=="function"?f:n,o==null?o:v0(o,a,Gd(u),f)}function Xs(o){return o==null?[]:Ad(o,dt(o))}function SL(o){return o==null?[]:Ad(o,Zt(o))}function AL(o,a,u){return u===n&&(u=a,a=n),u!==n&&(u=On(u),u=u===u?u:0),a!==n&&(a=On(a),a=a===a?a:0),Ji(On(o),a,u)}function RL(o,a,u){return a=Lr(a),u===n?(u=a,a=0):u=Lr(u),o=On(o),Dx(o,a,u)}function CL(o,a,u){if(u&&typeof u!="boolean"&&Wt(o,a,u)&&(a=u=n),u===n&&(typeof a=="boolean"?(u=a,a=n):typeof o=="boolean"&&(u=o,o=n)),o===n&&a===n?(o=0,a=1):(o=Lr(o),a===n?(a=o,o=0):a=Lr(a)),o>a){var f=o;o=a,a=f}if(u||o%1||a%1){var g=Ky();return kt(o+g*(a-o+sk("1e-"+((g+"").length-1))),a)}return Bd(o,a)}var PL=Ks(function(o,a,u){return a=a.toLowerCase(),o+(u?Aw(a):a)});function Aw(o){return pp(xe(o).toLowerCase())}function Rw(o){return o=xe(o),o&&o.replace(xP,vk).replace(QP,"")}function kL(o,a,u){o=xe(o),a=fn(a);var f=o.length;u=u===n?f:Ji(ge(u),0,f);var g=u;return u-=a.length,u>=0&&o.slice(u,g)==a}function xL(o){return o=xe(o),o&&cP.test(o)?o.replace(ry,yk):o}function NL(o){return o=xe(o),o&&mP.test(o)?o.replace(ud,"\\$&"):o}var DL=Ks(function(o,a,u){return o+(u?"-":"")+a.toLowerCase()}),OL=Ks(function(o,a,u){return o+(u?" ":"")+a.toLowerCase()}),LL=k0("toLowerCase");function VL(o,a,u){o=xe(o),a=ge(a);var f=a?Bs(o):0;if(!a||f>=a)return o;var g=(a-f)/2;return ec(Bu(g),u)+o+ec(bu(g),u)}function ML(o,a,u){o=xe(o),a=ge(a);var f=a?Bs(o):0;return a&&f<a?o+ec(a-f,u):o}function FL(o,a,u){o=xe(o),a=ge(a);var f=a?Bs(o):0;return a&&f<a?ec(a-f,u)+o:o}function UL(o,a,u){return u||a==null?a=0:a&&(a=+a),Hk(xe(o).replace(cd,""),a||0)}function $L(o,a,u){return(u?Wt(o,a,u):a===n)?a=1:a=ge(a),zd(xe(o),a)}function bL(){var o=arguments,a=xe(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var BL=Ks(function(o,a,u){return o+(u?"_":"")+a.toLowerCase()});function zL(o,a,u){return u&&typeof u!="number"&&Wt(o,a,u)&&(a=u=n),u=u===n?Ce:u>>>0,u?(o=xe(o),o&&(typeof a=="string"||a!=null&&!hp(a))&&(a=fn(a),!a&&bs(o))?ui(Hn(o),0,u):o.split(a,u)):[]}var jL=Ks(function(o,a,u){return o+(u?" ":"")+pp(a)});function WL(o,a,u){return o=xe(o),u=u==null?0:Ji(ge(u),0,o.length),a=fn(a),o.slice(u,u+a.length)==a}function HL(o,a,u){var f=m.templateSettings;u&&Wt(o,a,u)&&(a=n),o=xe(o),a=fc({},a,f,M0);var g=fc({},a.imports,f.imports,M0),_=dt(g),w=Ad(g,_),I,C,V=0,M=a.interpolate||Au,U="__p += '",q=Cd((a.escape||Au).source+"|"+M.source+"|"+(M===iy?SP:Au).source+"|"+(a.evaluate||Au).source+"|$","g"),Z="//# sourceURL="+(Ne.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ek+"]")+`
`;o.replace(q,function(ie,ve,Ie,pn,Ht,gn){return Ie||(Ie=pn),U+=o.slice(V,gn).replace(NP,wk),ve&&(I=!0,U+=`' +
__e(`+ve+`) +
'`),Ht&&(C=!0,U+=`';
`+Ht+`;
__p += '`),Ie&&(U+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),V=gn+ie.length,ie}),U+=`';
`;var re=Ne.call(a,"variable")&&a.variable;if(!re)U=`with (obj) {
`+U+`
}
`;else if(TP.test(re))throw new le(c);U=(C?U.replace(oP,""):U).replace(aP,"$1").replace(lP,"$1;"),U="function("+(re||"obj")+`) {
`+(re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(C?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+U+`return __p
}`;var me=Pw(function(){return Pe(_,Z+"return "+U).apply(n,w)});if(me.source=U,cp(me))throw me;return me}function qL(o){return xe(o).toLowerCase()}function GL(o){return xe(o).toUpperCase()}function KL(o,a,u){if(o=xe(o),o&&(u||a===n))return Fy(o);if(!o||!(a=fn(a)))return o;var f=Hn(o),g=Hn(a),_=Uy(f,g),w=$y(f,g)+1;return ui(f,_,w).join("")}function QL(o,a,u){if(o=xe(o),o&&(u||a===n))return o.slice(0,By(o)+1);if(!o||!(a=fn(a)))return o;var f=Hn(o),g=$y(f,Hn(a))+1;return ui(f,0,g).join("")}function YL(o,a,u){if(o=xe(o),o&&(u||a===n))return o.replace(cd,"");if(!o||!(a=fn(a)))return o;var f=Hn(o),g=Uy(f,Hn(a));return ui(f,g).join("")}function XL(o,a){var u=ne,f=zt;if(He(a)){var g="separator"in a?a.separator:g;u="length"in a?ge(a.length):u,f="omission"in a?fn(a.omission):f}o=xe(o);var _=o.length;if(bs(o)){var w=Hn(o);_=w.length}if(u>=_)return o;var I=u-Bs(f);if(I<1)return f;var C=w?ui(w,0,I).join(""):o.slice(0,I);if(g===n)return C+f;if(w&&(I+=C.length-I),hp(g)){if(o.slice(I).search(g)){var V,M=C;for(g.global||(g=Cd(g.source,xe(sy.exec(g))+"g")),g.lastIndex=0;V=g.exec(M);)var U=V.index;C=C.slice(0,U===n?I:U)}}else if(o.indexOf(fn(g),I)!=I){var q=C.lastIndexOf(g);q>-1&&(C=C.slice(0,q))}return C+f}function JL(o){return o=xe(o),o&&uP.test(o)?o.replace(ny,Ck):o}var ZL=Ks(function(o,a,u){return o+(u?" ":"")+a.toUpperCase()}),pp=k0("toUpperCase");function Cw(o,a,u){return o=xe(o),a=u?n:a,a===n?Tk(o)?xk(o):dk(o):o.match(a)||[]}var Pw=_e(function(o,a){try{return cn(o,n,a)}catch(u){return cp(u)?u:new le(u)}}),e2=Nr(function(o,a){return Cn(a,function(u){u=ur(u),kr(o,u,lp(o[u],o))}),o});function t2(o){var a=o==null?0:o.length,u=te();return o=a?je(o,function(f){if(typeof f[1]!="function")throw new Pn(l);return[u(f[0]),f[1]]}):[],_e(function(f){for(var g=-1;++g<a;){var _=o[g];if(cn(_[0],this,f))return cn(_[1],this,f)}})}function n2(o){return Cx(xn(o,v))}function gp(o){return function(){return o}}function r2(o,a){return o==null||o!==o?a:o}var i2=N0(),s2=N0(!0);function en(o){return o}function mp(o){return a0(typeof o=="function"?o:xn(o,v))}function o2(o){return u0(xn(o,v))}function a2(o,a){return c0(o,xn(a,v))}var l2=_e(function(o,a){return function(u){return Aa(u,o,a)}}),u2=_e(function(o,a){return function(u){return Aa(o,u,a)}});function _p(o,a,u){var f=dt(a),g=Gu(a,f);u==null&&!(He(a)&&(g.length||!f.length))&&(u=a,a=o,o=this,g=Gu(a,dt(a)));var _=!(He(u)&&"chain"in u)||!!u.chain,w=Or(o);return Cn(g,function(I){var C=a[I];o[I]=C,w&&(o.prototype[I]=function(){var V=this.__chain__;if(_||V){var M=o(this.__wrapped__),U=M.__actions__=Xt(this.__actions__);return U.push({func:C,args:arguments,thisArg:o}),M.__chain__=V,M}return C.apply(o,ri([this.value()],arguments))})}),o}function c2(){return yt._===this&&(yt._=Mk),this}function vp(){}function h2(o){return o=ge(o),_e(function(a){return h0(a,o)})}var f2=Qd(je),d2=Qd(Dy),p2=Qd(wd);function kw(o){return np(o)?Ed(ur(o)):Wx(o)}function g2(o){return function(a){return o==null?n:Zi(o,a)}}var m2=O0(),_2=O0(!0);function yp(){return[]}function wp(){return!1}function v2(){return{}}function y2(){return""}function w2(){return!0}function E2(o,a){if(o=ge(o),o<1||o>K)return[];var u=Ce,f=kt(o,Ce);a=te(a),o-=Ce;for(var g=Sd(f,a);++u<o;)a(u);return g}function T2(o){return de(o)?je(o,ur):dn(o)?[o]:Xt(Q0(xe(o)))}function I2(o){var a=++Lk;return xe(o)+a}var S2=Zu(function(o,a){return o+a},0),A2=Yd("ceil"),R2=Zu(function(o,a){return o/a},1),C2=Yd("floor");function P2(o){return o&&o.length?qu(o,en,Vd):n}function k2(o,a){return o&&o.length?qu(o,te(a,2),Vd):n}function x2(o){return Vy(o,en)}function N2(o,a){return Vy(o,te(a,2))}function D2(o){return o&&o.length?qu(o,en,$d):n}function O2(o,a){return o&&o.length?qu(o,te(a,2),$d):n}var L2=Zu(function(o,a){return o*a},1),V2=Yd("round"),M2=Zu(function(o,a){return o-a},0);function F2(o){return o&&o.length?Id(o,en):0}function U2(o,a){return o&&o.length?Id(o,te(a,2)):0}return m.after=oO,m.ary=ow,m.assign=GO,m.assignIn=ww,m.assignInWith=fc,m.assignWith=KO,m.at=QO,m.before=aw,m.bind=lp,m.bindAll=e2,m.bindKey=lw,m.castArray=vO,m.chain=rw,m.chunk=CN,m.compact=PN,m.concat=kN,m.cond=t2,m.conforms=n2,m.constant=gp,m.countBy=FD,m.create=YO,m.curry=uw,m.curryRight=cw,m.debounce=hw,m.defaults=XO,m.defaultsDeep=JO,m.defer=aO,m.delay=lO,m.difference=xN,m.differenceBy=NN,m.differenceWith=DN,m.drop=ON,m.dropRight=LN,m.dropRightWhile=VN,m.dropWhile=MN,m.fill=FN,m.filter=$D,m.flatMap=zD,m.flatMapDeep=jD,m.flatMapDepth=WD,m.flatten=Z0,m.flattenDeep=UN,m.flattenDepth=$N,m.flip=uO,m.flow=i2,m.flowRight=s2,m.fromPairs=bN,m.functions=sL,m.functionsIn=oL,m.groupBy=HD,m.initial=zN,m.intersection=jN,m.intersectionBy=WN,m.intersectionWith=HN,m.invert=lL,m.invertBy=uL,m.invokeMap=GD,m.iteratee=mp,m.keyBy=KD,m.keys=dt,m.keysIn=Zt,m.map=oc,m.mapKeys=hL,m.mapValues=fL,m.matches=o2,m.matchesProperty=a2,m.memoize=lc,m.merge=dL,m.mergeWith=Ew,m.method=l2,m.methodOf=u2,m.mixin=_p,m.negate=uc,m.nthArg=h2,m.omit=pL,m.omitBy=gL,m.once=cO,m.orderBy=QD,m.over=f2,m.overArgs=hO,m.overEvery=d2,m.overSome=p2,m.partial=up,m.partialRight=fw,m.partition=YD,m.pick=mL,m.pickBy=Tw,m.property=kw,m.propertyOf=g2,m.pull=QN,m.pullAll=tw,m.pullAllBy=YN,m.pullAllWith=XN,m.pullAt=JN,m.range=m2,m.rangeRight=_2,m.rearg=fO,m.reject=ZD,m.remove=ZN,m.rest=dO,m.reverse=op,m.sampleSize=tO,m.set=vL,m.setWith=yL,m.shuffle=nO,m.slice=eD,m.sortBy=sO,m.sortedUniq=aD,m.sortedUniqBy=lD,m.split=zL,m.spread=pO,m.tail=uD,m.take=cD,m.takeRight=hD,m.takeRightWhile=fD,m.takeWhile=dD,m.tap=PD,m.throttle=gO,m.thru=sc,m.toArray=_w,m.toPairs=Iw,m.toPairsIn=Sw,m.toPath=T2,m.toPlainObject=yw,m.transform=wL,m.unary=mO,m.union=pD,m.unionBy=gD,m.unionWith=mD,m.uniq=_D,m.uniqBy=vD,m.uniqWith=yD,m.unset=EL,m.unzip=ap,m.unzipWith=nw,m.update=TL,m.updateWith=IL,m.values=Xs,m.valuesIn=SL,m.without=wD,m.words=Cw,m.wrap=_O,m.xor=ED,m.xorBy=TD,m.xorWith=ID,m.zip=SD,m.zipObject=AD,m.zipObjectDeep=RD,m.zipWith=CD,m.entries=Iw,m.entriesIn=Sw,m.extend=ww,m.extendWith=fc,_p(m,m),m.add=S2,m.attempt=Pw,m.camelCase=PL,m.capitalize=Aw,m.ceil=A2,m.clamp=AL,m.clone=yO,m.cloneDeep=EO,m.cloneDeepWith=TO,m.cloneWith=wO,m.conformsTo=IO,m.deburr=Rw,m.defaultTo=r2,m.divide=R2,m.endsWith=kL,m.eq=Gn,m.escape=xL,m.escapeRegExp=NL,m.every=UD,m.find=bD,m.findIndex=X0,m.findKey=ZO,m.findLast=BD,m.findLastIndex=J0,m.findLastKey=eL,m.floor=C2,m.forEach=iw,m.forEachRight=sw,m.forIn=tL,m.forInRight=nL,m.forOwn=rL,m.forOwnRight=iL,m.get=fp,m.gt=SO,m.gte=AO,m.has=aL,m.hasIn=dp,m.head=ew,m.identity=en,m.includes=qD,m.indexOf=BN,m.inRange=RL,m.invoke=cL,m.isArguments=ns,m.isArray=de,m.isArrayBuffer=RO,m.isArrayLike=Jt,m.isArrayLikeObject=Ze,m.isBoolean=CO,m.isBuffer=ci,m.isDate=PO,m.isElement=kO,m.isEmpty=xO,m.isEqual=NO,m.isEqualWith=DO,m.isError=cp,m.isFinite=OO,m.isFunction=Or,m.isInteger=dw,m.isLength=cc,m.isMap=pw,m.isMatch=LO,m.isMatchWith=VO,m.isNaN=MO,m.isNative=FO,m.isNil=$O,m.isNull=UO,m.isNumber=gw,m.isObject=He,m.isObjectLike=Ye,m.isPlainObject=Na,m.isRegExp=hp,m.isSafeInteger=bO,m.isSet=mw,m.isString=hc,m.isSymbol=dn,m.isTypedArray=Ys,m.isUndefined=BO,m.isWeakMap=zO,m.isWeakSet=jO,m.join=qN,m.kebabCase=DL,m.last=Dn,m.lastIndexOf=GN,m.lowerCase=OL,m.lowerFirst=LL,m.lt=WO,m.lte=HO,m.max=P2,m.maxBy=k2,m.mean=x2,m.meanBy=N2,m.min=D2,m.minBy=O2,m.stubArray=yp,m.stubFalse=wp,m.stubObject=v2,m.stubString=y2,m.stubTrue=w2,m.multiply=L2,m.nth=KN,m.noConflict=c2,m.noop=vp,m.now=ac,m.pad=VL,m.padEnd=ML,m.padStart=FL,m.parseInt=UL,m.random=CL,m.reduce=XD,m.reduceRight=JD,m.repeat=$L,m.replace=bL,m.result=_L,m.round=V2,m.runInContext=R,m.sample=eO,m.size=rO,m.snakeCase=BL,m.some=iO,m.sortedIndex=tD,m.sortedIndexBy=nD,m.sortedIndexOf=rD,m.sortedLastIndex=iD,m.sortedLastIndexBy=sD,m.sortedLastIndexOf=oD,m.startCase=jL,m.startsWith=WL,m.subtract=M2,m.sum=F2,m.sumBy=U2,m.template=HL,m.times=E2,m.toFinite=Lr,m.toInteger=ge,m.toLength=vw,m.toLower=qL,m.toNumber=On,m.toSafeInteger=qO,m.toString=xe,m.toUpper=GL,m.trim=KL,m.trimEnd=QL,m.trimStart=YL,m.truncate=XL,m.unescape=JL,m.uniqueId=I2,m.upperCase=ZL,m.upperFirst=pp,m.each=iw,m.eachRight=sw,m.first=ew,_p(m,function(){var o={};return ar(m,function(a,u){Ne.call(m.prototype,u)||(o[u]=a)}),o}(),{chain:!1}),m.VERSION=r,Cn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){m[o].placeholder=m}),Cn(["drop","take"],function(o,a){we.prototype[o]=function(u){u=u===n?1:lt(ge(u),0);var f=this.__filtered__&&!a?new we(this):this.clone();return f.__filtered__?f.__takeCount__=kt(u,f.__takeCount__):f.__views__.push({size:kt(u,Ce),type:o+(f.__dir__<0?"Right":"")}),f},we.prototype[o+"Right"]=function(u){return this.reverse()[o](u).reverse()}}),Cn(["filter","map","takeWhile"],function(o,a){var u=a+1,f=u==Gi||u==ua;we.prototype[o]=function(g){var _=this.clone();return _.__iteratees__.push({iteratee:te(g,3),type:u}),_.__filtered__=_.__filtered__||f,_}}),Cn(["head","last"],function(o,a){var u="take"+(a?"Right":"");we.prototype[o]=function(){return this[u](1).value()[0]}}),Cn(["initial","tail"],function(o,a){var u="drop"+(a?"":"Right");we.prototype[o]=function(){return this.__filtered__?new we(this):this[u](1)}}),we.prototype.compact=function(){return this.filter(en)},we.prototype.find=function(o){return this.filter(o).head()},we.prototype.findLast=function(o){return this.reverse().find(o)},we.prototype.invokeMap=_e(function(o,a){return typeof o=="function"?new we(this):this.map(function(u){return Aa(u,o,a)})}),we.prototype.reject=function(o){return this.filter(uc(te(o)))},we.prototype.slice=function(o,a){o=ge(o);var u=this;return u.__filtered__&&(o>0||a<0)?new we(u):(o<0?u=u.takeRight(-o):o&&(u=u.drop(o)),a!==n&&(a=ge(a),u=a<0?u.dropRight(-a):u.take(a-o)),u)},we.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},we.prototype.toArray=function(){return this.take(Ce)},ar(we.prototype,function(o,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),f=/^(?:head|last)$/.test(a),g=m[f?"take"+(a=="last"?"Right":""):a],_=f||/^find/.test(a);g&&(m.prototype[a]=function(){var w=this.__wrapped__,I=f?[1]:arguments,C=w instanceof we,V=I[0],M=C||de(w),U=function(ve){var Ie=g.apply(m,ri([ve],I));return f&&q?Ie[0]:Ie};M&&u&&typeof V=="function"&&V.length!=1&&(C=M=!1);var q=this.__chain__,Z=!!this.__actions__.length,re=_&&!q,me=C&&!Z;if(!_&&M){w=me?w:new we(this);var ie=o.apply(w,I);return ie.__actions__.push({func:sc,args:[U],thisArg:n}),new kn(ie,q)}return re&&me?o.apply(this,I):(ie=this.thru(U),re?f?ie.value()[0]:ie.value():ie)})}),Cn(["pop","push","shift","sort","splice","unshift"],function(o){var a=Nu[o],u=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",f=/^(?:pop|shift)$/.test(o);m.prototype[o]=function(){var g=arguments;if(f&&!this.__chain__){var _=this.value();return a.apply(de(_)?_:[],g)}return this[u](function(w){return a.apply(de(w)?w:[],g)})}}),ar(we.prototype,function(o,a){var u=m[a];if(u){var f=u.name+"";Ne.call(Hs,f)||(Hs[f]=[]),Hs[f].push({name:a,func:u})}}),Hs[Ju(n,T).name]=[{name:"wrapper",func:n}],we.prototype.clone=Jk,we.prototype.reverse=Zk,we.prototype.value=ex,m.prototype.at=kD,m.prototype.chain=xD,m.prototype.commit=ND,m.prototype.next=DD,m.prototype.plant=LD,m.prototype.reverse=VD,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=MD,m.prototype.first=m.prototype.head,va&&(m.prototype[va]=OD),m},zs=Nk();Ki?((Ki.exports=zs)._=zs,md._=zs):yt._=zs}).call(Da)})(Nh,Nh.exports);var ye=Nh.exports;const GE=_T(ye);var KE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,p=s>>2,v=(s&3)<<4|c>>4;let y=(c&15)<<2|d>>6,S=d&63;h||(S=64,l||(y=64)),r.push(n[p],n[v],n[y],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||v==null)throw new aF;const y=s<<2|c>>4;if(r.push(y),d!==64){const S=c<<4&240|d>>2;if(r.push(S),v!==64){const P=d<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lF=function(t){const e=BS(t);return zS.encodeByteArray(e,!0)},Dh=function(t){return lF(t).replace(/\./g,"")},jS=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=()=>uF().__FIREBASE_DEFAULTS__,hF=()=>{if(typeof process>"u"||typeof KE>"u")return;const t=KE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},F_=()=>{try{return cF()||hF()||fF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=F_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dF=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HS=()=>{var t;return(t=F_())===null||t===void 0?void 0:t.config},qS=t=>{var e;return(e=F_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Dh(JSON.stringify(n)),Dh(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function _F(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yF(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wF(){try{return typeof indexedDB=="object"}catch{return!1}}function EF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TF,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?IF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ti(i,c,r)}}function IF(t,e){return t.replace(SF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SF=/\{\$([^}]+)}/g;function AF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(QE(s)&&QE(l)){if(!Oh(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RF(t,e){const n=new CF(t,e);return n.subscribe.bind(n)}class CF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kp),i.error===void 0&&(i.error=Kp),i.complete===void 0&&(i.complete=Kp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NF(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xF(t){return t===ss?void 0:t}function NF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const OF={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},LF=Se.INFO,VF={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},MF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=LF,this._logHandler=MF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const FF=(t,e)=>e.some(n=>t instanceof n);let YE,XE;function UF(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,um=new WeakMap,KS=new WeakMap,Qp=new WeakMap,$_=new WeakMap;function bF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Di(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),$_.set(e,t),e}function BF(t){if(um.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zF(t){cm=t(cm)}function jF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yp(this),e,...n);return KS.set(r,e.sort?e.sort():[e]),Di(r)}:$F().includes(t)?function(...e){return t.apply(Yp(this),e),Di(GS.get(this))}:function(...e){return Di(t.apply(Yp(this),e))}}function WF(t){return typeof t=="function"?jF(t):(t instanceof IDBTransaction&&BF(t),FF(t,UF())?new Proxy(t,cm):t)}function Di(t){if(t instanceof IDBRequest)return bF(t);if(Qp.has(t))return Qp.get(t);const e=WF(t);return e!==t&&(Qp.set(t,e),$_.set(e,t)),e}const Yp=t=>$_.get(t);function HF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Di(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Di(l.result),h.oldVersion,h.newVersion,Di(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const qF=["get","getKey","getAll","getAllKeys","count"],GF=["put","add","delete","clear"],Xp=new Map;function JE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qF.includes(n)))return;const s=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&h.done]))[0]};return Xp.set(e,s),s}zF(t=>({...t,get:(e,n,r)=>JE(e,n)||t.get(e,n,r),has:(e,n)=>!!JE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",ZE="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new U_("@firebase/app"),YF="@firebase/app-compat",XF="@firebase/analytics-compat",JF="@firebase/analytics",ZF="@firebase/app-check-compat",eU="@firebase/app-check",tU="@firebase/auth",nU="@firebase/auth-compat",rU="@firebase/database",iU="@firebase/database-compat",sU="@firebase/functions",oU="@firebase/functions-compat",aU="@firebase/installations",lU="@firebase/installations-compat",uU="@firebase/messaging",cU="@firebase/messaging-compat",hU="@firebase/performance",fU="@firebase/performance-compat",dU="@firebase/remote-config",pU="@firebase/remote-config-compat",gU="@firebase/storage",mU="@firebase/storage-compat",_U="@firebase/firestore",vU="@firebase/firestore-compat",yU="firebase",wU="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",EU={[hm]:"fire-core",[YF]:"fire-core-compat",[JF]:"fire-analytics",[XF]:"fire-analytics-compat",[eU]:"fire-app-check",[ZF]:"fire-app-check-compat",[tU]:"fire-auth",[nU]:"fire-auth-compat",[rU]:"fire-rtdb",[iU]:"fire-rtdb-compat",[sU]:"fire-fn",[oU]:"fire-fn-compat",[aU]:"fire-iid",[lU]:"fire-iid-compat",[uU]:"fire-fcm",[cU]:"fire-fcm-compat",[hU]:"fire-perf",[fU]:"fire-perf-compat",[dU]:"fire-rc",[pU]:"fire-rc-compat",[gU]:"fire-gcs",[mU]:"fire-gcs-compat",[_U]:"fire-fst",[vU]:"fire-fst-compat","fire-js":"fire-js",[yU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,dm=new Map;function TU(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(dm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of Lh.values())TU(n,t);return!0}function b_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Oi=new eu("app","Firebase",IU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=wU;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=HS()),!n)throw Oi.create("no-options");const s=Lh.get(i);if(s){if(Oh(n,s.options)&&Oh(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}const l=new DF(i);for(const h of dm.values())l.addComponent(h);const c=new SU(n,r,l);return Lh.set(i,c),c}function YS(t=fm){const e=Lh.get(t);if(!e&&t===fm&&HS())return QS();if(!e)throw Oi.create("no-app",{appName:t});return e}function Li(t,e,n){var r;let i=(r=EU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(c.join(" "));return}Vo(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="firebase-heartbeat-database",RU=1,Dl="firebase-heartbeat-store";let Jp=null;function XS(){return Jp||(Jp=HF(AU,RU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Dl)}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function CU(t){try{return await(await XS()).transaction(Dl).objectStore(Dl).get(JS(t))}catch(e){if(e instanceof ti)Ss.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function e1(t,e){try{const r=(await XS()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(e,JS(t)),await r.done}catch(n){if(n instanceof ti)Ss.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function JS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1024,kU=30*24*60*60*1e3;class xU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=kU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t1(),{heartbeatsToSend:r,unsentEntries:i}=NU(this._heartbeatsCache.heartbeats),s=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function t1(){return new Date().toISOString().substring(0,10)}function NU(t,e=PU){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),n1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wF()?EF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function n1(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){Vo(new Is("platform-logger",e=>new KF(e),"PRIVATE")),Vo(new Is("heartbeat",e=>new xU(e),"PRIVATE")),Li(hm,ZE,t),Li(hm,ZE,"esm2017"),Li("fire-js","")}OU("");function B_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LU=ZS,eA=new eu("auth","Firebase",ZS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new U_("@firebase/auth");function VU(t,...e){Vh.logLevel<=Se.WARN&&Vh.warn(`Auth (${Xo}): ${t}`,...e)}function Xc(t,...e){Vh.logLevel<=Se.ERROR&&Vh.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw z_(t,...e)}function yr(t,...e){return z_(t,...e)}function tA(t,e,n){const r=Object.assign(Object.assign({},LU()),{[e]:n});return new eu("auth","Firebase",r).create(e,{appName:t.name})}function MU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ir(t,"argument-error"),tA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eA.create(t,...e)}function ce(t,e,...n){if(!t)throw z_(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function Qr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FU(){return r1()==="http:"||r1()==="https:"}function r1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FU()||_F()||"connection"in navigator)?navigator.onLine:!0}function $U(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=mF()||vF()}get(){return UU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new nu(3e4,6e4);function W_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jo(t,e,n,r,i={}){return rA(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=tu(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),nA.fetch()(iA(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},s))})}async function rA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bU),e);try{const i=new jU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw xc(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw xc(t,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw tA(t,p,d);Ir(t,p)}}catch(i){if(i instanceof ti)throw i;Ir(t,"network-request-failed",{message:String(i)})}}async function zU(t,e,n,r,i={}){const s=await Jo(t,e,n,r,i);return"mfaPendingCredential"in s&&Ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j_(t.config,i):`${t.config.apiScheme}://${i}`}class jU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),BU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function HU(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qU(t,e=!1){const n=un(t),r=await n.getIdToken(e),i=H_(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ll(Zp(i.auth_time)),issuedAtTime:ll(Zp(i.iat)),expirationTime:ll(Zp(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zp(t){return Number(t)*1e3}function H_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const i=jS(n);return i?JSON.parse(i):(Xc("Failed to decode base64 JWT payload"),null)}catch(i){return Xc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GU(t){const e=H_(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&KU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,HU(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JU(s.providerUserInfo):[],c=XU(t.providerData,l),h=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new sA(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function YU(t){const e=un(t);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JU(t){return t.map(e=>{var{providerId:n}=e,r=B_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e){const n=await rA(t,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=iA(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",nA.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e$(t,e){return Jo(t,"POST","/v2/accounts:revokeToken",W_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Ll;return r&&(ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=B_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qU(this,e)}reload(){return YU(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ol(this,WU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,l,c,h,d,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(l=n.photoURL)!==null&&l!==void 0?l:void 0,k=(c=n.tenantId)!==null&&c!==void 0?c:void 0,L=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:D,isAnonymous:B,providerData:b,stsTokenManager:W}=n;ce(A&&W,e,"internal-error");const H=Ll.fromJSON(this.name,W);ce(typeof A=="string",e,"internal-error"),fi(v,e.name),fi(y,e.name),ce(typeof D=="boolean",e,"internal-error"),ce(typeof B=="boolean",e,"internal-error"),fi(S,e.name),fi(P,e.name),fi(k,e.name),fi(L,e.name),fi(T,e.name),fi(E,e.name);const ae=new ms({uid:A,auth:e,email:y,emailVerified:D,displayName:v,isAnonymous:B,photoURL:P,phoneNumber:S,tenantId:k,stsTokenManager:H,createdAt:T,lastLoginAt:E});return b&&Array.isArray(b)&&(ae.providerData=b.map(ne=>Object.assign({},ne))),L&&(ae._redirectEventId=L),ae}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ll;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function Br(t){Qr(t instanceof Function,"Expected a class definition");let e=i1.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oA.type="NONE";const s1=oA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Br(s1),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Br(s1);const l=Jc(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){const v=ms._fromJSON(e,p);d!==s&&(c=v),s=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Io(s,e,r):(s=h[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(l)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(fA(e))return"Webos";if(q_(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aA(t=bt()){return/firefox\//i.test(t)}function q_(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(t=bt()){return/crios\//i.test(t)}function uA(t=bt()){return/iemobile/i.test(t)}function cA(t=bt()){return/android/i.test(t)}function hA(t=bt()){return/blackberry/i.test(t)}function fA(t=bt()){return/webos/i.test(t)}function wf(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t$(t=bt()){var e;return wf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n$(){return yF()&&document.documentMode===10}function dA(t=bt()){return wf(t)||cA(t)||fA(t)||hA(t)||/windows phone/i.test(t)||uA(t)}function r$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e=[]){let n;switch(t){case"Browser":n=o1(bt());break;case"Worker":n=`${o1(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const h=e(s);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e={}){return Jo(t,"GET","/v2/passwordPolicy",W_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=6;class a${constructor(e){var n,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:o$,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new i$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$U()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?un(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s$(this),n=new a$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ef(t){return un(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=RF(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function c$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",u$().appendChild(r)})}function h$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t,e){const n=b_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Oh(s,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function d$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p$(t,e,n){const r=Ef(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gA(e),{host:l,port:c}=g$(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||m$()}function gA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g$(t){const e=gA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:l1(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:l1(l)}}}function l1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return zU(t,"POST","/v1/accounts:signInWithIdp",W_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="http://localhost";class As extends mA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=B_(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new As(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:_$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends G_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends ru{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends ru{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends ru{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ms._fromIdTokenResponse(e,r,i),l=u1(r);return new Mo({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=u1(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function u1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fh(e,n,r,i)}}function _A(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(t,s,e,r):s})}async function v$(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ol(t,_A(r,i,e,t),n);ce(s.idToken,r,"internal-error");const l=H_(s.idToken);ce(l,r,"internal-error");const{sub:c}=l;return ce(t.uid===c,r,"user-mismatch"),Mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e,n=!1){const r="signIn",i=await _A(t,r,e),s=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e){return un(t).setPersistence(e)}function T$(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function I$(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function S$(t){return un(t).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){const t=bt();return q_(t)||wf(t)}const R$=1e3,C$=10;class yA extends vA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A$()&&r$(),this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);n$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,C$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yA.type="LOCAL";const P$=yA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends vA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wA.type="SESSION";const K_=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async d=>d(n.origin,s)),h=await k$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,h)=>{const d=Q_("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function N$(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function D$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L$(){return EA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebaseLocalStorageDb",V$=1,$h="firebaseLocalStorage",IA="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function M$(){const t=indexedDB.deleteDatabase(TA);return new iu(t).toPromise()}function gm(){const t=indexedDB.open(TA,V$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:IA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await M$(),e(await gm()))})})}async function c1(t,e,n){const r=If(t,!0).put({[IA]:e,value:n});return new iu(r).toPromise()}async function F$(t,e){const n=If(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function h1(t,e){const n=If(t,!0).delete(e);return new iu(n).toPromise()}const U$=800,$$=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(L$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D$(),!this.activeServiceWorker)return;this.sender=new x$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gm();return await c1(e,Uh,"1"),await h1(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>c1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>F$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=If(i,!1).getAll();return new iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const b$=SA;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){return e?Br(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends mA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B$(t){return w$(t.auth,new Y_(t),t.bypassAuthState)}function z$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),y$(n,new Y_(t),t.bypassAuthState)}async function j$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),v$(n,new Y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B$;case"linkViaPopup":case"linkViaRedirect":return j$;case"reauthViaPopup":case"reauthViaRedirect":return z$;default:Ir(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=new nu(2e3,1e4);async function H$(t,e,n){const r=Ef(t);MU(t,e,G_);const i=AA(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}class us extends RA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W$.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="pendingRedirect",Zc=new Map;class G$ extends RA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await K$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K$(t,e){const n=X$(e),r=Y$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Q$(t,e){Zc.set(t._key(),e)}function Y$(t){return Br(t._redirectPersistence)}function X$(t){return Jc(q$,t.config.apiKey,t.name)}async function J$(t,e,n=!1){const r=Ef(t),i=AA(r,e),l=await new G$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=10*60*1e3;class e9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z$&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i9=/^https?/;async function s9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n9(t);for(const n of e)try{if(o9(n))return}catch{}Ir(t,"unauthorized-domain")}function o9(t){const e=pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!i9.test(n))return!1;if(r9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=new nu(3e4,6e4);function d1(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l9(t){return new Promise((e,n)=>{var r,i,s;function l(){d1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d1(),n(yr(t,"network-request-failed"))},timeout:a9.get()})}if(!((i=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wr().gapi)===null||s===void 0)&&s.load)l();else{const c=h$("iframefcb");return wr()[c]=()=>{gapi.load?l():n(yr(t,"network-request-failed"))},c$(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw eh=null,e})}let eh=null;function u9(t){return eh=eh||l9(t),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new nu(5e3,15e3),h9="__/auth/iframe",f9="emulator/auth/iframe",d9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g9(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j_(e,f9):`https://${t.config.authDomain}/${h9}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=p9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tu(r).slice(1)}`}async function m9(t){const e=await u9(t),n=wr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:g9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=yr(t,"network-request-failed"),c=wr().setTimeout(()=>{s(l)},c9.get());function h(){wr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v9=500,y9=600,w9="_blank",E9="http://localhost";class p1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T9(t,e,n,r=v9,i=y9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},_9),{width:r.toString(),height:i.toString(),top:s,left:l}),d=bt().toLowerCase();n&&(c=lA(d)?w9:n),aA(d)&&(e=e||E9,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[S,P])=>`${y}${S}=${P},`,"");if(t$(d)&&c!=="_self")return I9(e||"",c),new p1(null);const v=window.open(e||"",c,p);ce(v,t,"popup-blocked");try{v.focus()}catch{}return new p1(v)}function I9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="__/auth/handler",A9="emulator/auth/handler",R9=encodeURIComponent("fac");async function g1(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof G_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",AF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(s||{}))l[p]=v}if(e instanceof ru){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),d=h?`#${R9}=${encodeURIComponent(h)}`:"";return`${C9(t)}?${tu(c).slice(1)}${d}`}function C9({config:t}){return t.emulator?j_(t,A9):`https://${t.authDomain}/${S9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class P9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K_,this._completeRedirectFn=J$,this._overrideRedirectResult=Q$}async _openPopup(e,n,r,i){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await g1(e,n,r,pm(),i);return T9(e,l,Q_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await g1(e,n,r,pm(),i);return N$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m9(e),r=new e9(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[eg];l!==void 0&&n(!!l),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dA()||q_()||wf()}}const k9=P9;var m1="@firebase/auth",_1="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function D9(t){Vo(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(t)},d=new l$(r,i,s,h);return d$(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Is("auth-internal",e=>{const n=Ef(e.getProvider("auth").getImmediate());return(r=>new x9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(m1,_1,N9(t)),Li(m1,_1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=5*60,L9=qS("authIdTokenMaxAge")||O9;let v1=null;const V9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L9)return;const i=n==null?void 0:n.token;v1!==i&&(v1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X_(t=YS()){const e=b_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f$(t,{popupRedirectResolver:k9,persistence:[b$,P$,K_]}),r=qS("authTokenSyncURL");if(r){const s=V9(r);I$(n,s,()=>s(n.currentUser)),T$(n,l=>s(l))}const i=WS("auth");return i&&p$(n,`http://${i}`),n}D9("Browser");const J_="login-user",M9=()=>{try{return JSON.parse(localStorage.getItem(J_))}catch{return!1}},F9=t=>localStorage.setItem(J_,JSON.stringify(t)),U9=()=>localStorage.removeItem(J_),Sf=()=>X_().currentUser||M9(),$9=async()=>{const t=new dr,e=X_();let n=null,r=null,i=Sf();if(!i){try{await E$(e,K_),n=await H$(e,t)}catch(s){r=s}if(!ye.isNull(n)){const l=dr.credentialFromResult(n).accessToken;i=n.user,i.token=l}}return F9(i),{user:i,error:r}},b9=async()=>await $9(),B9=async()=>{try{await S$(X_()),U9()}catch(t){return t}},Ui=({text:t,type:e="",className:n="",children:r})=>{let i=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});switch(e){case"success":i=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});break;case"warning":i=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});break;case"info":i=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});break;case"error":i=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});break;default:i=x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info shrink-0 w-6 h-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});break}return x.jsxs("div",{role:"alert",className:`flex justify-between alert alert-${e} ${n}`,children:[x.jsxs("div",{className:"flex gap-2 items-center",children:[i,x.jsx("span",{children:t})]}),x.jsx("div",{children:r})]})},z9=({setCurrentUser:t})=>{const[e,n]=j.useState(!1),[r,i]=j.useState(!1),s=l=>(l.preventDefault(),i(!0),b9().then(({user:c,error:h})=>{ye.isNull(c)||(n(""),t(c)),ye.isEmpty(h==null?void 0:h.message)||n(h.message)}),!1);return ye.isEmpty(e)||setTimeout(()=>n(!1),5e3),x.jsx("div",{className:"hero min-h-screen bg-base-200",children:x.jsx("div",{className:"hero-content w-full",children:x.jsx("div",{className:"card shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:x.jsxs("form",{className:"card-body",onSubmit:s,children:[!ye.isEmpty(e)&&x.jsx(Ui,{text:e}),x.jsx("div",{className:"form-control mt-0",children:x.jsx("button",{disabled:r,className:"btn btn-primary",children:"Login with Google"})})]})})})})};var j9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Z_=Z_||{},oe=j9||self;function Af(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function su(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function W9(t){return Object.prototype.hasOwnProperty.call(t,tg)&&t[tg]||(t[tg]=++H9)}var tg="closure_uid_"+(1e9*Math.random()>>>0),H9=0;function q9(t,e,n){return t.call.apply(t.bind,arguments)}function G9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=q9:Ft=G9,Ft.apply(null,arguments)}function Nc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[i].apply(r,l)}}function Hi(){this.s=this.s,this.o=this.o}var K9=0;Hi.prototype.s=!1;Hi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),K9!=0)&&W9(this)};Hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ev(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function y1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Af(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let l=0;l<s;l++)t[i+l]=r[l]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var Q9=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function Vl(t){return/^[\s\xa0]*$/.test(t)}function Rf(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return Rf().indexOf(t)!=-1}function tv(t){return tv[" "](t),t}tv[" "]=function(){};function Y9(t,e){var n=zb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var X9=pr("Opera"),Fo=pr("Trident")||pr("MSIE"),kA=pr("Edge"),mm=kA||Fo,xA=pr("Gecko")&&!(Rf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),J9=Rf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function NA(){var t=oe.document;return t?t.documentMode:void 0}var _m;e:{var ng="",rg=function(){var t=Rf();if(xA)return/rv:([^\);]+)(\)|;)/.exec(t);if(kA)return/Edge\/([\d\.]+)/.exec(t);if(Fo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(J9)return/WebKit\/(\S+)/.exec(t);if(X9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rg&&(ng=rg?rg[1]:""),Fo){var ig=NA();if(ig!=null&&ig>parseFloat(ng)){_m=String(ig);break e}}_m=ng}var vm;if(oe.document&&Fo){var w1=NA();vm=w1||parseInt(_m,10)||void 0}else vm=void 0;var Z9=vm;function Ml(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xA){e:{try{tv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:eb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ml.$.h.call(this)}}vt(Ml,Ut);var eb={2:"touch",3:"pen",4:"mouse"};Ml.prototype.h=function(){Ml.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ou="closure_listenable_"+(1e6*Math.random()|0),tb=0;function nb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++tb,this.fa=this.ia=!1}function Cf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rb(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function DA(t){const e={};for(const n in t)e[n]=t[n];return e}const E1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<E1.length;s++)n=E1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pf(t){this.src=t,this.g={},this.h=0}Pf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var l=wm(t,e,r,i);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new nb(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ym(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=PA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rv="closure_lm_"+(1e6*Math.random()|0),sg={};function LA(t,e,n,r,i){if(r&&r.once)return MA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LA(t,e[s],n,r,i);return null}return n=ov(n),t&&t[ou]?t.O(e,n,su(r)?!!r.capture:!!r,i):VA(t,e,n,!1,r,i)}function VA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var l=su(i)?!!i.capture:!!i,c=sv(t);if(c||(t[rv]=c=new Pf(t)),n=c.add(e,n,r,l,s),n.proxy)return n;if(r=ib(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Q9||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(UA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ib(){function t(n){return e.call(t.src,t.listener,n)}const e=sb;return t}function MA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)MA(t,e[s],n,r,i);return null}return n=ov(n),t&&t[ou]?t.P(e,n,su(r)?!!r.capture:!!r,i):VA(t,e,n,!0,r,i)}function FA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FA(t,e[s],n,r,i);else r=su(r)?!!r.capture:!!r,n=ov(n),t&&t[ou]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=wm(s,n,r,i),-1<n&&(Cf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wm(e,n,r,i)),(n=-1<t?e[t]:null)&&iv(n))}function iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ou])ym(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(UA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sv(e))?(ym(n,t),n.h==0&&(n.src=null,e[rv]=null)):Cf(t)}}}function UA(t){return t in sg?sg[t]:sg[t]="on"+t}function sb(t,e){if(t.fa)t=!0;else{e=new Ml(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iv(t),t=n.call(r,e)}return t}function sv(t){return t=t[rv],t instanceof Pf?t:null}var og="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(t){return typeof t=="function"?t:(t[og]||(t[og]=function(e){return t.handleEvent(e)}),t[og])}function _t(){Hi.call(this),this.i=new Pf(this),this.S=this,this.J=null}vt(_t,Hi);_t.prototype[ou]=!0;_t.prototype.removeEventListener=function(t,e,n,r){FA(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;e=new Ut(r,t),OA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var l=e.g=n[s];i=Dc(l,r,!0,e)&&i}if(l=e.g=t,i=Dc(l,r,!0,e)&&i,i=Dc(l,r,!1,e)&&i,n)for(s=0;s<n.length;s++)l=e.g=n[s],i=Dc(l,r,!1,e)&&i}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cf(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&ym(t.i,l),i=c.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var av=oe.JSON.stringify;class ob{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ab(){var t=lv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class lb{constructor(){this.h=this.g=null}add(e,n){const r=$A.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var $A=new ob(()=>new ub,t=>t.reset());class ub{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cb(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hb(t){oe.setTimeout(()=>{throw t},0)}let Fl,Ul=!1,lv=new lb,bA=()=>{const t=oe.Promise.resolve(void 0);Fl=()=>{t.then(fb)}};var fb=()=>{for(var t;t=ab();){try{t.h.call(t.g)}catch(n){hb(n)}var e=$A;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ul=!1};function kf(t,e){_t.call(this),this.h=t||1,this.g=e||oe,this.j=Ft(this.qb,this),this.l=Date.now()}vt(kf,_t);G=kf.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(uv(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){kf.$.N.call(this),uv(this),delete this.g};function cv(t,e,n){if(typeof t=="function")n&&(t=Ft(t,n));else if(t&&typeof t.handleEvent=="function")t=Ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function BA(t){t.g=cv(()=>{t.g=null,t.i&&(t.i=!1,BA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class db extends Hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BA(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $l(t){Hi.call(this),this.h=t,this.g={}}vt($l,Hi);var T1=[];function zA(t,e,n,r){Array.isArray(n)||(n&&(T1[0]=n.toString()),n=T1);for(var i=0;i<n.length;i++){var s=LA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jA(t){nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&iv(e)},t),t.g={}}$l.prototype.N=function(){$l.$.N.call(this),jA(this)};$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xf(){this.g=!0}xf.prototype.Ea=function(){this.g=!1};function pb(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var l="",c=s.split("&"),h=0;h<c.length;h++){var d=c[h].split("=");if(1<d.length){var p=d[0];d=d[1];var v=p.split("_");l=2<=v.length&&v[1]=="type"?l+(p+"="+d+"&"):l+(p+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function gb(t,e,n,r,i,s,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+l})}function mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_b(t,n)+(r?" "+r:"")})}function mb(t,e){t.info(function(){return"TIMEOUT: "+e})}xf.prototype.info=function(){};function _b(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return av(n)}catch{return e}}var Ds={},I1=null;function Nf(){return I1=I1||new _t}Ds.Ta="serverreachability";function WA(t){Ut.call(this,Ds.Ta,t)}vt(WA,Ut);function bl(t){const e=Nf();Rt(e,new WA(e))}Ds.STAT_EVENT="statevent";function HA(t,e){Ut.call(this,Ds.STAT_EVENT,t),this.stat=e}vt(HA,Ut);function Gt(t){const e=Nf();Rt(e,new HA(e,t))}Ds.Ua="timingevent";function qA(t,e){Ut.call(this,Ds.Ua,t),this.size=e}vt(qA,Ut);function au(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Df={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hv(){}hv.prototype.h=null;function S1(t){return t.h||(t.h=t.i())}function KA(){}var lu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fv(){Ut.call(this,"d")}vt(fv,Ut);function dv(){Ut.call(this,"c")}vt(dv,Ut);var Em;function Of(){}vt(Of,hv);Of.prototype.g=function(){return new XMLHttpRequest};Of.prototype.i=function(){return{}};Em=new Of;function uu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $l(this),this.P=vb,t=mm?125:void 0,this.V=new kf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QA}function QA(){this.i=null,this.g="",this.h=!1}var vb=45e3,YA={},Tm={};G=uu.prototype;G.setTimeout=function(t){this.P=t};function Im(t,e,n){t.L=1,t.A=Vf(Yr(e)),t.u=n,t.S=!0,XA(t,null)}function XA(t,e){t.G=Date.now(),cu(t),t.B=Yr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),sR(n.i,"t",r),t.o=0,n=t.l.J,t.h=new QA,t.g=RR(t.l,n?e:null,!t.u),0<t.O&&(t.M=new db(Ft(t.Pa,t,t.g),t.O)),zA(t.U,t.g,"readystatechange",t.nb),e=t.I?DA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),bl(),pb(t.j,t.v,t.B,t.m,t.W,t.u)}G.nb=function(t){t=t.target;const e=this.M;e&&gr(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const p=gr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||mm||this.g&&(this.h.h||this.g.ja()||P1(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?bl(3):bl(2)),Lf(this);var n=this.g.da();this.ca=n;t:if(JA(this)){var r=P1(this.g);t="";var i=r.length,s=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),ul(this);var l="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,gb(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vl(c)){var d=c;break t}}d=null}if(n=d)mo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sm(this,n);else{this.i=!1,this.s=3,Gt(12),cs(this),ul(this);break e}}this.S?(ZA(this,p,l),mm&&this.i&&p==3&&(zA(this.U,this.V,"tick",this.mb),this.V.start())):(mo(this.j,this.m,l,null),Sm(this,l)),p==4&&cs(this),this.i&&!this.J&&(p==4?TR(this.l,this):(this.i=!1,cu(this)))}else $b(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),cs(this),ul(this)}}}catch{}finally{}};function JA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ZA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=yb(t,n),i==Tm){e==4&&(t.s=4,Gt(14),r=!1),mo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==YA){t.s=4,Gt(15),mo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else mo(t.j,t.m,i,null),Sm(t,i);JA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(e),e.M=!0,Gt(11))):(mo(t.j,t.m,n,"[Invalid Chunked Response]"),cs(t),ul(t))}G.mb=function(){if(this.g){var t=gr(this.g),e=this.g.ja();this.o<e.length&&(Lf(this),ZA(this,t,e),this.i&&t!=4&&cu(this))}};function yb(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Tm:(n=Number(e.substring(n,r)),isNaN(n)?YA:(r+=1,r+n>e.length?Tm:(e=e.slice(r,r+n),t.o=r+n,e)))}G.cancel=function(){this.J=!0,cs(this)};function cu(t){t.Y=Date.now()+t.P,eR(t,t.P)}function eR(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=au(Ft(t.lb,t),e)}function Lf(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}G.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(mb(this.j,this.B),this.L!=2&&(bl(),Gt(17)),cs(this),this.s=2,ul(this)):eR(this,this.Y-t)};function ul(t){t.l.H==0||t.J||TR(t.l,t)}function cs(t){Lf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,uv(t.V),jA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Am(n.i,t))){if(!t.K&&Am(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)zh(n),$f(n);else break e;vv(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=au(Ft(n.ib,n),6e3));if(1>=lR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hs(n,11)}else if((t.K||n.g==t)&&zh(n),!Vl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const v=d[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=d[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const S=t.g;if(S){const P=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=r.i;s.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(pv(s,s.h),s.h=null))}if(r.F){const k=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,be(r.I,r.F,k))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var l=t;if(r.wa=AR(r,r.J?r.pa:null,r.Y),l.K){uR(r.i,l);var c=l,h=r.L;h&&c.setTimeout(h),c.C&&(Lf(c),cu(c)),r.g=l}else wR(r);0<n.j.length&&bf(n)}else d[0]!="stop"&&d[0]!="close"||hs(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?hs(n,7):_v(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}bl(4)}catch{}}function wb(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Af(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Eb(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Af(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Af(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Eb(t),r=wb(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var nR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tb(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _s(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _s){this.h=t.h,bh(this,t.j),this.s=t.s,this.g=t.g,Bh(this,t.m),this.l=t.l;var e=t.i,n=new Bl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),A1(this,n),this.o=t.o}else t&&(e=String(t).match(nR))?(this.h=!1,bh(this,e[1]||"",!0),this.s=Ka(e[2]||""),this.g=Ka(e[3]||"",!0),Bh(this,e[4]),this.l=Ka(e[5]||"",!0),A1(this,e[6]||"",!0),this.o=Ka(e[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}_s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qa(e,R1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qa(e,R1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Qa(n,n.charAt(0)=="/"?Ab:Sb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qa(n,Cb)),t.join("")};function Yr(t){return new _s(t)}function bh(t,e,n){t.j=n?Ka(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function A1(t,e,n){e instanceof Bl?(t.i=e,Pb(t.i,t.h)):(n||(e=Qa(e,Rb)),t.i=new Bl(e,t.h))}function be(t,e,n){t.i.set(e,n)}function Vf(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ka(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Ib),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ib(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var R1=/[#\/\?@]/g,Sb=/[#\?:]/g,Ab=/[#\?]/g,Rb=/[#\?@]/g,Cb=/#/g;function Bl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qi(t){t.g||(t.g=new Map,t.h=0,t.i&&Tb(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=Bl.prototype;G.add=function(t,e){qi(this),this.i=null,t=Zo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rR(t,e){qi(t),e=Zo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iR(t,e){return qi(t),e=Zo(t,e),t.g.has(e)}G.forEach=function(t,e){qi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};G.ta=function(){qi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};G.Z=function(t){qi(this);let e=[];if(typeof t=="string")iR(this,t)&&(e=e.concat(this.g.get(Zo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return qi(this),this.i=null,t=Zo(this,t),iR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sR(t,e,n){rR(t,e),0<n.length&&(t.i=null,t.g.set(Zo(t,e),ev(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=s;l[r]!==""&&(i+="="+encodeURIComponent(String(l[r]))),t.push(i)}}return this.i=t.join("&")};function Zo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Pb(t,e){e&&!t.j&&(qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rR(this,r),sR(this,i,n))},t)),t.j=e}var kb=class{constructor(t,e){this.g=t,this.map=e}};function oR(t){this.l=t||xb,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xb=10;function aR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lR(t){return t.h?1:t.g?t.g.size:0}function Am(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pv(t,e){t.g?t.g.add(e):t.h=e}function uR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oR.prototype.cancel=function(){if(this.i=cR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ev(t.i)}var Nb=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function Db(){this.g=new Nb}function Ob(t,e,n){const r=n||"";try{tR(t,function(i,s){let l=i;su(i)&&(l=av(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lb(t,e){const n=new xf;if(oe.Image){const r=new Image;r.onload=Nc(Oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nc(Oc,n,r,"TestLoadImage: error",!1,e),r.onabort=Nc(Oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nc(Oc,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mf(t){this.l=t.ec||null,this.j=t.ob||!1}vt(Mf,hv);Mf.prototype.g=function(){return new Ff(this.l,this.j)};Mf.prototype.i=function(t){return function(){return t}}({});function Ff(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(Ff,_t);var gv=0;G=Ff.prototype;G.open=function(t,e){if(this.readyState!=gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=gv};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hu(this):zl(this),this.readyState==3&&hR(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,hu(this))};G.Ya=function(t){this.g&&(this.response=t,hu(this))};G.ka=function(){this.g&&hu(this)};function hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Vb=oe.JSON.parse;function Je(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fR,this.L=this.M=!1}vt(Je,_t);var fR="",Mb=/^https?$/i,Fb=["POST","PUT"];G=Je.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Em.g(),this.C=this.u?S1(this.u):S1(Em),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){C1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=PA(Fb,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of n)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gR(this),0<this.B&&((this.L=Ub(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=cv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){C1(this,s)}};function Ub(t){return Fo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof Z_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function C1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dR(t),Uf(t)}function dR(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),Uf(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uf(this,!0)),Je.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?pR(this):this.kb())};G.kb=function(){pR(this)};function pR(t){if(t.h&&typeof Z_<"u"&&(!t.C[1]||gr(t)!=4||t.da()!=2)){if(t.v&&gr(t)==4)cv(t.La,0,t);else if(Rt(t,"readystatechange"),gr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=l===0){var i=String(t.I).match(nR)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!Mb.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var s=2<gr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",dR(t)}}finally{Uf(t)}}}}function Uf(t,e){if(t.g){gR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function gR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function gr(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Vb(e)}};function P1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $b(t){const e={};t=(t.g&&2<=gr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Vl(t[r]))continue;var n=cb(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}rb(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mR(t){let e="";return nv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):be(t,e,n))}function Ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _R(t){this.Ga=0,this.j=[],this.l=new xf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ba("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ba("baseRetryDelayMs",5e3,t),this.hb=Ba("retryDelaySeedMs",1e4,t),this.eb=Ba("forwardChannelMaxRetries",2,t),this.xa=Ba("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oR(t&&t.concurrentRequestLimit),this.Ja=new Db,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=_R.prototype;G.ra=8;G.H=1;function _v(t){if(vR(t),t.H==3){var e=t.W++,n=Yr(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),fu(t,n),e=new uu(t,t.l,e),e.L=2,e.A=Vf(Yr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=RR(e.l,null),e.g.ha(e.A)),e.G=Date.now(),cu(e)}SR(t)}function $f(t){t.g&&(yv(t),t.g.cancel(),t.g=null)}function vR(t){$f(t),t.u&&(oe.clearTimeout(t.u),t.u=null),zh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function bf(t){if(!aR(t.i)&&!t.m){t.m=!0;var e=t.Na;Fl||bA(),Ul||(Fl(),Ul=!0),lv.add(e,t),t.C=0}}function bb(t,e){return lR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=au(Ft(t.Na,t,e),IR(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new uu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=DA(s),OA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yR(this,i,e),n=Yr(this.I),be(n,"RID",t),be(n,"CVER",22),this.F&&be(n,"X-HTTP-Session-Id",this.F),fu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(mR(s)))+"&"+e:this.o&&mv(n,this.o,s)),pv(this.i,i),this.bb&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.aa=!0,Im(i,n,null)):Im(i,n,e),this.H=2}}else this.H==3&&(t?k1(this,t):this.j.length==0||aR(this.i)||k1(this))};function k1(t,e){var n;e?n=e.m:n=t.W++;const r=Yr(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.V),fu(t,r),t.o&&t.s&&mv(r,t.o,t.s),n=new uu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pv(t.i,n),Im(n,r,e)}function fu(t,e){t.na&&nv(t.na,function(n,r){be(e,r,n)}),t.h&&tR({},function(n,r){be(e,r,n)})}function yR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ft(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const l=["count="+n];s==-1?0<n?(s=i[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let c=!0;for(let h=0;h<n;h++){let d=i[h].g;const p=i[h].map;if(d-=s,0>d)s=Math.max(0,i[h].g-100),c=!1;else try{Ob(p,l,"req"+d+"_")}catch{r&&r(p)}}if(c){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function wR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fl||bA(),Ul||(Fl(),Ul=!0),lv.add(e,t),t.A=0}}function vv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=au(Ft(t.Ma,t),IR(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,ER(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=au(Ft(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),$f(this),ER(this))};function yv(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function ER(t){t.g=new uu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Yr(t.wa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.V),be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&be(e,"TO",t.qa),be(e,"TYPE","xmlhttp"),fu(t,e),t.o&&t.s&&mv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vf(Yr(e)),n.u=null,n.S=!0,XA(n,t)}G.ib=function(){this.v!=null&&(this.v=null,$f(this),vv(this),Gt(19))};function zh(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function TR(t,e){var n=null;if(t.g==e){zh(t),yv(t),t.g=null;var r=2}else if(Am(t.i,e))n=e.F,uR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Nf(),Rt(r,new qA(r,n)),bf(t)}else wR(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&bb(t,e)||r==2&&vv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hs(t,5);break;case 4:hs(t,10);break;case 3:hs(t,6);break;default:hs(t,2)}}}function IR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ft(t.pb,t);n||(n=new _s("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||bh(n,"https"),Vf(n)),Lb(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),SR(t),vR(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function SR(t){if(t.H=0,t.ma=[],t.h){const e=cR(t.i);(e.length!=0||t.j.length!=0)&&(y1(t.ma,e),y1(t.ma,t.j),t.i.i.length=0,ev(t.j),t.j.length=0),t.h.ya()}}function AR(t,e,n){var r=n instanceof _s?Yr(n):new _s(n);if(r.g!="")e&&(r.g=e+"."+r.g),Bh(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _s(null);r&&bh(s,r),e&&(s.g=e),i&&Bh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&be(r,n,e),be(r,"VER",t.ra),fu(t,r),r}function RR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Je(new Mf({ob:n})):new Je(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function CR(){}G=CR.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function jh(){if(Fo&&!(10<=Number(Z9)))throw Error("Environmental error: no available transport.")}jh.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){_t.call(this),this.g=new _R(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ea(this)}vt(wn,_t);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AR(t,null,t.Y),bf(t)};wn.prototype.close=function(){_v(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=av(t),t=n);e.j.push(new kb(e.fb++,t)),e.H==3&&bf(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,_v(this.g),delete this.g,wn.$.N.call(this)};function PR(t){fv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vt(PR,fv);function kR(){dv.call(this),this.status=1}vt(kR,dv);function ea(t){this.g=t}vt(ea,CR);ea.prototype.Ba=function(){Rt(this.g,"a")};ea.prototype.Aa=function(t){Rt(this.g,new PR(t))};ea.prototype.za=function(t){Rt(this.g,new kR)};ea.prototype.ya=function(){Rt(this.g,"b")};function Bb(){this.blockSize=-1}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vt(ir,Bb);ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ag(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],l=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(l<<12&4294967295|l>>>20),l=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(l<<17&4294967295|l>>>15),l=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(l<<22&4294967295|l>>>10),l=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(l<<12&4294967295|l>>>20),l=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(l<<17&4294967295|l>>>15),l=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(l<<22&4294967295|l>>>10),l=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(l<<12&4294967295|l>>>20),l=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(l<<17&4294967295|l>>>15),l=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(l<<22&4294967295|l>>>10),l=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(l<<12&4294967295|l>>>20),l=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(l<<17&4294967295|l>>>15),l=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(l<<22&4294967295|l>>>10),l=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(l<<9&4294967295|l>>>23),l=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(l<<14&4294967295|l>>>18),l=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(l<<20&4294967295|l>>>12),l=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(l<<9&4294967295|l>>>23),l=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(l<<14&4294967295|l>>>18),l=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(l<<20&4294967295|l>>>12),l=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(l<<9&4294967295|l>>>23),l=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(l<<14&4294967295|l>>>18),l=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(l<<20&4294967295|l>>>12),l=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(l<<9&4294967295|l>>>23),l=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(l<<14&4294967295|l>>>18),l=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(l<<20&4294967295|l>>>12),l=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(l<<11&4294967295|l>>>21),l=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(l<<16&4294967295|l>>>16),l=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(l<<23&4294967295|l>>>9),l=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(l<<11&4294967295|l>>>21),l=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(l<<16&4294967295|l>>>16),l=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(l<<23&4294967295|l>>>9),l=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(l<<11&4294967295|l>>>21),l=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(l<<16&4294967295|l>>>16),l=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(l<<23&4294967295|l>>>9),l=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(l<<11&4294967295|l>>>21),l=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(l<<16&4294967295|l>>>16),l=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(l<<23&4294967295|l>>>9),l=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(l<<10&4294967295|l>>>22),l=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(l<<15&4294967295|l>>>17),l=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(l<<21&4294967295|l>>>11),l=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(l<<10&4294967295|l>>>22),l=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(l<<15&4294967295|l>>>17),l=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(l<<21&4294967295|l>>>11),l=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(l<<10&4294967295|l>>>22),l=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(l<<15&4294967295|l>>>17),l=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(l<<21&4294967295|l>>>11),l=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(l<<10&4294967295|l>>>22),l=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(l<<15&4294967295|l>>>17),l=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ag(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ag(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ag(this,r),i=0;break}}this.h=i,this.i+=e};ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var zb={};function wv(t){return-128<=t&&128>t?Y9(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return Ao;if(0>t)return It(mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rm;return new Oe(e,0)}function xR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return It(xR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),r=Ao,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),l=parseInt(t.substring(i,i+s),e);8>s?(s=mr(Math.pow(e,s)),r=r.R(s).add(mr(l))):(r=r.R(n),r=r.add(mr(l)))}return r}var Rm=4294967296,Ao=wv(0),Cm=wv(1),x1=wv(16777216);G=Oe.prototype;G.ea=function(){if(Mn(this))return-It(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rm+r)*e,e*=Rm}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zr(this))return"0";if(Mn(this))return"-"+It(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,r="";;){var i=Hh(n,e).g;n=Wh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mn(t){return t.h==-1}G.X=function(t){return t=Wh(this,t),Mn(t)?-1:zr(t)?0:1};function It(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Cm)}G.abs=function(){return Mn(this)?It(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),l=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=l>>>16,s&=65535,l&=65535,n[i]=l<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function Wh(t,e){return t.add(It(e))}G.R=function(t){if(zr(this)||zr(t))return Ao;if(Mn(this))return Mn(t)?It(this).R(It(t)):It(It(this).R(t));if(Mn(t))return It(this.R(It(t)));if(0>this.X(x1)&&0>t.X(x1))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,l=this.D(r)&65535,c=t.D(i)>>>16,h=t.D(i)&65535;n[2*r+2*i]+=l*h,Lc(n,2*r+2*i),n[2*r+2*i+1]+=s*h,Lc(n,2*r+2*i+1),n[2*r+2*i+1]+=l*c,Lc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,Lc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Lc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function za(t,e){this.g=t,this.h=e}function Hh(t,e){if(zr(e))throw Error("division by zero");if(zr(t))return new za(Ao,Ao);if(Mn(t))return e=Hh(It(t),e),new za(It(e.g),It(e.h));if(Mn(e))return e=Hh(t,It(e)),new za(It(e.g),e.h);if(30<t.g.length){if(Mn(t)||Mn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cm,r=e;0>=r.X(t);)n=N1(n),r=N1(r);var i=Zs(n,1),s=Zs(r,1);for(r=Zs(r,2),n=Zs(n,2);!zr(r);){var l=s.add(r);0>=l.X(t)&&(i=i.add(n),s=l),r=Zs(r,1),n=Zs(n,1)}return e=Wh(t,i.R(e)),new za(i,e)}for(i=Ao;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=mr(n),l=s.R(e);Mn(l)||0<l.X(t);)n-=r,s=mr(n),l=s.R(e);zr(s)&&(s=Cm),i=i.add(s),t=Wh(t,l)}return new za(i,t)}G.gb=function(t){return Hh(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function N1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function Zs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}jh.prototype.createWebChannel=jh.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;Df.NO_ERROR=0;Df.TIMEOUT=8;Df.HTTP_ERROR=6;GA.COMPLETE="complete";KA.EventType=lu;lu.OPEN="a";lu.CLOSE="b";lu.ERROR="c";lu.MESSAGE="d";_t.prototype.listen=_t.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;ir.prototype.digest=ir.prototype.l;ir.prototype.reset=ir.prototype.reset;ir.prototype.update=ir.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=mr;Oe.fromString=xR;var jb=function(){return new jh},Wb=function(){return Nf()},lg=Df,Hb=GA,qb=Ds,D1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vc=KA,Gb=Je,Kb=ir,Ro=Oe;const O1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new U_("@firebase/firestore");function ja(){return Rs.logLevel}function J(t,...e){if(Rs.logLevel<=Se.DEBUG){const n=e.map(Ev);Rs.debug(`Firestore (${ta}): ${t}`,...n)}}function Xr(t,...e){if(Rs.logLevel<=Se.ERROR){const n=e.map(Ev);Rs.error(`Firestore (${ta}): ${t}`,...n)}}function Uo(t,...e){if(Rs.logLevel<=Se.WARN){const n=e.map(Ev);Rs.warn(`Firestore (${ta}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function Fe(t,e){t||se()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Yb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xb{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wr,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new NR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Lt(e)}}class Jb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new e3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=n3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function $o(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ft(0,0))}static max(){return new ue(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),l=n.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends jl{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const r3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends jl{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return r3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Be.fromString(e))}static fromName(e){return new ee(Be.fromString(e).popFirst(5))}static empty(){return new ee(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Be(e.slice()))}}function i3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new $i(i,ee.empty(),e)}function s3(t){return new $i(t.readTime,t.key,-1)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(ue.min(),ee.empty(),-1)}static max(){return new $i(ue.max(),ee.empty(),-1)}}function o3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==a3)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++s,l&&s===i&&n()},h=>r(h))}),l=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;n(e[d]).next(p=>{l[d]=p,++c,c===s&&r(l)},p=>i(p))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Tv._e=-1;function Bf(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function u3(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new Ct(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LR("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const c3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=c3.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sv(t){const e=t.mapValue.fields.__previous_value__;return Iv(e)?Sv(e):e}function Wl(t){const e=bi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,i,s,l,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:f3(t)?9007199254740991:10:se()}function Sr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wl(t).isEqual(Wl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=bi(i.timestampValue),c=bi(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cs(i.bytesValue).isEqual(Cs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return it(i.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return it(i.integerValue)===it(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=it(i.doubleValue),c=it(s.doubleValue);return l===c?qh(l)===qh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(L1(l)!==L1(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Sr(l[h],c[h])))return!1;return!0}(t,e);default:return se()}}function ql(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,l){const c=it(s.integerValue||s.doubleValue),h=it(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return M1(t.timestampValue,e.timestampValue);case 4:return M1(Wl(t),Wl(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,l){const c=Cs(s),h=Cs(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ke(c[d],h[d]);if(p!==0)return p}return ke(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const c=ke(it(s.latitude),it(l.latitude));return c!==0?c:ke(it(s.longitude),it(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,l){const c=s.values||[],h=l.values||[];for(let d=0;d<c.length&&d<h.length;++d){const p=bo(c[d],h[d]);if(p)return p}return ke(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===Fc.mapValue&&l===Fc.mapValue)return 0;if(s===Fc.mapValue)return 1;if(l===Fc.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const y=ke(h[v],p[v]);if(y!==0)return y;const S=bo(c[h[v]],d[p[v]]);if(S!==0)return S}return ke(h.length,p.length)}(t.mapValue,e.mapValue);default:throw se()}}function M1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=bi(t),r=bi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function Bo(t){return Pm(t)}function Pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Pm(n.fields[l])}`;return i+"}"}(t.mapValue):se()}function F1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function km(t){return!!t&&"integerValue"in t}function Av(t){return!!t&&"arrayValue"in t}function U1(t){return!!t&&"nullValue"in t}function $1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=cl(l):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){na(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fn(cl(this.value))}}function VR(t){const e=[];return na(t.fields,(n,r)=>{const i=new St([n]);if(th(r)){const s=VR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Mt(e,0,ue.min(),ue.min(),ue.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ue.min(),ue.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ue.min(),ue.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function b1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(l.referenceValue),n.key):r=bo(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function B1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function d3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{}class ot extends MR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g3(e,n,r):n==="array-contains"?new v3(e,r):n==="in"?new y3(e,r):n==="not-in"?new w3(e,r):n==="array-contains-any"?new E3(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m3(e,r):new _3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends MR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new sr(e,n)}matches(e){return FR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function FR(t){return t.op==="and"}function UR(t){return p3(t)&&FR(t)}function p3(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function xm(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(UR(t))return t.filters.map(e=>xm(e)).join(",");{const e=t.filters.map(n=>xm(n)).join(",");return`${t.op}(${e})`}}function $R(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,c)=>s&&$R(l,i.filters[c]),!0):!1}(t,e):void se()}function bR(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(bR).join(" ,")+"}"}(t):"Filter"}class g3 extends ot{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class m3 extends ot{constructor(e,n){super(e,"in",n),this.keys=BR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _3 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=BR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class v3 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Av(n)&&ql(n.arrayValue,this.value)}}class y3 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class w3 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ql(this.value.arrayValue,n)}}class E3 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.ce=null}}function z1(t,e=null,n=[],r=[],i=null,s=null,l=null){return new T3(t,e,n,r,i,s,l)}function Rv(t){const e=pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.ce=n}return e.ce}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$R(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B1(t.startAt,e.startAt)&&B1(t.endAt,e.endAt)}function Nm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function I3(t,e,n,r,i,s,l,c){return new gu(t,e,n,r,i,s,l,c)}function Pv(t){return new gu(t)}function j1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zR(t){return t.collectionGroup!==null}function hl(t){const e=pe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ct(St.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Kh(s,r))}),n.has(St.keyField().canonicalString())||e.le.push(new Kh(St.keyField(),r))}return e.le}function Er(t){const e=pe(t);return e.he||(e.he=S3(e,hl(t))),e.he}function S3(t,e){if(t.limitType==="F")return z1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Kh(i.field,s)});const n=t.endAt?new Gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gh(t.startAt.position,t.startAt.inclusive):null;return z1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dm(t,e){const n=t.filters.concat([e]);return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Om(t,e,n){return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return Cv(Er(t),Er(e))&&t.limitType===e.limitType}function jR(t){return`${Rv(Er(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bR(i)).join(", ")}]`),Bf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bo(i)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const d=b1(l,c,h);return l.inclusive?d<=0:d<0}(r.startAt,hl(r),i)||r.endAt&&!function(l,c,h){const d=b1(l,c,h);return l.inclusive?d>=0:d>0}(r.endAt,hl(r),i))}(t,e)}function A3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WR(t){return(e,n)=>{let r=!1;for(const i of hl(t)){const s=R3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R3(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,l,c){const h=l.data.field(s),d=c.data.field(s);return h!==null&&d!==null?bo(h,d):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new Qe(ee.comparator);function Jr(){return C3}const HR=new Qe(ee.comparator);function Ya(...t){let e=HR;for(const n of t)e=e.insert(n.key,n);return e}function qR(t){let e=HR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return fl()}function GR(){return fl()}function fl(){return new ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const P3=new Qe(ee.comparator),k3=new Ct(ee.comparator);function Ee(...t){let e=k3;for(const n of t)e=e.add(n);return e}const x3=new Ct(ke);function N3(){return x3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function QR(t){return{integerValue:""+t}}function D3(t,e){return u3(e)?QR(e):KR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function O3(t,e,n){return t instanceof Qh?function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iv(s)&&(s=Sv(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(n,e):t instanceof Gl?XR(t,e):t instanceof Kl?JR(t,e):function(i,s){const l=YR(i,s),c=W1(l)+W1(i.Ie);return km(l)&&km(i.Ie)?QR(c):KR(i.serializer,c)}(t,e)}function L3(t,e,n){return t instanceof Gl?XR(t,e):t instanceof Kl?JR(t,e):n}function YR(t,e){return t instanceof Yh?function(r){return km(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qh extends Wf{}class Gl extends Wf{constructor(e){super(),this.elements=e}}function XR(t,e){const n=ZR(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends Wf{constructor(e){super(),this.elements=e}}function JR(t,e){let n=ZR(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class Yh extends Wf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function W1(t){return it(t.integerValue||t.doubleValue)}function ZR(t){return Av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gl&&i instanceof Gl||r instanceof Kl&&i instanceof Kl?$o(r.elements,i.elements,Sr):r instanceof Yh&&i instanceof Yh?Sr(r.Ie,i.Ie):r instanceof Qh&&i instanceof Qh}(t.transform,e.transform)}class M3{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hf{}function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kv(t.key,nr.none()):new mu(t.key,t.data,nr.none());{const n=t.data,r=Fn.empty();let i=new Ct(St.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Os(t.key,r,new Zn(i.toArray()),nr.none())}}function F3(t,e,n){t instanceof mu?function(i,s,l){const c=i.value.clone(),h=q1(i.fieldTransforms,s,l.transformResults);c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(i,s,l){if(!nh(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=q1(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(tC(i)),h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof mu?function(s,l,c,h){if(!nh(s.precondition,l))return c;const d=s.value.clone(),p=G1(s.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(s,l,c,h){if(!nh(s.precondition,l))return c;const d=G1(s.fieldTransforms,h,l),p=l.data;return p.setAll(tC(s)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,l,c){return nh(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function U3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YR(r.transform,i||null);s!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,s))}return n||null}function H1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$o(r,i,(s,l)=>V3(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends Hf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Os extends Hf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q1(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,L3(l,c,n[i]))}return r}function G1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,O3(s,l,e))}return r}class kv extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $3 extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GR();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const h=eC(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>H1(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>H1(n,r))}}class xv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return P3}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new xv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ae;function j3(t){switch(t){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function nC(t){if(t===void 0)return Xr("GRPC error has no .code"),F.UNKNOWN;switch(t){case rt.OK:return F.OK;case rt.CANCELLED:return F.CANCELLED;case rt.UNKNOWN:return F.UNKNOWN;case rt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case rt.INTERNAL:return F.INTERNAL;case rt.UNAVAILABLE:return F.UNAVAILABLE;case rt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case rt.NOT_FOUND:return F.NOT_FOUND;case rt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case rt.ABORTED:return F.ABORTED;case rt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case rt.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(Ae=rt||(rt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Ro([4294967295,4294967295],0);function K1(t){const e=W3().encode(t),n=new Kb;return n.update(e),new Uint8Array(n.digest())}function Q1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([i,s],0)]}class Nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(r<0)throw new Xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ro.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ro.fromNumber(r)));return i.compare(H3)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=K1(e),[r,i]=Q1(n);for(let s=0;s<this.hashCount;s++){const l=this.de(r,i,s);if(!this.Ae(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Nv(s,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=K1(e),[r,i]=Q1(n);for(let s=0;s<this.hashCount;s++){const l=this.de(r,i,s);this.Re(l)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qf(ue.min(),i,new Qe(ke),Jr(),Ee())}}class _u{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _u(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class rC{constructor(e,n){this.targetId=e,this.fe=n}}class iC{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y1{constructor(){this.ge=0,this.pe=J1(),this.ye=Bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new _u(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=J1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Fe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class q3{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jr(),this.Qe=X1(),this.Ke=new Qe(ke)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Nm(s))if(r===0){const l=new ee(s.path);this.We(n,l,Mt.newNoDocument(l,ue.min()))}else Fe(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Cs(r).toUint8Array()}catch(h){if(h instanceof LR)return Uo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Nv(l,i,s)}catch(h){return Uo(h instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,l)=>{const c=this.Ye(l);if(c){if(s.current&&Nm(c.target)){const h=new ee(c.target.path);this.qe.get(h)!==null||this.st(l,h)||this.We(l,h,Mt.newNoDocument(h,e))}s.De&&(n.set(l,s.ve()),s.Fe())}});let r=Ee();this.Qe.forEach((s,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.Ye(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,l)=>l.setReadTime(e));const i=new qf(e,n,this.Ke,this.qe,r);return this.qe=Jr(),this.Qe=X1(),this.Ke=new Qe(ke),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Y1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ct(ke),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Y1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X1(){return new Qe(ee.comparator)}function J1(){return new Qe(ee.comparator)}const G3={asc:"ASCENDING",desc:"DESCENDING"},K3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q3={and:"AND",or:"OR"};class Y3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lm(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function Xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X3(t,e){return Xh(t,e.toTimestamp())}function Tr(t){return Fe(!!t),ue.fromTimestamp(function(n){const r=bi(n);return new ft(r.seconds,r.nanos)}(t))}function Dv(t,e){return function(r){return new Be(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function oC(t){const e=Be.fromString(t);return Fe(cC(e)),e}function Vm(t,e){return Dv(t.databaseId,e.path)}function ug(t,e){const n=oC(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(aC(n))}function Mm(t,e){return Dv(t.databaseId,e)}function J3(t){const e=oC(t);return e.length===4?Be.emptyPath():aC(e)}function Fm(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aC(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z1(t,e,n){return{name:Vm(t,e),fields:n.value.mapValue.fields}}function Z3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Fe(p===void 0||typeof p=="string"),Bt.fromBase64String(p||"")):(Fe(p===void 0||p instanceof Uint8Array),Bt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const p=d.code===void 0?F.UNKNOWN:nC(d.code);return new X(p,d.message||"")}(l);n=new iC(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ug(t,r.document.name),s=Tr(r.document.updateTime),l=r.document.createTime?Tr(r.document.createTime):ue.min(),c=new Fn({mapValue:{fields:r.document.fields}}),h=Mt.newFoundDocument(i,s,l,c),d=r.targetIds||[],p=r.removedTargetIds||[];n=new rh(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ug(t,r.document),s=r.readTime?Tr(r.readTime):ue.min(),l=Mt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new rh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ug(t,r.document),s=r.removedTargetIds||[];n=new rh([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new z3(i,s),c=r.targetId;n=new rC(c,l)}}return n}function e6(t,e){let n;if(e instanceof mu)n={update:Z1(t,e.key,e.value)};else if(e instanceof kv)n={delete:Vm(t,e.key)};else if(e instanceof Os)n={update:Z1(t,e.key,e.data),updateMask:u6(e.fieldMask)};else{if(!(e instanceof $3))return se();n={verify:Vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const c=l.transform;if(c instanceof Qh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:X3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function t6(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,s){let l=i.updateTime?Tr(i.updateTime):Tr(s);return l.isEqual(ue.min())&&(l=Tr(s)),new M3(l,i.transformResults||[])}(n,e))):[]}function n6(t,e){return{documents:[Mm(t,e.path)]}}function r6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Mm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(h.length!==0)return uC(sr.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(h){if(h.length!==0)return h.map(d=>function(v){return{field:to(v.field),direction:o6(v.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Lm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function i6(t){let e=J3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(v){const y=lC(v);return y instanceof sr&&UR(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(y=>function(P){return new Kh(no(P.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,Bf(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(v){const y=!!v.before,S=v.values||[];return new Gh(S,y)}(n.startAt));let d=null;return n.endAt&&(d=function(v){const y=!v.before,S=v.values||[];return new Gh(S,y)}(n.endAt)),I3(e,i,l,s,c,"F",h,d)}function s6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=no(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=no(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=no(n.unaryFilter.field);return ot.create(l,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(no(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>lC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function o6(t){return G3[t]}function a6(t){return K3[t]}function l6(t){return Q3[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return St.fromServerFormat(t.fieldPath)}function uC(t){return t instanceof ot?function(n){if(n.op==="=="){if($1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(U1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(U1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:a6(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>uC(i));return r.length===1?r[0]:{compositeFilter:{op:l6(n.op),filters:r}}}(t):se()}function u6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r,i,s=ue.min(),l=ue.min(),c=Bt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.ut=e}}function h6(t){const e=i6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.on=new d6}addToCollectionParentIndex(e,n){return this.on.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve($i.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class d6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new zo(0)}static Nn(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,Zn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let l=Ya();return s.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let s=Jr();const l=fl(),c=function(){return fl()}();return n.forEach((h,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Os)?s=s.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),dl(p.mutation,d,p.mutation.getFieldMask(),ft.now())):l.set(d.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>{var v;return c.set(d,new g6(p,(v=l.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=fl();let i=new Qe((l,c)=>l-c),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let p=r.get(h)||Zn.empty();p=c.applyToLocalView(d,p),r.set(h,p);const v=(i.get(c.batchId)||Ee()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,v=GR();p.forEach(y=>{if(!s.has(y)){const S=eC(n.get(y),r.get(y));S!==null&&v.set(y,S),s=s.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,v))}return $.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(fs());let c=-1,h=s;return l.next(d=>$.forEach(d,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(p)?$.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,h,d,Ee())).next(p=>({batchId:c,changes:qR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Ya();return this.indexManager.getCollectionParents(e,s).next(c=>$.forEach(c,h=>{const d=function(v,y){return new gu(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(l=>{s.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Mt.newInvalidDocument(p)))});let c=Ya();return l.forEach((h,d)=>{const p=s.get(h);p!==void 0&&dl(p.mutation,d,Zn.empty(),ft.now()),jf(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return $.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:h6(i.bundledQuery),readTime:Tr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new Qe(ee.comparator),this.lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,l=new ee(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=fs(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=fs(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=i)););return $.resolve(c)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new B3(n,r));let s=this.lr.get(n);s===void 0&&(s=Ee(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.hr=new Ct(pt.Pr),this.Ir=new Ct(pt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new pt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ee(new Be([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],l=>{this.dr(l),s.push(l.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ee(new Be([])),r=new pt(n,e),i=new pt(n,e+1);let s=Ee();return this.Ir.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new pt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ee.comparator(e.key,n.key)||ke(e.gr,n.gr)}static Tr(e,n){return ke(e.gr,n.gr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ct(pt.Pr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new b3(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.yr=this.yr.add(new pt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return $.resolve(l)}lookupMutationBatch(e,n){return $.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],l=>{const c=this.wr(l.gr);s.push(c)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(ke);return n.forEach(i=>{const s=new pt(i,0),l=new pt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,l],c=>{r=r.add(c.gr)})}),$.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const l=new pt(new ee(s),0);let c=new Ct(ke);return this.yr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.gr)),!0)},l),$.resolve(this.br(c))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return $.forEach(n.mutations,i=>{const s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new pt(n,0),i=this.yr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.Cr=e,this.docs=function(){return new Qe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jr();const l=n.path,c=new ee(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||o3(s3(p),r)<=0||(i.has(p.key)||jf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}vr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E6(this)}getSize(e){return $.resolve(this.size)}}class E6 extends p6{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.persistence=e,this.Fr=new ra(n=>Rv(n),Cv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ov,this.targetCount=0,this.Nr=zo.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),$.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.kn(n),$.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Fr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Tv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new T6(this),this.indexManager=new f6,this.remoteDocumentCache=function(i){return new w6(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new c6(n),this.Kr=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new y6(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new S6(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return $.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class S6 extends l3{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Gr=new Ov,this.zr=null}static jr(e){return new Lv(e)}get Hr(){if(this.zr)return this.zr;throw se()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Hr,r=>{const i=ee.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return $.or([()=>$.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new A6;return this.Hi(e,n,l).next(c=>{if(s.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ja()<=Se.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),$.resolve()):(ja()<=Se.DEBUG&&J("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ja()<=Se.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):$.resolve())}zi(e,n){if(j1(n))return $.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Om(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ee(...s);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.Yi(n,c);return this.Zi(n,d,l,h.readTime)?this.zi(e,Om(n,null,"F")):this.Xi(e,d,n,h)}))})))}ji(e,n,r,i){return j1(n)||i.isEqual(ue.min())?$.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const l=this.Yi(n,s);return this.Zi(n,l,r,i)?$.resolve(null):(ja()<=Se.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.Xi(e,l,n,i3(i,-1)).next(c=>c))})}Yi(e,n){let r=new Ct(WR(e));return n.forEach((i,s)=>{jf(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return ja()<=Se.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",eo(n)),this.Gi.getDocumentsMatchingQuery(e,n,$i.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Qe(ke),this.ns=new ra(s=>Rv(s),Cv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m6(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function P6(t,e,n,r){return new C6(t,e,n,r)}async function hC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],c=[];let h=Ee();for(const d of i){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(d=>({_s:d,removedBatchIds:l,addedBatchIds:c}))})})}function k6(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const v=d.batch,y=v.keys();let S=$.resolve();return y.forEach(P=>{S=S.next(()=>p.getEntry(h,P)).next(k=>{const L=d.docVersions.get(P);Fe(L!==null),k.version.compareTo(L)<0&&(v.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),p.addEntry(k)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ee();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function x6(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const c=[];e.targetChanges.forEach((p,v)=>{const y=i.get(v);if(!y)return;c.push(n.qr.removeMatchingKeys(s,p.removedDocuments,v).next(()=>n.qr.addMatchingKeys(s,p.addedDocuments,v)));let S=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Bt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),i=i.insert(v,S),function(k,L,T){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,S,p)&&c.push(n.qr.updateTargetData(s,S))});let h=Jr(),d=Ee();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(N6(s,l,e.documentUpdates).next(p=>{h=p.us,d=p.cs})),!r.isEqual(ue.min())){const p=n.qr.getLastRemoteSnapshotVersion(s).next(v=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(p)}return $.waitFor(c).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(n.ts=i,s))}function N6(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=Jr();return n.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ue.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):J("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{us:l,cs:i}})}function D6(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O6(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.qr.allocateTargetId(r).next(l=>(i=new Ii(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Um(t,e,n){const r=pe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!pu(l))throw l;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function eT(t,e,n){const r=pe(t);let i=ue.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const v=pe(h),y=v.ns.get(p);return y!==void 0?$.resolve(v.ts.get(y)):v.qr.getTargetData(d,p)}(r,l,Er(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{s=h})}).next(()=>r.es.getDocumentsMatchingQuery(l,e,n?i:ue.min(),n?s:Ee())).next(c=>(L6(r,A3(e),c),{documents:c,ls:s})))}function L6(t,e,n){let r=t.rs.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class tT{constructor(){this.activeTargetIds=N3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V6{constructor(){this.eo=new tT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new tT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function cg(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class $6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,l){const c=cg(),h=this.So(n,r);J("RestConnection",`Sending RPC '${n}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,l),this.Do(n,h,d,i).then(p=>(J("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Uo("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",i),p})}Co(n,r,i,s,l,c){return this.wo(n,r,i,s,l)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,l)=>n[l]=s),i&&i.headers.forEach((s,l)=>n[l]=s)}So(n,r){const i=F6[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=cg();return new Promise((l,c)=>{const h=new Gb;h.setWithCredentials(!0),h.listenOnce(Hb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case lg.NO_ERROR:const p=h.getResponseJson();J(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case lg.TIMEOUT:J(Ot,`RPC '${e}' ${s} timed out`),c(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case lg.HTTP_ERROR:const v=h.getStatus();if(J(Ot,`RPC '${e}' ${s} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const P=function(L){const T=L.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(S.status);c(new X(P,S.message))}else c(new X(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new X(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{J(Ot,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);J(Ot,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",d,r,15)})}vo(e,n,r){const i=cg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jb(),c=Wb(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.bo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=s.join("");J(Ot,`Creating RPC '${e}' stream ${i}: ${p}`,h);const v=l.createWebChannel(p,h);let y=!1,S=!1;const P=new U6({co:L=>{S?J(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(y||(J(Ot,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),J(Ot,`RPC '${e}' stream ${i} sending:`,L),v.send(L))},lo:()=>v.close()}),k=(L,T,E)=>{L.listen(T,A=>{try{E(A)}catch(D){setTimeout(()=>{throw D},0)}})};return k(v,Vc.EventType.OPEN,()=>{S||J(Ot,`RPC '${e}' stream ${i} transport opened.`)}),k(v,Vc.EventType.CLOSE,()=>{S||(S=!0,J(Ot,`RPC '${e}' stream ${i} transport closed`),P.Ro())}),k(v,Vc.EventType.ERROR,L=>{S||(S=!0,Uo(Ot,`RPC '${e}' stream ${i} transport errored:`,L),P.Ro(new X(F.UNAVAILABLE,"The operation could not be completed")))}),k(v,Vc.EventType.MESSAGE,L=>{var T;if(!S){const E=L.data[0];Fe(!!E);const A=E,D=A.error||((T=A[0])===null||T===void 0?void 0:T.error);if(D){J(Ot,`RPC '${e}' stream ${i} received error:`,D);const B=D.status;let b=function(ae){const ne=rt[ae];if(ne!==void 0)return nC(ne)}(B),W=D.message;b===void 0&&(b=F.INTERNAL,W="Unknown error status: "+B+" with message "+D.message),S=!0,P.Ro(new X(b,W)),v.close()}else J(Ot,`RPC '${e}' stream ${i} received:`,E),P.Vo(E)}}),k(c,qb.STAT_EVENT,L=>{L.stat===D1.PROXY?J(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===D1.NOPROXY&&J(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.Ao()},0),P}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return new Y3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,s,l,c,h){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new dC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b6 extends pC{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Z3(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?ue.min():l.readTime?Tr(l.readTime):ue.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(s,l){let c;const h=l.target;if(c=Nm(h)?{documents:n6(s,h)}:{query:r6(s,h)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=sC(s,l.resumeToken);const d=Lm(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ue.min())>0){c.readTime=Xh(s,l.snapshotVersion.toTimestamp());const d=Lm(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=s6(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.e_(n)}}class B6 extends pC{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=t6(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.I_(r,n)}return Fe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Fm(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e6(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(F.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Co(e,n,r,s,l,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class j6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xr(n),this.f_=!1):J("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(l=>{r.enqueueAndForget(async()=>{Ls(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=pe(h);d.C_.add(4),await vu(d),d.M_.set("Unknown"),d.C_.delete(4),await Kf(d)}(this))})}),this.M_=new j6(r,i)}}async function Kf(t){if(Ls(t))for(const e of t.v_)await e(!0)}async function vu(t){for(const e of t.v_)await e(!1)}function gC(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Uv(n)?Fv(n):ia(n).Ho()&&Mv(n,e))}function mC(t,e){const n=pe(t),r=ia(n);n.D_.delete(e),r.Ho()&&_C(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Ls(n)&&n.M_.set("Unknown"))}function Mv(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).u_(e)}function _C(t,e){t.x_.Oe(e),ia(t).c_(e)}function Fv(t){t.x_=new q3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.M_.g_()}function Uv(t){return Ls(t)&&!ia(t).jo()&&t.D_.size>0}function Ls(t){return pe(t).C_.size===0}function vC(t){t.x_=void 0}async function H6(t){t.D_.forEach((e,n)=>{Mv(t,e)})}async function q6(t,e){vC(t),Uv(t)?(t.M_.w_(e),Fv(t)):t.M_.set("Unknown")}async function G6(t,e,n){if(t.M_.set("Online"),e instanceof iC&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const c of s.targetIds)i.D_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.D_.delete(c),i.x_.removeTarget(c))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(t,r)}else if(e instanceof rh?t.x_.$e(e):e instanceof rC?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ue.min()))try{const r=await fC(t.localStore);n.compareTo(r)>=0&&await function(s,l){const c=s.x_.it(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.D_.get(d);p&&s.D_.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=s.D_.get(h);if(!p)return;s.D_.set(h,p.withResumeToken(Bt.EMPTY_BYTE_STRING,p.snapshotVersion)),_C(s,h);const v=new Ii(p.target,h,d,p.sequenceNumber);Mv(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Jh(t,r)}}async function Jh(t,e,n){if(!pu(e))throw e;t.C_.add(1),await vu(t),t.M_.set("Offline"),n||(n=()=>fC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Kf(t)})}function yC(t,e){return e().catch(n=>Jh(t,n,e))}async function Qf(t){const e=pe(t),n=Bi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;K6(e);)try{const i=await D6(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Q6(e,i)}catch(i){await Jh(e,i)}wC(e)&&EC(e)}function K6(t){return Ls(t)&&t.b_.length<10}function Q6(t,e){t.b_.push(e);const n=Bi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function wC(t){return Ls(t)&&!Bi(t).jo()&&t.b_.length>0}function EC(t){Bi(t).start()}async function Y6(t){Bi(t).E_()}async function X6(t){const e=Bi(t);for(const n of t.b_)e.P_(n.mutations)}async function J6(t,e,n){const r=t.b_.shift(),i=xv.from(r,e,n);await yC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qf(t)}async function Z6(t,e){e&&Bi(t).h_&&await async function(r,i){if(function(l){return j3(l)&&l!==F.ABORTED}(i.code)){const s=r.b_.shift();Bi(r).Yo(),await yC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qf(r)}}(t,e),wC(t)&&EC(t)}async function rT(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.C_.add(3),await vu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Kf(n)}async function eB(t,e){const n=pe(t);e?(n.C_.delete(2),await Kf(n)):e||(n.C_.add(2),await vu(n),n.M_.set("Unknown"))}function ia(t){return t.O_||(t.O_=function(n,r,i){const s=pe(n);return s.A_(),new b6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:H6.bind(null,t),Io:q6.bind(null,t),a_:G6.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Uv(t)?Fv(t):t.M_.set("Unknown")):(await t.O_.stop(),vC(t))})),t.O_}function Bi(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.A_(),new B6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Y6.bind(null,t),Io:Z6.bind(null,t),T_:X6.bind(null,t),I_:J6.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Qf(t)):(await t.N_.stop(),t.b_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new $v(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),pu(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.B_=new Qe(ee.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):se():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new jo(e,n,Co.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.k_=void 0,this.listeners=[]}}class nB{constructor(){this.queries=new ra(e=>jR(e),zf),this.onlineState="Unknown",this.q_=new Set}}async function TC(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tB),i)try{s.k_=await n.onListen(r)}catch(l){const c=bv(l,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Bv(n)}async function IC(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function rB(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.listeners)c.K_(i)&&(r=!0);l.k_=i}}r&&Bv(n)}function iB(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Bv(t){t.q_.forEach(e=>{e.next()})}class SC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.key=e}}class RC{constructor(e){this.key=e}}class sB{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ee(),this.mutatedKeys=Ee(),this._a=WR(e),this.aa=new Co(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new iT,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,v)=>{const y=i.get(p),S=jf(this.query,v)?v:null,P=!!y&&this.mutatedKeys.has(y.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let L=!1;y&&S?y.data.isEqual(S.data)?P!==k&&(r.track({type:3,doc:S}),L=!0):this.ha(y,S)||(r.track({type:2,doc:S}),L=!0,(h&&this._a(S,h)>0||d&&this._a(S,d)<0)&&(c=!0)):!y&&S?(r.track({type:0,doc:S}),L=!0):y&&!S&&(r.track({type:1,doc:y}),L=!0,(h||d)&&(c=!0)),L&&(S?(l=l.add(S),s=k?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{aa:l,la:r,Zi:c,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((p,v)=>function(S,P){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return k(S)-k(P)}(p.type,v.type)||this._a(p.doc,v.doc)),this.Pa(r),i=i!=null&&i;const c=n&&!i?this.Ia():[],h=this.oa.size===0&&this.current&&!i?1:0,d=h!==this.sa;return this.sa=h,l.length!==0||d?{snapshot:new jo(this.query,e.aa,s,l,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:c}:{Ta:c}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new iT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ee(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new RC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new AC(r))}),n}da(e){this.ia=e.ls,this.oa=Ee();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return jo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class oB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aB{constructor(e){this.key=e,this.Ra=!1}}class lB{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new ra(c=>jR(c),zf),this.fa=new Map,this.ga=new Set,this.pa=new Qe(ee.comparator),this.ya=new Map,this.wa=new Ov,this.Sa={},this.ba=new Map,this.Da=zo.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function uB(t,e){const n=yB(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const l=await O6(n.localStore,Er(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await cB(n,e,r,c==="current",l.resumeToken),n.isPrimaryClient&&gC(n.remoteStore,l)}return i}async function cB(t,e,n,r,i){t.va=(v,y,S)=>async function(k,L,T,E){let A=L.view.ca(T);A.Zi&&(A=await eT(k.localStore,L.query,!1).then(({documents:W})=>L.view.ca(W,A)));const D=E&&E.targetChanges.get(L.targetId),B=E&&E.targetMismatches.get(L.targetId)!=null,b=L.view.applyChanges(A,k.isPrimaryClient,D,B);return oT(k,L.targetId,b.Ta),b.snapshot}(t,v,y,S);const s=await eT(t.localStore,e,!0),l=new sB(e,s.ls),c=l.ca(s.documents),h=_u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,h);oT(t,n,d.Ta);const p=new oB(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),d.snapshot}async function hB(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!zf(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Um(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mC(n.remoteStore,r.targetId),$m(n,r.targetId)}).catch(du)):($m(n,r.targetId),await Um(n.localStore,r.targetId,!0))}async function fB(t,e,n){const r=wB(t);try{const i=await function(l,c){const h=pe(l),d=ft.now(),p=c.reduce((S,P)=>S.add(P.key),Ee());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=Jr(),k=Ee();return h.ss.getEntries(S,p).next(L=>{P=L,P.forEach((T,E)=>{E.isValidDocument()||(k=k.add(T))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,P)).next(L=>{v=L;const T=[];for(const E of c){const A=U3(E,v.get(E.key).overlayedDocument);A!=null&&T.push(new Os(E.key,A,VR(A.value.mapValue),nr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,d,T,c)}).next(L=>{y=L;const T=L.applyToLocalDocumentSet(v,k);return h.documentOverlayCache.saveOverlays(S,L.batchId,T)})}).then(()=>({batchId:y.batchId,changes:qR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let d=l.Sa[l.currentUser.toKey()];d||(d=new Qe(ke)),d=d.insert(c,h),l.Sa[l.currentUser.toKey()]=d}(r,i.batchId,n),await yu(r,i.changes),await Qf(r.remoteStore)}catch(i){const s=bv(i,"Failed to persist write");n.reject(s)}}async function CC(t,e){const n=pe(t);try{const r=await x6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const l=n.ya.get(s);l&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ra=!0:i.modifiedDocuments.size>0?Fe(l.Ra):i.removedDocuments.size>0&&(Fe(l.Ra),l.Ra=!1))}),await yu(n,r,e)}catch(r){await du(r)}}function sT(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,l)=>{const c=l.view.Q_(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=pe(l);h.onlineState=c;let d=!1;h.queries.forEach((p,v)=>{for(const y of v.listeners)y.Q_(c)&&(d=!0)}),d&&Bv(h)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dB(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let l=new Qe(ee.comparator);l=l.insert(s,Mt.newNoDocument(s,ue.min()));const c=Ee().add(s),h=new qf(ue.min(),new Map,new Qe(ke),l,c);await CC(r,h),r.pa=r.pa.remove(s),r.ya.delete(e),zv(r)}else await Um(r.localStore,e,!1).then(()=>$m(r,e,n)).catch(du)}async function pB(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await k6(n.localStore,e);kC(n,r,null),PC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,i)}catch(i){await du(i)}}async function gB(t,e,n){const r=pe(t);try{const i=await function(l,c){const h=pe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(v=>(Fe(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(d,v))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(r.localStore,e);kC(r,e,n),PC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,i)}catch(i){await du(i)}}function PC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function kC(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function $m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||xC(t,r)})}function xC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(mC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),zv(t))}function oT(t,e,n){for(const r of n)r instanceof AC?(t.wa.addReference(r.key,e),mB(t,r)):r instanceof RC?(J("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||xC(t,r.key)):se()}function mB(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(J("SyncEngine","New document in limbo: "+n),t.ga.add(r),zv(t))}function zv(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ee(Be.fromString(e)),r=t.Da.next();t.ya.set(r,new aB(n)),t.pa=t.pa.insert(n,r),gC(t.remoteStore,new Ii(Er(Pv(n.path)),r,"TargetPurposeLimboResolution",Tv._e))}}async function yu(t,e,n){const r=pe(t),i=[],s=[],l=[];r.ma.isEmpty()||(r.ma.forEach((c,h)=>{l.push(r.va(h,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const p=Vv.Qi(h.targetId,d);s.push(p)}}))}),await Promise.all(l),r.Va.a_(i),await async function(h,d){const p=pe(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>$.forEach(d,y=>$.forEach(y.ki,S=>p.persistence.referenceDelegate.addReference(v,y.targetId,S)).next(()=>$.forEach(y.qi,S=>p.persistence.referenceDelegate.removeReference(v,y.targetId,S)))))}catch(v){if(!pu(v))throw v;J("LocalStore","Failed to update sequence numbers: "+v)}for(const v of d){const y=v.targetId;if(!v.fromCache){const S=p.ts.get(y),P=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(P);p.ts=p.ts.insert(y,k)}}}(r.localStore,s))}async function _B(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await hC(n.localStore,e);n.currentUser=e,function(s,l){s.ba.forEach(c=>{c.forEach(h=>{h.reject(new X(F.CANCELLED,l))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r._s)}}function vB(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return Ee().add(r.key);{let i=Ee();const s=n.fa.get(e);if(!s)return i;for(const l of s){const c=n.ma.get(l);i=i.unionWith(c.view.ua)}return i}}function yB(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dB.bind(null,e),e.Va.a_=rB.bind(null,e.eventManager),e.Va.Fa=iB.bind(null,e.eventManager),e}function wB(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gB.bind(null,e),e}class aT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P6(this.persistence,new R6,e.initialUser,this.serializer)}createPersistence(e){return new I6(Lv.jr,this.serializer)}createSharedClientState(e){return new V6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class EB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_B.bind(null,this.syncEngine),await eB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nB}()}createDatastore(e){const n=Gf(e.databaseInfo.databaseId),r=function(s){return new $6(s)}(e.databaseInfo);return function(s,l,c,h){return new z6(s,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,l,c){return new W6(r,i,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>sT(this.syncEngine,n,0),function(){return nT.D()?new nT:new M6}())}createSyncEngine(e,n){return function(i,s,l,c,h,d,p){const v=new lB(i,s,l,c,h,d);return p&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=pe(n);J("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await vu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=DR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SB(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>rT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rT(e.remoteStore,s)),t._onlineComponents=e}function IB(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function SB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!IB(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new aT)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await fg(t,new aT);return t._offlineComponents}async function DC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await lT(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await lT(t,new EB))),t._onlineComponents}function AB(t){return DC(t).then(e=>e.syncEngine)}async function OC(t){const e=await DC(t),n=e.eventManager;return n.onListen=uB.bind(null,e.syncEngine),n.onUnlisten=hB.bind(null,e.syncEngine),n}function RB(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,h,d){const p=new NC({next:y=>{l.enqueueAndForget(()=>IC(s,v));const S=y.docs.has(c);!S&&y.fromCache?d.reject(new X(F.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&y.fromCache&&h&&h.source==="server"?d.reject(new X(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),v=new SC(Pv(c.path),p,{includeMetadataChanges:!0,J_:!0});return TC(s,v)}(await OC(t),t.asyncQueue,e,n,r)),r.promise}function CB(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,h,d){const p=new NC({next:y=>{l.enqueueAndForget(()=>IC(s,v)),y.fromCache&&h.source==="server"?d.reject(new X(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),v=new SC(c,p,{includeMetadataChanges:!0,J_:!0});return TC(s,v)}(await OC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PB(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cT(t){if(!ee.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hT(t){if(ee.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yf(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qb;switch(r.type){case"firstParty":return new Zb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uT.get(n);r&&(J("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())}(this),Promise.resolve()}}function kB(t,e,n,r={}){var i;const s=(t=Zr(t,Xf))._getSettings(),l=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Lt.MOCK_USER;else{c=gF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Lt(d)}t._authCredentials=new Yb(new NR(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Vi extends sa{constructor(e,n,r){super(e,n,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ee(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function bm(t,e,...n){if(t=un(t),VC("collection","path",e),t instanceof Xf){const r=Be.fromString(e,...n);return hT(r),new Vi(t,null,r)}{if(!(t instanceof ln||t instanceof Vi))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return hT(r),new Vi(t.firestore,null,r)}}function wu(t,e,...n){if(t=un(t),arguments.length===1&&(e=DR.newId()),VC("doc","path",e),t instanceof Xf){const r=Be.fromString(e,...n);return cT(r),new ln(t,null,new ee(r))}{if(!(t instanceof ln||t instanceof Vi))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return cT(r),new ln(t.firestore,t instanceof Vi?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new dC(this,"async_queue_retry"),this.iu=()=>{const n=hg();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=hg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!pu(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=$v.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&se()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class oa extends Xf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new xB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||MC(this),this._firestoreClient.terminate()}}function NB(t,e){const n=typeof t=="object"?t:YS(),r=typeof t=="string"?t:e||"(default)",i=b_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dF("firestore");s&&kB(i,...s)}return i}function jv(t){return t._firestoreClient||MC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function MC(t){var e,n,r;const i=t._freezeSettings(),s=function(c,h,d,p){return new h3(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,LC(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Bt.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=/^__.*__$/;class OB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}function UC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class qv{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new qv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Zh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(UC(this.Iu)&&DB.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class LB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(e)}pu(e,n,r,i=!1){return new qv({Iu:e,methodName:n,gu:r,path:St.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gv(t){const e=t._freezeSettings(),n=Gf(t._databaseId);return new LB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $C(t,e,n,r,i,s={}){const l=t.pu(s.merge||s.mergeFields?2:0,e,n,i);zC("Data must be an object, but it was:",l,r);const c=bC(r,l);let h,d;if(s.merge)h=new Zn(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const y=MB(e,v,n);if(!l.contains(y))throw new X(F.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);UB(p,y)||p.push(y)}h=new Zn(p),d=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,d=l.fieldTransforms;return new OB(new Fn(c),h,d)}function VB(t,e,n,r=!1){return Kv(n,t.pu(r?4:3,e))}function Kv(t,e){if(BC(t=un(t)))return zC("Unsupported field value:",e,t),bC(t,e);if(t instanceof FC)return function(r,i){if(!UC(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const c of r){let h=Kv(c,i.Vu(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:Xh(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(i.serializer,s)}}if(r instanceof Hv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:sC(i.serializer,r._byteString)};if(r instanceof ln){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Dv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Yf(r)}`)}(t,e)}function bC(t,e){const n={};return OR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,(r,i)=>{const s=Kv(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Hv||t instanceof Wo||t instanceof ln||t instanceof FC)}function zC(t,e,n){if(!BC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yf(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function MB(t,e,n){if((e=un(e))instanceof Wv)return e._internalPath;if(typeof e=="string")return jC(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const FB=new RegExp("[~\\*/\\[\\]]");function jC(t,e,n){if(e.search(FB)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wv(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new X(F.INVALID_ARGUMENT,c+t+h)}function UB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $B(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $B extends WC{data(){return super.data()}}function Qv(t,e){return typeof e=="string"?jC(t,e):e instanceof Wv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class BB extends Yv{}function dT(t,e,...n){let r=[];e instanceof Yv&&r.push(e),r=r.concat(n),function(s){const l=s.filter(h=>h instanceof Xv).length,c=s.filter(h=>h instanceof Jf).length;if(l>1||l>0&&c>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jf extends BB{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jf(e,n,r)}_apply(e){const n=this._parse(e);return HC(e._query,n),new sa(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Gv(e.firestore);return function(s,l,c,h,d,p,v){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mT(v,p);const S=[];for(const P of v)S.push(gT(h,s,P));y={arrayValue:{values:S}}}else y=gT(h,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mT(v,p),y=VB(c,l,v,p==="in"||p==="not-in");return ot.create(d,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pT(t,e,n){const r=e,i=Qv("where",t);return Jf._create(i,r,n)}class Xv extends Yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let l=i;const c=s.getFlattenedFilters();for(const h of c)HC(l,h),l=Dm(l,h)}(e._query,n),new sa(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gT(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ee.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F1(t,new ee(r))}if(n instanceof ln)return F1(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(n)}.`)}function mT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HC(t,e){const n=function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zB{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return na(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hv(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=bi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Fe(cC(r));const i=new Hl(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GC extends WC{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ih extends GC{data(e={}){return super.data(e)}}class jB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new ih(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ja(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new ih(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ja(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:WB(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){t=Zr(t,ln);const e=Zr(t.firestore,oa);return RB(jv(e),t._key).then(n=>YB(e,t,n))}class KC extends zB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function qB(t){t=Zr(t,sa);const e=Zr(t.firestore,oa),n=jv(e),r=new KC(e);return bB(t._query),CB(n,t._query).then(i=>new jB(e,r,t,i))}function GB(t,e,n){t=Zr(t,ln);const r=Zr(t.firestore,oa),i=qC(t.converter,e,n);return Jv(r,[$C(Gv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function KB(t){return Jv(Zr(t.firestore,oa),[new kv(t._key,nr.none())])}function QB(t,e){const n=Zr(t.firestore,oa),r=wu(t),i=qC(t.converter,e);return Jv(n,[$C(Gv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Jv(t,e){return function(r,i){const s=new Wr;return r.asyncQueue.enqueueAndForget(async()=>fB(await AB(r),i,s)),s.promise}(jv(t),e)}function YB(t,e,n){const r=n.docs.get(e._key),i=new KC(t);return new GC(t,i,e._key,r,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ta=i})(Xo),Vo(new Is("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new oa(new Xb(r.getProvider("auth-internal")),new t3(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(d.options.projectId,p)}(l,i),l);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Li(O1,"4.4.0",e),Li(O1,"4.4.0","esm2017")})();var XB="firebase",JB="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(XB,JB,"app");const ZB={apiKey:"AIzaSyCDpRtGWTfRX8ahbaOl5twJ3fMmyVtfjoo",authDomain:"task-manager-81d12.firebaseapp.com",projectId:"task-manager-81d12",storageBucket:"task-manager-81d12.appspot.com",messagingSenderId:"8034054979",appId:"1:8034054979:web:905fe67e461586d650b5f6"},e5=QS(ZB),ks=NB(e5);let Ho=null;const aa=t=>(Ho=Sf(),!ye.isEmpty(t)&&ye.isString(t)&&!ye.isEmpty(Ho)),t5=async(t="",e="")=>{if(!aa(t)||ye.isEmpty(e))return!1;const n=wu(ks,t,e),r=await HB(n);return r.exists()?{id:r.id,data:r.data()}:null},n5=(t="",e="")=>!aa(t)||ye.isEmpty(e)?void 0:wu(ks,t.toLowerCase(),e),QC=async(t="",e=null)=>{if(!aa(t)||ye.isEmpty(Ho))return!1;const n=pT("userId","==",Ho.uid);let r=dT(bm(ks,t),n);if(!ye.isEmpty(e)){const l=Object.keys(e)[0],c=Object.values(e)[0];r=dT(bm(ks,t),pT(l,"==",c),n)}const i=await qB(r),s={};return i.forEach(l=>s[l.id]=l.data()),s},r5=async(t="",e=null)=>!aa(t)||ye.isEmpty(e)?!1:(e.data.userId=Ho.uid,await GB(wu(ks,t,e.id),e.data)),YC=async(t="",e=null)=>!aa(t)||ye.isEmpty(e)?!1:(e.userId=Ho.uid,await QB(bm(ks,t),e)),XC=async(t="",e="")=>!aa(t)||ye.isEmpty(e)?!1:await KB(wu(ks,t,e)),Zf="Categories",i5=async()=>await QC(Zf),Zv=t=>n5(Zf,t),s5=async t=>await YC(Zf,t),o5=async t=>await XC(Zf,t),JC={},rn=({className:t,children:e,onClick:n,type:r="",disabled:i=!1})=>x.jsxs("button",{className:t,disabled:i,onClick:n,children:[e,r==="cancel"&&x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),r==="edit"&&x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),r==="right"&&x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),r==="plus"&&x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})})]}),Eu="Tasks",a5=async(t="")=>{let e=null;ye.isEmpty(t)||(e={category:Zv(t)});const n=await QC(Eu,e),r={};return Object.entries(n).map(i=>{const s={id:i[0],data:i[1]};s.data.category=s.data.category.id,r[s.id]=s.data}),r},l5=async(t="")=>{var n,r;const e=await t5(Eu,t);return ye.isEmpty((r=(n=e==null?void 0:e.data)==null?void 0:n.category)==null?void 0:r.id)||(e.data.category=e.data.category.id),e},ZC=async(t,e)=>(e.category&&(e.category=Zv(e.category)),await r5(Eu,{id:t,data:e})),u5=async t=>(t.category&&(t.category=Zv(t.category)),await YC(Eu,t)),c5=async t=>await XC(Eu,t),eP=({tasks:{tasks:t,setTasks:e},task:n=null,categoryId:r=null,handles:{cancel:i},setRefreshComponent:s})=>{const{categoryList:l}=JC,c=ye.isEmpty(n)&&!ye.isEmpty(r),[h,d]=j.useState(n!=null&&n.data?n.data:null),[p,v]=j.useState(!1),[y,S]=j.useState(!1),P=n!=null&&n.id?n.id:null;c&&ye.isEmpty(h)&&d({category:r});const k=()=>{let b=[];n.category!==h.category?(b=t.filter(W=>W.id!==P),ye.isFunction(s)&&s(h.category)):b=t.map(W=>W.id!==P?W:{...W,data:h}),e(b),i()},L=b=>{S(!1),e([...t,{id:b.id,data:h}]),i()},T=b=>{v("Something went wrong."),S(!1),console.log(b)},E=()=>{if(ye.isEmpty(h==null?void 0:h.title)){v("Task must have a title");return}if(S(!0),c){const b=ye.clone(h);d(b),u5(b).then(L).catch(T);return}ZC(P,ye.clone(h)).then(k).catch(T)},A=b=>d({...h,title:b.target.value}),D=b=>d({...h,description:b.target.value}),B=b=>d({...h,category:b.target.value});return x.jsxs(x.Fragment,{children:[!ye.isEmpty(p)&&x.jsx(Ui,{text:p,type:"info",className:"!bg-neutral !text-neutral-content"}),x.jsx("input",{type:"text",placeholder:"Enter title...",className:"task-input",value:(h==null?void 0:h.title)||"",onChange:A}),!ye.isEmpty(h==null?void 0:h.title)&&x.jsx("textarea",{className:"task-textarea",placeholder:"Task description...",value:(h==null?void 0:h.description)||"",onChange:D}),!c&&ye.isArray(l)&&x.jsx(x.Fragment,{children:l.length?x.jsx("select",{defaultValue:(h==null?void 0:h.category)||"",className:"task-select",onChange:B,children:l.map(({id:b,data:{title:W}},H)=>x.jsx("option",{value:b,children:W},H))}):x.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}),x.jsx("div",{className:"card-actions justify-end mt-[5px]",children:x.jsxs("div",{className:"join",children:[x.jsx(rn,{className:"btn join-item btn-sm",onClick:E,disabled:y,children:"Save"}),x.jsx(rn,{className:"btn btn-square join-item btn-sm",onClick:i,type:"cancel"})]})})]})},h5=({task:t,tasks:e,setRefreshComponent:n})=>{const[r,i]=j.useState(!1),[s,l]=j.useState(!1),[c,h]=j.useState(!1),[d,p]=j.useState(!1),[v,y]=j.useState(""),{id:S,data:{title:P,description:k}}=t,L=()=>{h(!1),i(!1),y("")},T=A=>{const D=e.tasks.filter(B=>B.id!==S);e.setTasks(D),L()},E=A=>{L(),y("Something went wrong")};return s&&(l(!1),h(!0),c5(S).then(T).catch(E)),x.jsx("div",{className:`card card-compact ${d?"bg-secondary":"bg-primary"} glass`,children:r?x.jsx(Ui,{text:`Delete ${P}?`,type:"error",className:"bg-error glass border-0 hover:border-error",children:x.jsxs("div",{className:"join",children:[x.jsx(rn,{type:"right",className:"join-item btn-sm btn-square hover:text-white",disabled:c,onClick:()=>l(!0)}),x.jsx(rn,{type:"cancel",className:"join-item btn-sm btn-square hover:text-white",disabled:c,onClick:()=>i(!1)})]})}):x.jsxs("div",{className:"card-body",children:[!ye.isEmpty(v)&&x.jsx(Ui,{text:v,type:"error"}),d?x.jsx(eP,{tasks:e,task:t,handles:{cancel:()=>p(!1)},setRefreshComponent:n}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"card-title justify-between",children:[x.jsx("h2",{children:P}),x.jsxs("div",{className:"card-actions",children:[x.jsx(rn,{className:"btn-square btn-xs hover:text-white",onClick:()=>p(!0),type:"edit"}),x.jsx(rn,{className:"btn-square btn-xs hover:text-white",onClick:()=>i(!0),type:"cancel"})]})]}),x.jsx("div",{className:"overflow-auto max-h-64",children:k})]})]})})},f5=({category:{id:t,data:e},categories:{categories:n,setCategories:r},refreshComponent:{refreshComponent:i,setRefreshComponent:s}})=>{const[l,c]=j.useState([]),[h,d]=j.useState(!1),[p,v]=j.useState(""),[y,S]=j.useState(!1),[P,k]=j.useState(!1),[L,T]=j.useState(!1),[E,A]=j.useState(""),D=()=>{d(!0),a5(t).then(H=>{d(!1);const ae=[];Object.entries(H).map(ne=>ae.push({id:ne[0],data:ne[1]})),c(ae)})};if(j.useEffect(D,[]),j.useEffect(()=>{t===i&&(s(!1),D())},[i]),P){if(k(!1),l.length){S(!1),v("Category list not empty."),setTimeout(()=>v(""),3e3);return}o5(t).then(H=>r(n.filter(ae=>ae.id!==t))).catch(H=>{v("Could not delete this category"),console.log(H)})}const B=(H,ae)=>{H.dataTransfer.setData("id",ae.id),H.dataTransfer.setData("cat",ae.data.category)},b=(H,ae)=>{A("");const ne=H.dataTransfer.getData("id"),zt=H.dataTransfer.getData("cat");ne&&zt!==ae&&(d(!0),l5(ne).then(({id:In,data:Sn})=>{const Gi=Sn.category;Sn.category=ae,ZC(In,Sn).then(()=>{d(!1),c([...l,{id:In,data:Sn}]),s(Gi)}).catch(la=>{console.log(la),d(!1),v("Something went wrong")})}).catch(In=>{console.log(In),v("Something went wrong")}))},W=H=>{H.preventDefault(),A(t)};return x.jsx("div",{className:`category ${t===E?"bg-secondary":"bg-primary"} card card-compact glass max-h-[40rem] h-fit overflow-auto`,children:x.jsxs("div",{className:"card-body",onDrop:H=>b(H,t),onDragOver:W,onDragLeave:H=>A(""),children:[x.jsxs("div",{className:"card-title justify-between",children:[x.jsx("h2",{children:e.title}),x.jsx(rn,{onClick:()=>S(!y),className:"",type:"cancel"})]}),x.jsxs("div",{className:"mb-[10px]",children:[!ye.isEmpty(p)&&x.jsx(Ui,{text:p,type:"warning",className:"mb-2"}),y&&x.jsx(Ui,{text:`Delete ${e.title}?`,type:"error",className:"mb-2 bg-secondary text-secondary-content",children:x.jsxs("div",{className:"join",children:[x.jsx(rn,{className:"join-item btn-square btn-sm hover:text-secondary-content",onClick:()=>k(!0),disabled:h,type:"right"}),x.jsx(rn,{onClick:()=>S(!1),className:"join-item btn-square btn-sm hover:text-secondary-content",disabled:h,type:"cancel"})]})}),ye.isEmpty(p)&&!y&&x.jsx(x.Fragment,{children:L?x.jsx("div",{className:"card card-compact bg-secondary glass",children:x.jsx("div",{className:"card-body",children:x.jsx(eP,{tasks:{tasks:l,setTasks:c},handles:{cancel:()=>T(!1)},categoryId:t})})}):x.jsx(rn,{className:"btn w-fit block bg-secondary glass flex center",onClick:()=>T(!0),type:"plus"})})]}),x.jsx("div",{className:"flex flex-col gap-[10px]",children:h?x.jsx("span",{className:"loading loading-spinner loading-lg text-primary"}):x.jsx(x.Fragment,{children:l.map((H,ae)=>x.jsxs(j.Fragment,{children:[x.jsx("div",{className:"draggable cursor-grab",draggable:!0,onDragStart:ne=>B(ne,H),children:x.jsx(h5,{task:H,tasks:{tasks:l,setTasks:c},setRefreshComponent:s})}),x.jsx("div",{className:"mt-[1px]"})]},ae))})})]})})},d5=({categories:{categories:t,setCategories:e},handles:{cancel:n}})=>{const[r,i]=j.useState(null),[s,l]=j.useState(!1),[c,h]=j.useState(""),d=()=>{if(ye.isEmpty(r==null?void 0:r.title)){h("Category title cannot be empty");return}s5(r).then(p=>{l(!1),e([...t,{id:p.id,data:r}]),i(null),n()}).catch(p=>{h("Error while creating new category"),l(!1)})};return x.jsx("div",{className:"card card-compact glass h-fit",children:x.jsxs("div",{className:"card-body",children:[!ye.isEmpty(c)&&x.jsx(Ui,{text:c,type:"error",className:"!bg-neutral !text-secondary-content"}),x.jsx("input",{type:"text",placeholder:"Enter title...",className:"task-input !text-secondary-content placeholder:text-secondary-content",value:(r==null?void 0:r.title)||"",onChange:p=>i({...r,title:p.target.value})}),!ye.isEmpty(r==null?void 0:r.title)&&x.jsx(x.Fragment,{children:x.jsx("textarea",{placeholder:"Enter description...",className:"task-textarea !text-secondary-content placeholder:text-secondary-content",value:(r==null?void 0:r.description)||"",onChange:p=>i({...r,description:p.target.value})})}),x.jsx("div",{className:"card-actions justify-end mt-[5px]",children:x.jsxs("div",{className:"join",children:[x.jsx(rn,{className:"btn join-item btn-sm",disabled:s,onClick:d,children:"Save"}),x.jsx(rn,{className:"btn btn-square join-item btn-sm",onClick:n,type:"cancel"})]})})]})})},p5=({message:t,isAlert:e=!1,successButtonText:n="Yes",onSuccess:r,close:i})=>ye.isEmpty(t)?null:x.jsx("dialog",{className:"modal modal-bottom sm:modal-middle",open:!0,children:x.jsxs("div",{className:"modal-box",children:[x.jsx("h3",{className:"font-bold text-lg",children:"Alert"}),x.jsx("p",{className:"py-4",children:t}),x.jsxs("div",{className:"modal-action",children:[!e&&x.jsx(rn,{className:"btn btn-primary mr-1",onClick:r,children:n}),x.jsx(rn,{className:"btn",onClick:i,children:"Close"})]})]})}),g5=({refresh:t})=>{const{appRefresh:e,setAppRefresh:n}=t,[r,i]=j.useState([]);j.useState(!1);const[s,l]=j.useState(null),[c,h]=j.useState(!1),[d,p]=j.useState(null),[v,y]=j.useState(!1),S=()=>{e&&n(!1),h(!0),i5().then(P=>{h(!1);const k=[];Object.entries(P).map(L=>k.push({id:L[0],data:L[1]})),i(k)})};return j.useEffect(S,[e]),j.useEffect(()=>{JC.categoryList=r},[r]),x.jsxs("div",{className:"tasks",children:[x.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-[10px]",children:[c?x.jsx("span",{className:"loading loading-spinner loading-lg text-primary"}):x.jsx(x.Fragment,{children:r.map((P,k)=>x.jsx(f5,{category:P,categories:{categories:r,setCategories:i},refreshComponent:{refreshComponent:v,setRefreshComponent:y}},k))}),s?x.jsx(d5,{categories:{categories:r,setCategories:i},handles:{cancel:()=>l(!1)}}):x.jsx("div",{className:"card card-compact glass h-min",children:x.jsx("div",{className:"card-body",children:x.jsx("button",{className:"btn justify-start w-full",onClick:()=>l(!0),children:"+ New list"})})})]}),x.jsx(p5,{...d,close:()=>p(null)})]})},m5=()=>x.jsx(Ui,{text:"404"}),_5=({children:t,refresh:e})=>x.jsxs("div",{className:"px-4 my-0 mx-auto",children:[x.jsxs(rF,{children:[x.jsx(am,{path:"/",element:x.jsx(g5,{refresh:e})}),x.jsx(am,{path:"*",element:x.jsx(m5,{})})]}),t]}),v5=({setCurrentUser:t,refresh:e})=>{const n=z4(),r=()=>{B9().then(()=>{t(null),n("/")})},i=()=>{n("/"),e()};return x.jsxs("div",{className:"navbar",children:[x.jsx("div",{className:"flex-1",children:x.jsx("a",{onClick:i,className:"btn btn-ghost text-xl",children:"Task-manager"})}),x.jsx("div",{className:"flex-none",children:x.jsxs("div",{className:"dropdown dropdown-end",children:[x.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:x.jsx("div",{className:"w-10 rounded-full",children:x.jsx("img",{alt:"Tailwind CSS Navbar component",src:Sf().photoURL})})}),x.jsx("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-neutral rounded-box w-52 glass",children:x.jsx("li",{children:x.jsx("a",{onClick:r,children:"Logout"})})})]})})]})},y5=({children:t})=>x.jsx("header",{className:"w-full p-0 bg-neutral text-neutral-content glass z-[10] relative",children:x.jsx("div",{className:"flex justify-between",children:t})}),w5=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(!1),i=Sf();return!ye.isEmpty(i)&&ye.isEmpty(t)&&e(i),x.jsx("div",{className:"app"+(GE.isEmpty(t)?" login":"")+" min-h-screen h-full bg-neutral",children:GE.isEmpty(t)?x.jsx(z9,{setCurrentUser:e}):x.jsxs(x.Fragment,{children:[x.jsx(y5,{children:x.jsx(v5,{setCurrentUser:e,refresh:()=>r(!0)})}),x.jsx("div",{className:"w-full py-8",children:x.jsx(_5,{refresh:{appRefresh:n,setAppRefresh:r}})})]})})};dg.createRoot(document.getElementById("root")).render(x.jsx(sF,{basename:"task-manager-ui",children:x.jsx(w5,{})}));
